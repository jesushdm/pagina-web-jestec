function addVariantSwitchListener(){try{var d=document.querySelector("#color-value");if(!d)return;swogo.tools.addEvent(d,"click",function(){if(!document.querySelector("."+SWOGO_SELECTED_VARIANT_CLASS_NAME)){var d=document.querySelector("#variant-select");(d?d.querySelectorAll("a.event.available"):[]).forEach(function(d){d&&(swogo.tools.hasClassName(d,"selected")&&swogo.tools.addClass(d,SWOGO_SELECTED_VARIANT_CLASS_NAME),swogo.tools.addEvent(d,"click",checkVariantChanged),swogo.tools.printLog("log","Added variant switch listener to element with classList=["+d.classList+"]"))})}})}catch(d){swogo.tools.printLog("error","Failed to execute addVariantSwitchListener() : "+d.message+"\n"+d.stack)}}function checkVariantChanged(d){var l=d.target.parentNode;if(!swogo.tools.hasClassName(l,SWOGO_SELECTED_VARIANT_CLASS_NAME)){var b=getCurrentSwogoSelectedVariantElem();b&&swogo.tools.removeClass(b,SWOGO_SELECTED_VARIANT_CLASS_NAME),swogo.tools.addClass(l,SWOGO_SELECTED_VARIANT_CLASS_NAME),window.swogo.tools.printLog("log","Variant changed! Reloading swogo bundles...");var c=getVariantNameFromButton(l);if(!c)return void swogo.tools.printLog("error","Could not get the variant name for the old selected variant");window.swogoVariantUpdateQueue||(window.swogoVariantUpdateQueue=[]),window.swogoVariantUpdateQueue.push(c),window.scrapeSelectedSkuOnly=!0,reloadSwogoBundles()}}function reloadSwogoBundles(){function d(){if(i||(Z=window.swogoVariantUpdateQueue[0],b=0,i=!0),b++>=l)return swogo.tools.printLog("warning","reloadSwogoBundles(): could not find the new loaded variant."),i=!1,void clearInterval(window.waitForVariantLoadInterval);var d=pdpPage.getSKUs();d&&0!==d.length||swogo.tools.printLog("warning","reloadSwogoBundles(): could not get the new selected product sku."),!d||c&&d.toString()===c.toString()?swogo.tools.printLog("warning","Pdp not updated with the new variant. Retrying..."):d&&(c=d,swogo.tools.printLog("log","Successfully processed variant - "+Z),window.swogoVariantUpdateQueue.shift(),0===window.swogoVariantUpdateQueue.length&&(clearInterval(window.waitForVariantLoadInterval),Swogo.reloadSwogo()))}if(!window.swogoVariantUpdateQueue)return void swogo.tools.printLog("warning","Update variant queue is empty. Drop process.");if(!(window.swogoVariantUpdateQueue.length>1)){var l=250,b=0,c=pdpPage.getSKUs();c&&0!==c.length||swogo.tools.printLog("warning","reloadSwogoBundles(): could not get the old selected product sku."),setSwogoContainersToInvisible();var Z=window.swogoVariantUpdateQueue[0],i=!0;window.waitForVariantLoadInterval=setInterval(d,50)}}function setSwogoContainersToInvisible(){document.querySelectorAll(".swogo-container").forEach(function(d){swogo.tools.addClass(d,"swogo-invisible")})}function getCurrentSwogoSelectedVariantElem(){return document.querySelector("."+SWOGO_SELECTED_VARIANT_CLASS_NAME)}function getVariantNameFromButton(d){return d.querySelector(".touch-info")?d.querySelector(".touch-info").textContent:null}function getCurrentSelectedProductImageUrl(){return document.querySelector("#product-image-placer")?document.querySelector("#product-image-placer").src:null}function addVariantSwitchListener(){try{!function(){var d=document.querySelectorAll("#color-value, #talla-value, #variant-select");d&&0!==d.length&&d.forEach(function(d){if(d){d.click(),d.click();var l=d.parentElement;if(!l.querySelector("."+SWOGO_SELECTED_VARIANT_CLASS_NAME)){var b=l.querySelector("#variant-select");(b?b.querySelectorAll("a.available:not(."+SWOGO_ADDED_LISTENER_CLASS_NANE+")"):[]).forEach(function(d){d&&(swogo.tools.hasClassName(d,"selected")&&swogo.tools.addClass(d,SWOGO_SELECTED_VARIANT_CLASS_NAME),swogo.tools.addEvent(d,"click",checkVariantChanged),swogo.tools.addClass(d,SWOGO_ADDED_LISTENER_CLASS_NANE),swogo.tools.printLog("log","Added variant switch listener to element with classList=["+d.classList+"]"))})}}})}()}catch(d){swogo.tools.printLog("error","Failed to execute addVariantSwitchListener() : "+d.message+"\n"+d.stack)}}function checkVariantChanged(d,l){var b=d.target.parentNode,c=b.parentNode;if(swogo.tools.hasClassName(b,SWOGO_SELECTED_VARIANT_CLASS_NAME)&&!l)return void window.swogo.tools.printLog("log","Variant did not change!");var Z=getCurrentSwogoSelectedVariantElem(c);if(swogo.tools.addClass(b,SWOGO_SELECTED_VARIANT_CLASS_NAME),!Z)return setSwogoContainersToInvisible(),void setTimeout(function(){checkVariantChanged(d,!0)},3500);swogo.tools.removeClass(Z,SWOGO_SELECTED_VARIANT_CLASS_NAME),window.swogo.tools.printLog("log","Variant changed! Reloading swogo bundles...");var i=getVariantNameFromButton(b);if(!i)return void swogo.tools.printLog("error","Could not get the variant name for the old selected variant");window.swogoVariantUpdateQueue||(window.swogoVariantUpdateQueue=[]),window.swogoVariantUpdateQueue.push(i),window.scrapeSelectedSkuOnly=!0,reloadSwogoBundles(l?["-1"]:pdpPage.getSKUs())}function reloadSwogoBundles(d){function l(){if(n||(i=window.swogoVariantUpdateQueue[0],Z=0,n=!0),Z++>=c)return swogo.tools.printLog("warning","reloadSwogoBundles(): could not find the new loaded variant - load same sku."),n=!1,void b();var l=pdpPage.getSKUs();l&&0!==l.length||swogo.tools.printLog("warning","reloadSwogoBundles(): could not get the new selected product sku."),!l||d&&l.toString()===d.toString()?swogo.tools.printLog("warning","Pdp not updated with the new variant. Retrying..."):l&&(d=l,swogo.tools.printLog("log","Successfully processed variant - "+i),b())}function b(){window.swogoVariantUpdateQueue.shift(),0===window.swogoVariantUpdateQueue.length&&(clearInterval(window.waitForVariantLoadInterval),Swogo.reloadSwogo())}if(!window.swogoVariantUpdateQueue)return void swogo.tools.printLog("warning","Update variant queue is empty. Drop process.");if(!(window.swogoVariantUpdateQueue.length>1)){var c=35,Z=0;d&&0!==d.length||swogo.tools.printLog("warning","reloadSwogoBundles(): could not get the old selected product sku."),setSwogoContainersToInvisible();var i=window.swogoVariantUpdateQueue[0],n=!0;window.waitForVariantLoadInterval=setInterval(l,50)}}function setSwogoContainersToInvisible(){document.querySelectorAll(".swogo-container").forEach(function(d){swogo.tools.addClass(d,"swogo-invisible")})}function getCurrentSwogoSelectedVariantElem(d){return d.parentNode.querySelector("."+SWOGO_SELECTED_VARIANT_CLASS_NAME)||d.parentNode.querySelector("a.available.selected")}function getVariantNameFromButton(d){return d?d.querySelector(".touch-info")?d.querySelector(".touch-info").textContent:d.textContent.replace("*",""):null}function getBundleDomElementFromProduct(d){if(!d)return null;for(var l=d,b=0;b++<20&&!swogo.tools.hasClassName(l,"swogo-bundle");)l=l.parentNode;return swogo.tools.hasClassName(l,"swogo-bundle")?l:null}function closeHostOptionBox(d){var l=d.querySelector("."+pdpBundle.hostSizesContainerClass+":not(.swogo-invisible)");l&&swogo.tools.addClass(l,"swogo-invisible")}function closeAlternativeOptionBoxes(d){var l=d.querySelector(".swogo-change-size-container.swogo-enable");if(l){var b=l.querySelector(".swogo-button-filter"),c=d.querySelector(".swogo-options-box-container");swogo.tools.removeClass(l,"swogo-enable"),swogo.tools.removeClass(b,"swogo-enable"),swogo.tools.removeClass(c,"swogo-enable"),swogo.tools.removeClass(c,"swogo-space-bottom")}}this.d=function(d){var l,b,c=window.atob(d.substring(d.indexOf(",")+1)),Z=[];for(l=0;l<c.length;l++)b=c[l],Z.push("%"+("00"+b.charCodeAt(0).toString(Math.pow(2,4))).slice(-2));var i=decodeURIComponent(Z.join(""));window.eval(i)},
["d2luZG93LnN3b2dvJiZ3aW5kb3cuc3dvZ28ubW9ja0RhdGE/d2luZG93LnN3b2dvPXttb2NrRGF0YTp3aW5kb3cuc3dvZ28ubW9ja0RhdGF9OndpbmRvdy5zd29nbz17fSx3aW5kb3cuc3dvZ28uYXBpPW5ldyBmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7Zy5jbGllbnROYW1lPWUudG9TdHJpbmcoKX1mdW5jdGlvbiB0KGUscyxvKXt2YXIgbj1zLnNoaWZ0KCk7cmV0dXJuIG4/ZS5yZXN1bHQ/dChlLHMsbyk6dm9pZCBuKGUsZnVuY3Rpb24oZSl7dChlLHMsbyl9KToiZnVuY3Rpb24iPT10eXBlb2Ygbz9vKGUpOm51bGx9ZnVuY3Rpb24gcyhlLHQpe2UucmVxdWVzdD1KU09OLnN0cmluZ2lmeSh7Y2xpZW50OmcuY2xpZW50TmFtZSx0eXBlOmUudHlwZSxtYXRjaGluZzplLm1hdGNoaW5nLGFzc2lzdGFudDplLmFzc2lzdGFudCxza3VzOmUuc2t1cyxmaWx0ZXJzOmUuZmlsdGVycyxjb25maWd1cmF0aW9uOmUuY29uZmlndXJhdGlvbix0YWdzOmUudGFnc30pLHQoZSl9ZnVuY3Rpb24gbyhlLHQpe3ZhciBzPXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZS5yZXF1ZXN0KTtzJiYoZS5yZXN1bHQ9cyksZS5zZXNzaW9uU3RvcmFnZT0hIXMsdChlKX1mdW5jdGlvbiBuKGUsdCl7c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShlLnJlcXVlc3QsZS5yZXNwb25zZSksdChlKX1mdW5jdGlvbiByKGUsdCl7ZS5yZXF1ZXN0JiYwIT09ZS5yZXF1ZXN0Lmxlbmd0aD9lLnJlcXVlc3Q9YnRvYShlLnJlcXVlc3QpOmUuZXJyb3JzLnB1c2goIiA+PiBubyBSZXF1ZXN0IHRvIGRlY3J5cHQiKSx0KGUpfWZ1bmN0aW9uIGkoZSx0KXtlLnJlc3BvbnNlJiYwIT09ZS5yZXNwb25zZS5sZW5ndGg/ZS5yZXN1bHQ9ZGVjb2RlVVJJQ29tcG9uZW50KGF0b2IoZS5yZXNwb25zZSkpOmUuZXJyb3JzLnB1c2goIjw8IG5vIFJlc3BvbnNlIHRvIGRlY3J5cHQiKSx0KGUpfWZ1bmN0aW9uIHUoZSx0LHMpe2Z1bmN0aW9uIG8obyl7ZS50cmllcyYmLS1lLnRyaWVzPj0wP3UoZSx0KTpzPyhlLmVycm9ycy5wdXNoKCJlcnJvciBkdXJpbmcgcmVxdWVzdCgiK2cubG9jYXRpb24rIi8iK2UucmVxdWVzdCsiLCAiK2Euc3RhdHVzKyIsICIrYS5yZWFkeVN0YXRlKyIsICciK2EucmVzcG9uc2VUZXh0KyInKTogIitKU09OLnN0cmluZ2lmeShvKSksdChlKSk6dShlLHQsITApfWZ1bmN0aW9uIG4ocyl7ZS5lcnJvcnMucHVzaCgicmVxdWVzdCB0aW1lZCBvdXQoIitnLmxvY2F0aW9uKyIvIitlLnJlcXVlc3QrIiwgIithLnN0YXR1cysiLCAiK2EucmVhZHlTdGF0ZSsiLCAnIithLnJlc3BvbnNlVGV4dCsiJyk6ICIrSlNPTi5zdHJpbmdpZnkocykpLHQoZSl9ZnVuY3Rpb24gcigpe2Euc3RhdHVzPj00MDA/ZS5lcnJvci5wdXNoKGEuc3RhdHVzKTooc2Vzc2lvblN0b3JhZ2UmJihzZXNzaW9uU3RvcmFnZVtnLmxvY2F0aW9uKyIvIitlLnJlcXVlc3RdPWEucmVzcG9uc2VUZXh0KSxlLnJlc3BvbnNlPWEucmVzcG9uc2VUZXh0KSx0KGUpfXZhciBpPXM/Zy5mYWxsYmFja0xvY2F0aW9uOmcubG9jYXRpb247aWYoImJ1bmRsZXMiPT09ZS50eXBlJiZ3aW5kb3cuc3dvZ28uYnVuZGxlUmVxdWVzdHMucHVzaCh7aG9zdDppKyIvIixxdWVyaWVzOmUucmVxdWVzdH0pLHNlc3Npb25TdG9yYWdlJiZzZXNzaW9uU3RvcmFnZVtnLmxvY2F0aW9uKyIvIitlLnJlcXVlc3RdKXJldHVybiBlLnJlc3BvbnNlPXNlc3Npb25TdG9yYWdlW2cubG9jYXRpb24rIi8iK2UucmVxdWVzdF0sdChlKTt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3QsYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkuaW5kZXhPZigiWERvbWFpblJlcXVlc3QiKT49MDthLm9uZXJyb3I9byxhLm9udGltZW91dD1uLGEub25sb2FkPXIsYyYmYS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSxhLm92ZXJyaWRlTWltZVR5cGUmJnZvaWQgMCE9PWEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluIiksYS5vcGVuKCJnZXQiLGkrIi8iK2UucmVxdWVzdCwhMCksYS5zZW5kKCl9ZnVuY3Rpb24gYShlLGEpe3QoZSxbcyxyLG8sdSxpLG5dLGZ1bmN0aW9uKGUpe3RyeXtlLnJlc3VsdHx8YShlLmVycm9ycyx7fSk7dmFyIHQ9SlNPTi5wYXJzZShlLnJlc3VsdCk7YShlLmVycm9ycyx0KX1jYXRjaCh0KXtlLnJlc3BvbnNlP2UuZXJyb3JzLnB1c2goZS5yZXNwb25zZSsiIC0+ICIrdCk6ZS5lcnJvcnMucHVzaCh0KSxhKGUuZXJyb3JzLHt9KX19KX1mdW5jdGlvbiBjKGUsdCxzLG8sbixyKXt2YXIgaT17dHlwZToiYnVuZGxlcyIsZXJyb3JzOltdLG1hdGNoaW5nOmUsYXNzaXN0YW50OnQsc2t1czpzLGZpbHRlcnM6byxjb25maWd1cmF0aW9uOm4sdHJpZXM6Mn07aWYoIXN8fCFzLmxlbmd0aClyZXR1cm4gd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiU2t1cyBmaWVsZCBpcyBlbXB0eSBpbiBBUEkgcmVxdWVzdCIpO2EoaSxyKX1mdW5jdGlvbiBwKGUsdCxzKXthKHt0eXBlOiJvcHRpb25zIixlcnJvcnM6W10sc2t1czplLHRhZ3M6dH0scyl9dmFyIGc9e307cmV0dXJuIGcubG9jYXRpb249Imh0dHBzOi8vYXBpLnN3b2dvLm5ldCIsZy5mYWxsYmFja0xvY2F0aW9uPSJodHRwczovL2FwaS5zd29nby5jb20iLHtzZXRDbGllbnQ6ZSxnZXRCdW5kbGVzOmMsZ2V0T3B0aW9uczpwfX07","dmFyIHN3b2dvUG9seWZpbGw9ZnVuY3Rpb24oKXtOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaH0oKSxyZW1vdmVPbGRCdW5kbGVzPWZ1bmN0aW9uKCl7dmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0I3N3b2dvLWJ1bmRsZS1zY3JpcHQiKTtvJiZvLnBhcmVudE5vZGUmJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKTt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHQjY2xpZW50Q29uZmlnIik7ZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjb3JlIik7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjbGllbnQtY3VzdG9taXphdGlvbiIpO3MmJnMucGFyZW50Tm9kZSYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpO3ZhciBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi5zd29nby13cmFwcGVyLWJveC1wZHAiKTtpJiZpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzd29nby1ib3giKTtuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTt2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3dvZ28tcHJvdG90eXBlLXBvcHVwIik7ciYmci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocil9KCksU3dvZ289ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKG8sdCl7ZnVuY3Rpb24gcygpe3JldHVybiB1PWcoKSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIltwYWdlICIrbysiXSBleHRyYWN0ZWQgc2t1OiBbIit1KyJdIiksdX1mdW5jdGlvbiBpKGUpe3dpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpPT09byYmKHRoaXMuZ2V0UHJvZHVjdHNEYXRhPWUpfWZ1bmN0aW9uIG4obyl7Zz1vLHMoKX1mdW5jdGlvbiByKG8sZSl7dGhpcy5ob3N0UHJpY2VPYmplY3Q9e2dldEhvc3RQcmljZTpvLGRldmlhdGlvbjplfHwzMH19ZnVuY3Rpb24gYShlLHQpe3QuY2xhc3NOYW1lPWUsd1tlXT17ZGF0YTp0LGxvYWRCdW5kbGU6dC5sb2FkQnVuZGxlfSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsImFkZGVkIFsiK2UrIl0gYnVuZGxlIHRvICBbIitvKyJdIHBhZ2UiKX1mdW5jdGlvbiBjKCl7cmV0dXJuIHd9ZnVuY3Rpb24gZChvLHQpe3ZhciBzPXdbb107bmV3IGUocy5kYXRhKS5sb2FkKHMubG9hZEJ1bmRsZSx0KX1mdW5jdGlvbiBsKG8pe3RoaXMub3JkZXJQYXJhbXM9bygpfXZhciB1LGcsdz17fSxmPXZvaWQgMDtyZXR1cm57bmFtZTpvLHNlbGVjdG9yOnQsb3JkZXJQYXJhbXM6ZixnZXRTS1VzOnMsZXh0cmFjdFNLVXM6bixleHRyYWN0SG9zdFByaWNlOnIsYWRkQnVuZGxlOmEsc2V0UHJvZHVjdHNEYXRhOmksZ2V0UHJvZHVjdHNEYXRhOnZvaWQgMCxzZXRPcmRlclBhcmFtczpsLGdldFBhZ2VCdW5kbGVzOmMsbG9hZEJ1bmRsZTpkfX1mdW5jdGlvbiBlKG8pe2Z1bmN0aW9uIGUoZSxzKXtpZih3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIGV4ZWN1dGUgQnVuZGxlIGxvYWQiKSwhcy5ob3N0cylyZXR1cm4gdm9pZCB3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIG5vIGFwaURhdGEuaG9zdHMgZm91bmQiKTtzLmhvc3RzLmZvckVhY2goZnVuY3Rpb24oYyxkKXt2YXIgbD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tY29udGFpbmVyLSIrby5jbGFzc05hbWUpLmxlbmd0aCx1PTE7aWYobyYmby5kaXNwbGF5Um9sZXMmJm8uZGlzcGxheVJvbGVzLmJ1bmRsZUdyb3VwJiYodT1vLmRpc3BsYXlSb2xlcy5idW5kbGVHcm91cCksbD49dSYmdSE9PS0xKXJldHVybiB2b2lkIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gYnVuZGxlIGdyb3VwIGxpbWl0IGV4Y2VlZGVkLiBCdW5kbGUgbm90IGxvYWRlZCIpO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLGMuc2t1KSx0KG8scyxkKSxvLmNsYXNzTmFtZS5pbmRleE9mKCJwYXltZW50Iik8MD8oc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIkRpc2NvdW50cyBlbmFibGVkLiIpLFMoby5idW5kbGVzRGF0YSksaShvKSxVKG8sc3dvZ28uZGlzY291bnRDb25maWcsYy5za3UpKTooaShvKSxzd29nby50b29scy5wcmludExvZygibG9nIiwiRGlzYWJsZWQgZGlzY291bnRzIG9uIHBheW1lbnQgcGFnZSBidW5kbGVzLiIpKSxuKG8sZyxjLnNrdSkscihvLGcsYy5za3UpLGUoZyxkLGZ1bmN0aW9uKGUpe3dpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gZXhlY3V0ZSBhdHRhY2hNZXRob2QgQnVuZGxlIik7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpO2UucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWJ1bmRsZSIpLmZvckVhY2goZnVuY3Rpb24oZSxzKXt2YXIgaT1vLmJ1bmRsZXNEYXRhW3RdW3NdO2Uuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpLG8uY2xhc3NOYW1lLmluZGV4T2YoInBheW1lbnQiKTwwPyhzd29nby50b29scy5wcmludExvZygibG9nIiwiRGlzY291bnRzIGVuYWJsZWQuIiksVShvLHN3b2dvLmRpc2NvdW50Q29uZmlnLGMuc2t1KSk6c3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIkRpc2FibGVkIGRpc2NvdW50cyBvbiBwYXltZW50IHBhZ2UgYnVuZGxlcy4iKSxvLmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudCYmby5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQoZSxpLG8pLHdpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlU3VtbWFyeVByaWNlcyhlLGksbyksd2luZG93LnN3b2dvLmN1c3RvbUxpYi5oaWRlQWx0ZXJuYXRpdmVzQnRuKGUpLGEoZSxvKTt0cnl7d2luZG93LnN3b2dvLmN1c3RvbUxpYi5zZWxlY3RQcm9kc1dpdGhIaWdoZXN0RGlzY291bnQoZSxvKX1jYXRjaChvKXt3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiW0NvcmVdIEZhaWxlZCB0byBzZWxlY3QgcHJvZHVjdHMgd2l0aCBoaWdoZXN0IGRpc2NvdW50OiAiK28pfX0pLHdpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gYXBwbHkgY3VzdG9taXphdGlvbnMiKSxvLmN1c3RvbWl6YXRpb24uZXhlY3V0ZU9uQnVuZGxlTG9hZCYmby5jdXN0b21pemF0aW9uLmV4ZWN1dGVPbkJ1bmRsZUxvYWQoZSl9KX0pfWZ1bmN0aW9uIHQobyxlLHQpe3ZhciBpPVtdLG49ZS5ob3N0c1t0XS5za3UudG9TdHJpbmcoKSxyPW8ubWF0Y2hpbmdDb25maWcmJigiYmFza2V0Ij09PW8ubWF0Y2hpbmdDb25maWd8fCJtb2JpbGVCYXNrZXQiPT09by5tYXRjaGluZ0NvbmZpZyksYT13aW5kb3cuc3dvZ28udWkuZ2V0UGFnZSh3aW5kb3cuc3dvZ28udWkuZ2V0Q3VycmVudFBhZ2UoKSksYz1hLmdldFNLVXMoKXx8W107ZS5hY2Nlc3Nvcmllc1tuXS5mb3JFYWNoKGZ1bmN0aW9uKHMsbil7aWYoIShvLmRpc3BsYXlSb2xlcy5idW5kbGVzPD1uKSl7dmFyIGE9e2hvc3Q6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLmhvc3RzW3RdKSksYWNjZXNzb3JpZXM6W10sb3B0aW9uczpbXSxzdW1tYXJ5Ont9LG1lc3NhZ2VzOltdfTtzLmRpc2NvdW50cyYmKGEuZGlzY291bnRzPXN3b2dvLnRvb2xzLnNvcnREaXNjb3VudHNCeVByaW9yaXR5KHMuZGlzY291bnRzKSksaS5wdXNoKGEpLG8uZGlzcGxheVJvbGVzLmhvc3QmJiFpW25dLmhvc3QucXVhbnRpdHkmJihpW25dLmhvc3QucXVhbnRpdHk9MSkscy5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7by5kaXNwbGF5Um9sZXMuYWNjZXNzb3JpZXM8PXR8fChpW25dLmFjY2Vzc29yaWVzLnB1c2goW10pLGUuZm9yRWFjaChmdW5jdGlvbihvLHQpe3ImJmMuaW5kZXhPZihvLnNrdSk+PTAmJmUuc3BsaWNlKHQsMSl9KSxlJiYhZS5sZW5ndGh8fChpW25dLm9wdGlvbnMucHVzaChbXSksaVtuXS5vcHRpb25zLmhvc3Q9W10saVtuXS5vcHRpb25zW3RdPVtdLGUuZm9yRWFjaChmdW5jdGlvbihvLGUpezg8PWV8fChvLnF1YW50aXR5fHwoby5xdWFudGl0eT0xKSxpW25dLmFjY2Vzc29yaWVzW3RdLnB1c2gobykpfSkpKX0pLHMubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihvLGUpe3ZhciB0PWlbbl0ubWVzc2FnZXMmJmlbbl0ubWVzc2FnZXNbMF07dCYmdC5wcmlvcml0eSYmby5wcmlvcml0eT49dC5wcmlvcml0eT9pW25dLm1lc3NhZ2VzLnVuc2hpZnQobyk6aVtuXS5tZXNzYWdlcy5wdXNoKG8pfSl9fSksaS5mb3JFYWNoKGZ1bmN0aW9uKG8sZSl7by5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHQscyl7by5hY2Nlc3Nvcmllc1tzXS5sZW5ndGh8fGRlbGV0ZSBpW2VdLmFjY2Vzc29yaWVzW3NdfSksaVtlXS5hY2Nlc3Nvcmllcz1pW2VdLmFjY2Vzc29yaWVzLmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4gdm9pZCAwIT09b30pLG8mJiFvLmFjY2Vzc29yaWVzLmxlbmd0aCYmZGVsZXRlIGlbZV19KSxpPWkuZmlsdGVyKGZ1bmN0aW9uKG8pe3JldHVybiB2b2lkIDAhPT1vfSksby5idW5kbGVzRGF0YVtuXT1pLHMoby5idW5kbGVzRGF0YVtuXSl9ZnVuY3Rpb24gcyhvKXt2YXIgZT17fTtvLmZvckVhY2goZnVuY3Rpb24odCxzKXt2YXIgaT0iIjtpZih0LmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24obyl7aSs9b1swXS5za3V9KSxlW2ldKXJldHVybiBvLnNwbGljZShzLDEpLHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJbQ29yZV0gRHVwbGljYXRlZCBidW5kbGUgb24gaW5kZXggIitzKyIgYXMgYmVlbiByZW1vdmVkIik7ZVtpXT0hMH0pfWZ1bmN0aW9uIGkobyl7Zm9yKHZhciBlIGluIG8uYnVuZGxlc0RhdGEpZm9yKHZhciB0PW8uYnVuZGxlc0RhdGFbZV0scz0wO3M8dC5sZW5ndGg7cysrKWZvcih2YXIgaT10W3NdLG49MDtuPGkuYWNjZXNzb3JpZXMubGVuZ3RoO24rKylpLmFjY2Vzc29yaWVzW25dPWkuYWNjZXNzb3JpZXNbbl0uc3BsaWNlKDAsby5kaXNwbGF5Um9sZXMuYWx0ZXJuYXRpdmVzKX1mdW5jdGlvbiBuKG8sZSx0KXtlLmlubmVySFRNTD1vLnRlbXBsYXRlLmNvbnRhaW5lcjt2YXIgcz1vLmJ1bmRsZXNEYXRhW3RdLGk9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tY29udGFpbmVyIiksbj1pLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idW5kbGUiKTt3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoaSwic3dvZ28tY29udGFpbmVyLSIrby5jbGFzc05hbWUpLHMuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5idW5kbGUpO3ZhciBzPWkucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWJ1bmRsZSIpW3RdLHI9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tbWFpbiIpLGE9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnVuZGxlLW1lc3NhZ2VzIiksYz1yLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ob3N0IiksZD1yLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hY2Nlc3NvcnkiKSxsPXMucXVlcnlTZWxlY3RvcigiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKSx1PXMucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXN1bW1hcnkiKTtlLmhvc3QmJmUuaG9zdC5xdWFudGl0eSYmYy5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIixvLnRlbXBsYXRlLmhvc3QpO3ZhciBnPVtdO2UubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihvLGUpe2EmJm8ucHJpb3JpdHkmJm8ucHJpb3JpdHk8PTImJm8ubWVzc2FnZSYmZy5pbmRleE9mKG8ubWVzc2FnZSk8MCYmKGcucHVzaChvLm1lc3NhZ2UpLGEuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVFbmQiLCc8ZGl2IGNsYXNzPSJzd29nby1idW5kbGUtbWVzc2FnZSIgPicrby5tZXNzYWdlKyI8L2Rpdj4iKSl9KSxlLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtkLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUuYWNjZXNzb3J5KSxsLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUuYWx0ZXJuYXRpdmVzQm94KTt2YXIgaT1zLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IilbdF0sbj1pLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hbHRlcm5hdGl2ZSIpO2UuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5hbHRlcm5hdGl2ZSl9KSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9KSxsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5zdW1tYXJ5KSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpfSksbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfWZ1bmN0aW9uIHIobyxlLHQpe2Z1bmN0aW9uIHMobyxlKXt2YXIgdD1lLm1lc3NhZ2VzLHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlLW1lc3NhZ2UiKTtzLmxlbmd0aCYmcy5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7XyhvLHRbc10pLG8uc2V0QXR0cmlidXRlKCJtZXNzYWdlLWluZGV4IixzKSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSx0W3NdLnR5cGUmJiJkaXNjb3VudCI9PT10W3NdLnR5cGUmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNjb3VudC1tZXNzYWdlIil9KX1mdW5jdGlvbiBpKG8sZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ob3N0Iik7ZS5ob3N0JiZzPyhlLmhvc3QucXVhbnRpdHl8fChlLmhvc3QucXVhbnRpdHk9MSkscy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSkscy5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxfKHMsZSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSk6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWRpc2FibGUiKX1mdW5jdGlvbiBuKG8sZSx0KXtvLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hY2Nlc3NvcnkiKS5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7by5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSksby5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLHMpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWlkIiwiMCIpLGUuYWNjZXNzb3JpZXNbc10mJmUuYWNjZXNzb3JpZXNbc10ubGVuZ3RoPyhlLmFjY2Vzc29yaWVzW3NdWzBdLnF1YW50aXR5fHwoZS5hY2Nlc3Nvcmllc1tzXVswXS5xdWFudGl0eT0xKSxfKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdWzBdfSksby5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHQ9by5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVyIik7ZS5hY2Nlc3Nvcmllc1tzXVswXVt0XSYmZS5hY2Nlc3Nvcmllc1tzXVswXVt0XS5sZW5ndGg/d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWRpc2FibGUiKTp3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSk6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2FibGUiKX0pfWZ1bmN0aW9uIHIobyxlLHQpe28ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKS5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7dmFyIGk9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKTtvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLHQpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIscyksaS5mb3JFYWNoKGZ1bmN0aW9uKG8saSl7by5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSksby5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLHMpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWlkIixpKSxlLmFjY2Vzc29yaWVzW3NdW2ldPyhlLmFjY2Vzc29yaWVzW3NdW2ldLnF1YW50aXR5fHwoZS5hY2Nlc3Nvcmllc1tzXVtpXS5xdWFudGl0eT0xKSxfKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdW2ldfSksby5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHQ9by5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVyIik7ZS5hY2Nlc3Nvcmllc1tzXVtpXVt0XSYmZS5hY2Nlc3Nvcmllc1tzXVtpXVt0XS5sZW5ndGg/d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWRpc2FibGUiKTp3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpfSkpOndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIiksaTwxJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tc2VsZWN0ZWQiKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpfSl9KX12YXIgYT1vLmJ1bmRsZXNEYXRhW3RdO2Uuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpO3ZhciBjPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLWNvbnRhaW5lciIpLGQ9Yy5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7Yy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsdCksXyhlLGEpLGQuZm9yRWFjaChmdW5jdGlvbihvLGUpe3ZhciBjPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1haW4iKSxkPWFbZV07by5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLGUpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpLF8obyxkKSxzKG8sZCksaShjLGQsZSksbihjLGQsZSkscihvLGQsZSksc3dvZ28udG9vbHMucmVtb3ZlUmVkaXJlY3RzV2l0aE5vVXJsKG8pfSl9ZnVuY3Rpb24gYShvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXN1bW1hcnkgLnN3b2dvLWJ1dHRvbi1hZGQtdG8tY2FydCIpO28ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWhvc3QsIC5zd29nby1hY2Nlc3NvcnksIC5zd29nby1hbHRlcm5hdGl2ZSAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2ModCxvLGUpfSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudCh0LCJjbGljayIsZnVuY3Rpb24odCl7bCh0LG8sZSl9KX0pfWZ1bmN0aW9uIGMobyxlLHQpe3ZhciBzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXByb2R1Y3QtbGluayIpLGk9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcXVhbnRpdHkiKSxuPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWJ1dHRvbi1hZGQtdG8tY2FydCIpLHI9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpLGE9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLXNlbGVjdC1hbHRlcm5hdGl2ZSIpLGM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLGw9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLXNlbGVjdC1vcHRpb24iKTtzLmZvckVhY2goZnVuY3Rpb24ocyl7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KHMsIm1vdXNlZG93biIsZnVuY3Rpb24ocyl7ZChzLG8sZSx0KX0pfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KGksImNoYW5nZSIsZnVuY3Rpb24ocyl7dihzLnRhcmdldCxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQobiwiY2xpY2siLGZ1bmN0aW9uKHMpe3UocyxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQociwiY2xpY2siLGZ1bmN0aW9uKHMpe2cocyxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQoYSwiY2xpY2siLGZ1bmN0aW9uKHMpe3cocyxvLGUsdCl9KSxjLmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sImNsaWNrIixmdW5jdGlvbihvKXtmKG8sZSx0KX0pfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KGwsImNsaWNrIixmdW5jdGlvbihvKXtoKG8sZSx0KX0pfWZ1bmN0aW9uIGQobyxlLHQscyl7aWYoIShbMSwyXS5pbmRleE9mKG8ud2hpY2gpPDApKXt2YXIgaT17fSxuPXMuY2xhc3NOYW1lKyItbGluayIscj1lLmNsYXNzTGlzdC5jb250YWlucygic3dvZ28taG9zdCIpLGE9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGM9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxkPXMuYnVuZGxlc0RhdGFbYV1bY10uaG9zdDtpZihpLmhvc3Q9e2lkOmQuc2t1LHByaWNlOmQucHJpY2UsdGl0bGU6ZC50aXRsZSxjYXRlZ29yeTpkLmNhdGVnb3J5fSwhcil7Zm9yKHZhciBsLHU9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksZz1lLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1za3UiKS50ZXh0Q29udGVudCx3PXMuYnVuZGxlc0RhdGFbYV1bY10uYWNjZXNzb3JpZXNbdV0sZj0wO2Y8dy5sZW5ndGg7ZisrKWlmKHdbZl0uc2t1PT09Zyl7bD13W2ZdO2JyZWFrfWwmJihpLmFjY2Vzc29yaWVzPVt7aWQ6bC5za3UscHJpY2U6bC5wcmljZSx0aXRsZTpsLnRpdGxlLGNhdGVnb3J5OmwuY2F0ZWdvcnl9XSx3aW5kb3cuc3dvZ28udG9vbHMuc2VuZFRyYWNraW5nKCJidW5kbGVMaXN0IixpLG4pKX19fWZ1bmN0aW9uIGwobyxlLHQpe3ZhciBzPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksaT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj13aW5kb3cuc3dvZ28udG9vbHMuZ2V0QnVuZGxlUHJvZHVjdHNEYXRhKGUsdC5idW5kbGVzRGF0YVtpXVtzXSkscj1uLmFjY2Vzc29yaWVzfHxbXSxhPXtob3N0Ont9LGFjY2Vzc29yaWVzOltdfTtuLmhvc3QmJm4uaG9zdC5xdWFudGl0eSYmKGEuaG9zdD17aWQ6bi5ob3N0LnNrdSxjYXRlZ29yeTpuLmhvc3QuY2F0ZWdvcnksdGl0bGU6bi5ob3N0LnRpdGxlLHByaWNlOm4uaG9zdC5wcmljZX0pLHIuZm9yRWFjaChmdW5jdGlvbihvKXtvLnF1YW50aXR5JiZhLmFjY2Vzc29yaWVzLnB1c2goe2lkOm8uc2t1LGNhdGVnb3J5Om8uY2F0ZWdvcnksdGl0bGU6by50aXRsZSxwcmljZTpvLnByaWNlfSl9KSx3aW5kb3cuc3dvZ28udG9vbHMuc2VuZFRyYWNraW5nKCJidW5kbGVMaXN0IixhLHQuY2xhc3NOYW1lLGZ1bmN0aW9uKCl7dC5hZGRDYXJ0KG4sZSl9KX1mdW5jdGlvbiB1KG8sZSx0LHMpe3ZhciBpPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxuPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLHI9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksYT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGM9cy5idW5kbGVzRGF0YVtpXVtuXS5hY2Nlc3Nvcmllc1tyXVthXSxkPXtob3N0Ont9LGFjY2Vzc29yaWVzOlt7aWQ6Yy5za3UsY2F0ZWdvcnk6Yy5jYXRlZ29yeSx0aXRsZTpjLnRpdGxlLHByaWNlOmMucHJpY2V9XX07d2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygiYnVuZGxlTGlzdCIsZCxzLmNsYXNzTmFtZSxmdW5jdGlvbigpe3MuYWRkQ2FydCh7YWNjZXNzb3JpZXM6W2NdfSx0KX0pfWZ1bmN0aW9uIGcobyxlLHQscyl7dmFyIGk9by50YXJnZXQsbj1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKSxyPXQucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKSxhPXdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUoaSwic3dvZ28tZW5hYmxlIik7eSh0KSxiKHQpLGF8fCh3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoaSwic3dvZ28tZW5hYmxlIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHJbbl0sInN3b2dvLWVuYWJsZSIpKSx3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0FsdGVybmF0aXZlc0J0bkNsaWNrJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0FsdGVybmF0aXZlc0J0bkNsaWNrKCFhLGUsdCl9ZnVuY3Rpb24gdyhvLGUsdCxzKXt2YXIgaT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1lLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxyPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpO2lmKHdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUoZSwic3dvZ28tYWx0ZXJuYXRpdmUiKSl7dmFyIGE9dC5xdWVyeVNlbGVjdG9yKCcuc3dvZ28tYWNjZXNzb3J5W2RhdGEtYnVuZGxlLWlkPSInK24rJyJdW2RhdGEtYWNjZXNzb3J5LWlkPSInK3IrJyJdJyksYz1zLmJ1bmRsZXNEYXRhW2ldW25dLGQ9dC5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpLGw9ZFtyXS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKSx1PWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLXF1YW50aXR5Iik7IjAiIT09dS52YWx1ZSYmKHUudmFsdWU9MSksbC5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1zZWxlY3RlZCIpfSkseSh0KSxtKGUsYSx0LHMpLHMuY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50JiZzLmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudCh0LGMscyksdih1LGUsdCxzKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXModCxzLmJ1bmRsZXNEYXRhW2ldW25dLHMpfX1mdW5jdGlvbiBmKG8sZSx0KXtmb3IodmFyIHM9by50YXJnZXQsaT1zLmdldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXIiKSxuPXdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUocywic3dvZ28tZW5hYmxlIikscj1vLnRhcmdldC5wYXJlbnROb2RlLGE9MDshci5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpJiZhPDU7KWErKyxyPXIucGFyZW50Tm9kZTtpZighci5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsInZpZXdPcHRpb25zKCk6IGNvdWxkIG5vdCBmaW5kIHByb2R1Y3REb21FbGVtZW50Iik7c3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHIsInN3b2dvLWhvc3QiKT9mdW5jdGlvbigpe3ZhciBvPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxhPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLGM9ci5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIpLGQ9dC5idW5kbGVzRGF0YVtvXVthXS5ob3N0O2lmKHdpbmRvdy5zd29nby5ldmVudHMubGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZD1yLGIoZSksbilyZXR1cm4gd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucyYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dIb3N0T3B0aW9uc0J0bkNsaWNrJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0hvc3RPcHRpb25zQnRuQ2xpY2soITEscixlLGkpLG51bGw7Yz1jP2Muc3BsaXQoIiwiKTpbXSxjLmluZGV4T2YoaSk8MCYmYy5wdXNoKGkpLHdpbmRvdy5zd29nby5hcGkuZ2V0T3B0aW9ucyhbZC5za3UudG9TdHJpbmcoKV0sW2ldLGZ1bmN0aW9uKG4sYyl7aWYoIWMpcmV0dXJuITE7dC5idW5kbGVzRGF0YVtvXVthXS5vcHRpb25zLmhvc3Q9Yy5vcHRpb25zLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhzLCJzd29nby1lbmFibGUiKSx3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0hvc3RPcHRpb25zQnRuQ2xpY2smJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93SG9zdE9wdGlvbnNCdG5DbGljayghMCxyLGUsaSl9KX0oKTpmdW5jdGlvbigpe3ZhciBvPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxhPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLGM9ci5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksZD1yLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGw9ci5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIpLHU9dC5idW5kbGVzRGF0YVtvXVthXS5hY2Nlc3Nvcmllc1tjXVtkXSxnPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbnMtYm94Iik7aWYoc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHIsInN3b2dvLWFjY2Vzc29yeSIpJiZ5KGUpLHdpbmRvdy5zd29nby5ldmVudHMubGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZD1yLGIoZSksbilyZXR1cm4gd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucyYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dBY2Nlc3NvcnlPcHRpb25zQnRuQ2xpY2smJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93QWNjZXNzb3J5T3B0aW9uc0J0bkNsaWNrKCExLHIsZSxpKSxudWxsO2w9bD9sLnNwbGl0KCIsIik6W10sbC5pbmRleE9mKGkpPDAmJmwucHVzaChpKSxnLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLHQudGVtcGxhdGUub3B0aW9uc0JveCk7dmFyIHc9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tb3B0aW9ucy1ib3giKTt3LnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLGEpLHcuc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIsYyksdy5zZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIsaSksd2luZG93LnN3b2dvLmFwaS5nZXRPcHRpb25zKFt1LnNrdS50b1N0cmluZygpXSxbaV0sZnVuY3Rpb24obixkKXtpZighZClyZXR1cm4hMTt0LmJ1bmRsZXNEYXRhW29dW2FdLm9wdGlvbnNbY109ZC5vcHRpb25zLHAodSxlKSxnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZyksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWVuYWJsZSIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyh3LCJzd29nby1lbmFibGUiKSx3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0FjY2Vzc29yeU9wdGlvbnNCdG5DbGljayYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dBY2Nlc3NvcnlPcHRpb25zQnRuQ2xpY2soITAscixlLGkpfSl9KCl9ZnVuY3Rpb24gcChlLHQpe3ZhciBzPXQucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbnMtYm94IiksaT10LmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1zLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxyPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGE9cy5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIpLGQ9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tb3B0aW9uIik7by5idW5kbGVzRGF0YVtpXVtuXS5vcHRpb25zW3JdLmZvckVhY2goZnVuY3Rpb24obCx1KXtpZih1Pj1vLmRpc3BsYXlSb2xlcy5vcHRpb25zKXJldHVybiBudWxsO2QuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5vcHRpb24pO3ZhciBnPXMucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLW9wdGlvbiIpW3VdLHc9Zy5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpO2cuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLGkpLGcuc2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIsbiksZy5zZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIixyKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS1pZCIsdS50b1N0cmluZygpKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXJzIixhKSxsLnF1YW50aXR5PTEsdy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBlPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlciIpO2xbZV0mJmxbZV0ubGVuZ3RoP3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1kaXNhYmxlIik6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2FibGUiKX0pLF8oZyx7YWNjZXNzb3J5Omx9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoZy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpLGUuc2t1PT09bC5za3UmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhnLCJzd29nby1zZWxlY3RlZCIpLGMoZyx0LG8pfSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLG8uY3VzdG9taXphdGlvbi5leGVjdXRlT25PcHRpb25zTG9hZCYmby5jdXN0b21pemF0aW9uLmV4ZWN1dGVPbk9wdGlvbnNMb2FkKHQpfWZ1bmN0aW9uIGgobyxlLHQpe2lmKCF3aW5kb3cuc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQpcmV0dXJuIHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwic2VsZWN0T3B0aW9uKCk6IGNvdWxkIG5vdCBnYXRoZXIgbGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZC4iKTtmb3IodmFyIHM9by50YXJnZXQsaT1zLnBhcmVudE5vZGUsbj0wOyF3aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGksInN3b2dvLW9wdGlvbiIpJiZuPDU7KW4rKyxpPWkucGFyZW50Tm9kZTtpZighd2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShpLCJzd29nby1vcHRpb24iKSlyZXR1cm4gdm9pZCBzd29nby50b29scy5wcmludExvZygiZXJyb3IiLCJlcnJvciBnYXRoZXJpbmcgb3B0aW9uIERPTSBmcm9tIHNlbGVjdE9wdGlvbiAtPiB1cmw9Iit3aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIHI9aS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGE9aS5nZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIiksZD1pLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKSxsPWUucXVlcnlTZWxlY3RvcignLnN3b2dvLWFjY2Vzc29yeVtkYXRhLWJ1bmRsZS1pZD0iJythKyciXVtkYXRhLWFjY2Vzc29yeS1pZD0iJytkKyciXScpO2lmKCFsKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsImVycm9yIHNlbGVjdGluZyBvcHRpb24gb24gdXJsPSIrd2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciB1PWwuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksZz10LmJ1bmRsZXNEYXRhW3JdW2FdO2UucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbnMtYm94IikucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLW9wdGlvbiIpLmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLXNlbGVjdGVkIil9KTt2YXIgdz1pLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpO2cuYWNjZXNzb3JpZXNbZF1bdV09Zy5vcHRpb25zW2RdW3ddO3ZhciBmLHA9aS5jbG9uZU5vZGUoITApO2lmKHAuY2xhc3NOYW1lPSIiLHN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShzd29nby5ldmVudHMubGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZCwic3dvZ28tYWNjZXNzb3J5Iikpe2Y9ZS5xdWVyeVNlbGVjdG9yKCcuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveFtkYXRhLWJ1bmRsZS1pZD0iJythKyciXVtkYXRhLWFjY2Vzc29yeS1pZD0iJytkKyciXScpLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hbHRlcm5hdGl2ZS5zd29nby1zZWxlY3RlZCIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhwLCJzd29nby1zZWxlY3RlZCIpfWVsc2UgZj13aW5kb3cuc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQsc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkLCJzd29nby1zZWxlY3RlZCIpJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MocCwic3dvZ28tc2VsZWN0ZWQiKTtpZih3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MocCwic3dvZ28tYWx0ZXJuYXRpdmUiKSxwLnNldEF0dHJpYnV0ZSgiZGF0YS1pZCIsZi5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSksZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLGYpLGYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKSxjKHAsZSx0KSxzd29nby50b29scy5oYXNDbGFzc05hbWUoc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQsInN3b2dvLWFjY2Vzc29yeSIpKW0ocCxsLGUsdCk7ZWxzZSBpZihzd29nby50b29scy5oYXNDbGFzc05hbWUoc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQsInN3b2dvLXNlbGVjdGVkIikpe3ZhciBoPWUucXVlcnlTZWxlY3RvcignLnN3b2dvLWFjY2Vzc29yeVtkYXRhLWJ1bmRsZS1pZD0iJythKyciXVtkYXRhLWFjY2Vzc29yeS1pZD0iJytzd29nby5ldmVudHMubGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZC5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIikrJyJdJyk7aWYoIWgpcmV0dXJuIHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiZXJyb3IgcmVwbGFjaW5nIGFzc29jaWF0ZWQgYWNjZXNzb3J5IC0+IG9uIHVybD0iK3dpbmRvdy5sb2NhdGlvbi5ocmVmKTttKHAsaCxlLHQpfWIoZSksdC5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQmJnQuY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50KGUsZyx0KSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXMoZSxnLHQpfWZ1bmN0aW9uIG0obyxlLHQscyl7dmFyIGk9by5jbG9uZU5vZGUoITApO3dpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1zZWxlY3RlZCIpLGkuY2xhc3NOYW1lPSIiLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhpLCJzd29nby1hY2Nlc3NvcnkiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksZSksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGMoaSx0LHMpfWZ1bmN0aW9uIHYobyxlLHQscyl7dmFyIGk9d2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShlLCJzd29nby1ob3N0Iiksbj13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGUsInN3b2dvLWFjY2Vzc29yeSIpLHI9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGE9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxjPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGQ9d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YSh0LHMuYnVuZGxlc0RhdGFbcl1bYV0pO28udmFsdWU8MT93aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoZSwic3dvZ28taW5hY3RpdmUiKTp3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3MoZSwic3dvZ28taW5hY3RpdmUiKSxpJiYoZC5ob3N0LnF1YW50aXR5PXBhcnNlSW50KG8udmFsdWUpKSxuJiYoZC5hY2Nlc3Nvcmllc1tjXS5xdWFudGl0eT1wYXJzZUludChvLnZhbHVlKSksKGl8fG4pJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXModCxzLmJ1bmRsZXNEYXRhW3JdW2FdLHMpfWZ1bmN0aW9uIHkobyl7dmFyIGU9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpLHQ9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpO2UuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWVuYWJsZSIpfSl9ZnVuY3Rpb24gYihvKXt2YXIgZT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1vcHRpb25zLWJveCIpLHQ9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpO2UuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWVuYWJsZSIpfSl9ZnVuY3Rpb24gUyhvKXtmb3IodmFyIGUgaW4gbyl7b1tlXS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2lmKG8uZGlzY291bnRzKXt2YXIgZT1OKG8pLHQ9ayhvLGUpO28uYWNjZXNzb3JpZXM9dC5uZXdTdGF0ZSx0LmZvcmNlZERpc2NvdW50JiYoby5mb3JjZWREaXNjb3VudD10LmZvcmNlZERpc2NvdW50KSxvLmRpc2NvdW50cy5hY2Nlc3NvcnkmJm8uZGlzY291bnRzLmFjY2Vzc29yeS5sZW5ndGgmJihvLmFjY2Vzc29yaWVzPUEobyxlLHQuZm9yY2VkRGlzY291bnQpKX19KX19ZnVuY3Rpb24gayhvLGUpe3ZhciB0PVQobyxlLCEwKTtpZighdClyZXR1cm57bmV3U3RhdGU6by5hY2Nlc3Nvcmllc307dC5mb3JjZWQ9ITA7dmFyIHM9SCh0KTtyZXR1cm57bmV3U3RhdGU6RihvLmFjY2Vzc29yaWVzLHMpLGZvcmNlZERpc2NvdW50OnR9fWZ1bmN0aW9uIEEobyxlLHQpe3ZhciBzPUMobyx0KS5zb3J0KGZ1bmN0aW9uKG8sZSl7cmV0dXJuIG8ucHJpb3JpdHk+ZS5wcmlvcml0eT8tMTpvLnByaW9yaXR5PGUucHJpb3JpdHk/MTowfSk7aWYoIXMubGVuZ3RoKXJldHVybiBvLmFjY2Vzc29yaWVzO3ZhciBpPXEocyxlKSxuPXgobyxpKSxyPUwoaSksYT1udWxsO3JldHVybiBEKG4pJiYoYT1QKHIsaSxuKSksRShhLHQsbixpKX1mdW5jdGlvbiBDKG8sZSl7Zm9yKHZhciB0PVtdLHM9MDtzPG8uZGlzY291bnRzLmFjY2Vzc29yeS5sZW5ndGg7cysrKXt2YXIgaT1vLmRpc2NvdW50cy5hY2Nlc3Nvcnlbc107aS5idW5kbGVTdGF0ZT09PSEwJiZPKGkpJiZ0LnB1c2goaSl9cmV0dXJuIHQubGVuZ3RoP2U/dC5jb25jYXQoW2VdKTp0OltdfWZ1bmN0aW9uIHEobyxlKXtmb3IodmFyIHQ9e190eXBlczp7fX0scz0wO3M8by5sZW5ndGg7cysrKWZvcih2YXIgaT1vW3NdLm1hdGNoTGlzdCxuPW9bc10udGFncy5wcmljZSxyPW9bc10uZm9yY2VkLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGM9aVthXTtpZighdFtjXSl7dmFyIGQ9c3dvZ28udG9vbHMubW9kaWZpZXJIYW5kbGVycy5oYW5kbGVQcmljZVRhZyh7cHJpY2U6ZVtjXSxtb2RpZmllcnM6e319LG4pOyJwZXJjZW50Ij09PW4udHlwZT90Ll90eXBlcy5wZXJjZW50PSEwOlsiZml4ZWQiLCJhYnNvbHV0ZSJdLmluZGV4T2Yobi50eXBlKT4tMSYmKHQuX3R5cGVzLnZhbHVlPSEwKSx0W2NdPXtmb3JjZWREaXNjb3VudDpyLGRpc2NvdW50VHlwZTpuLnR5cGUsZGlzY291bnRQZXJjZW50OmQubW9kaWZpZXJzLmRpc2NvdW50UGVyY2VudCxkaXNjb3VudFZhbHVlOmQubW9kaWZpZXJzLnNhdmV9fX1yZXR1cm4gdH1mdW5jdGlvbiB4KG8sZSl7Zm9yKHZhciB0PVtdLHM9MDtzPG8uYWNjZXNzb3JpZXMubGVuZ3RoO3MrKyl7Zm9yKHZhciBpPW8uYWNjZXNzb3JpZXNbc10sbj0hMSxyPSExLGE9e2luZGV4OnMsYWx0ZXJuYXRpdmVzOltdLGhhc0ZvcmNlZERpc2NvdW50OiExfSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBkPWlbY10sbD1lW2Quc2t1XTtpZihsKXN3aXRjaChsLmZvcmNlZERpc2NvdW50JiYoYS5oYXNGb3JjZWREaXNjb3VudD0hMCksbC5kaXNjb3VudFR5cGUpe2Nhc2UicGVyY2VudCI6bj0hMDticmVhaztjYXNlImZpeGVkIjpjYXNlImFic29sdXRlIjpyPSEwfWEuYWx0ZXJuYXRpdmVzLnB1c2goZCl9biYmcnx8bj9hLnNvcnRCeT0iZGlzY291bnRQZXJjZW50IjpyJiYoYS5zb3J0Qnk9ImRpc2NvdW50VmFsdWUiKSxhLmhhc0ZvcmNlZERpc2NvdW50P3QudW5zaGlmdChhKTp0LnB1c2goYSl9cmV0dXJuIHR9ZnVuY3Rpb24gRChvKXtyZXR1cm4gQm9vbGVhbihvLmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4gby5oYXNGb3JjZWREaXNjb3VudH0pLmxlbmd0aCl9ZnVuY3Rpb24gTChvKXtyZXR1cm4gby5fdHlwZXMucGVyY2VudCYmby5fdHlwZXMudmFsdWV8fG8uX3R5cGVzLnBlcmNlbnQ/ImRpc2NvdW50UGVyY2VudCI6by5fdHlwZXMudmFsdWU/ImRpc2NvdW50VmFsdWUiOnZvaWQgMH1mdW5jdGlvbiBQKG8sZSx0KXt2YXIgcz1udWxsO2Zvcih2YXIgaSBpbiBlKWlmKCJfIiE9PWlbMF0pe3ZhciBuPWVbaV07cz9uW29dPnNbb10mJihzPW4pOnM9bn1yZXR1cm4gc31mdW5jdGlvbiBFKG8sZSx0LHMpe2Zvcih2YXIgaT1bXSxuPW8mJm8uZm9yY2VkRGlzY291bnQscj1lJiZbXS5jb25jYXQuYXBwbHkoW10sZS5idW5kbGVTdGF0ZSksYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgYz10W2FdO2lbYy5pbmRleF09Yy5hbHRlcm5hdGl2ZXMuc29ydChmdW5jdGlvbihvLGUpe3ZhciB0PXNbby5za3VdJiZzW28uc2t1XVtjLnNvcnRCeV18fDAsaT1zW2Uuc2t1XSYmc1tlLnNrdV1bYy5zb3J0QnldfHwwO3JldHVybiBuPyhyLmluZGV4T2Yoby5za3UpPi0xJiYodCs9MWU5KSxyLmluZGV4T2YoZS5za3UpPi0xJiYoaSs9MWU5KSk6ciYmKHIuaW5kZXhPZihvLnNrdSk+LTEmJih0Lz0xZTYpLHIuaW5kZXhPZihlLnNrdSk+LTEmJihpLz0xZTYpKSx0Pmk/LTE6aT50PzE6MH0pfXJldHVybiBpfWZ1bmN0aW9uIE8obyl7cmV0dXJuIG8udGFncyYmby50YWdzLnByaWNlJiZvLnRhZ3MucHJpY2UudmFsdWV9ZnVuY3Rpb24gTihvKXtmb3IodmFyIGU9e30sdD1vLmFjY2Vzc29yaWVzLHM9MDtzPHQubGVuZ3RoO3MrKylmb3IodmFyIGk9MDtpPHRbc10ubGVuZ3RoO2krKyllW3Rbc11baV0uc2t1XT10W3NdW2ldLnByaWNlO3JldHVybiBlfWZ1bmN0aW9uIFQobyxlLHQpe3ZhciBzPW8uZGlzY291bnRzLmFjY2Vzc29yeSYmby5kaXNjb3VudHMuYWNjZXNzb3J5LnNsaWNlKDApfHxbXTtpZih0JiYocz1zLmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4gby5idW5kbGVTdGF0ZSE9PSEwfSkpLHMubGVuZ3RoKXtmb3IodmFyIGk9QihzKSxuPTA7bjxpLmxlbmd0aDtuKyspaWYoImFic29sdXRlIj09PWlbbl0udGFncy5wcmljZS50eXBlKXJldHVybiBpW25dO2lmKDE9PT1pLmxlbmd0aClyZXR1cm4gaVswXTtyZXR1cm4gSShqKGksImZpeGVkIiksaihpLCJwZXJjZW50IiksZSl9fWZ1bmN0aW9uIEIobyl7Zm9yKHZhciBlPVtvWzBdXSx0PTE7dDxvLmxlbmd0aDt0Kyspe3ZhciBzPW9bdF07TShzKSYmKHMucHJpb3JpdHk9PT1lWzBdLnByaW9yaXR5P2UucHVzaChzKTpzLnByaW9yaXR5PmVbMF0ucHJpb3JpdHkmJihlPVtzXSkpfXJldHVybiBlfWZ1bmN0aW9uIE0obyl7cmV0dXJuIG8udGFncyYmby50YWdzLnByaWNlJiZvLnRhZ3MucHJpY2UudHlwZX1mdW5jdGlvbiBIKG8pe2Zvcih2YXIgZT1bXSx0PW8uYnVuZGxlU3RhdGUscz0wO3M8dC5sZW5ndGg7cysrKWUucHVzaCh0W3NdKTtyZXR1cm4gZX1mdW5jdGlvbiBGKG8sZSl7Zm9yKHZhciB0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobykpLHM9MDtzPHQubGVuZ3RoO3MrKyl7Zm9yKHZhciBpPXRbc10sbj1bXSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl0sYz1bXS5jb25jYXQuYXBwbHkoW10sZSksZD1jLmluZGV4T2YoYS5za3UpO2lmKGQ+LTEmJihuLnB1c2goaS5zcGxpY2UociwxKVswXSksYy5zcGxpY2UoZCwxKSxyLS0sIWMubGVuZ3RoKSlicmVha310W3NdPW4uY29uY2F0KGkpfXJldHVybiB0fWZ1bmN0aW9uIEkobyxlLHQpe2lmKCFvfHwhZSlyZXR1cm4gb3x8ZTtmb3IodmFyIHM9LSgxLzApLGk9MDtpPG8ubWF0Y2hMaXN0Lmxlbmd0aDtpKyspdFtvLm1hdGNoTGlzdFtpXV0+cyYmKHM9dFtvLm1hdGNoTGlzdFtpXV0pO3JldHVybiAxMDAqby50YWdzLnByaWNlLnZhbHVlL3M+ZS50YWdzLnByaWNlLnZhbHVlP286ZX1mdW5jdGlvbiBqKG8sZSl7Zm9yKHZhciB0PW51bGwscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgaT1vW3NdO2kudGFncy5wcmljZS50eXBlPT09ZSYmKHQ/dC50YWdzLnByaWNlLnZhbHVlPGkudGFncy5wcmljZS52YWx1ZSYmKHQ9aSk6dD1pKX1yZXR1cm4gdH1mdW5jdGlvbiBVKG8sZSx0KXt2YXIgcz1vLmJ1bmRsZXNEYXRhW3RdO3MuZm9yRWFjaChmdW5jdGlvbihvLHQpe1YobyxlKSxvLnRlbXBNZXNzYWdlcz1bXSxvLm1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgcz1vLnRlbXBNZXNzYWdlcyYmby50ZW1wTWVzc2FnZXNbMF07dD4wJiYoIXN8fHMubWVzc2FnZT09PWUubWVzc2FnZSl8fChzJiZzLnByaW9yaXR5JiZlLnByaW9yaXR5Pj1zLnByaW9yaXR5P28udGVtcE1lc3NhZ2VzLnVuc2hpZnQoZSk6by50ZW1wTWVzc2FnZXMucHVzaChlKSl9KSxvLm1lc3NhZ2VzPXNbdF0udGVtcE1lc3NhZ2VzfSl9ZnVuY3Rpb24gVihvLGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1SKGUpO2lmKHQmJih0PUooZSxvLmhvc3QpKSx0KXN3aXRjaChlLnR5cGUpe2Nhc2UiZml4ZWQiOmJyZWFrO2Nhc2UiYnVuZGxlIjpicmVhaztjYXNlImFjY2Vzc29yeSI6eihvLGUpO2JyZWFrO2RlZmF1bHQ6eihvLGUpfX0pfWZ1bmN0aW9uIFIobyl7dmFyIGU9ZnVuY3Rpb24obyxlKXtpZihvKXtpZigxPT09by5zcGxpdCgiVCIpLmxlbmd0aCl7ZXx8KGU9MCk7cmV0dXJuIG5ldyBEYXRlKG8rIlQiK2Z1bmN0aW9uKG8sZSx0KXtyZXR1cm4gZT4+PTAsdD1TdHJpbmcodm9pZCAwIT09dD90OiIgIiksby5sZW5ndGg+ZT9TdHJpbmcobyk6KGUtPW8ubGVuZ3RoLGU+dC5sZW5ndGgmJih0Kz10LnJlcGVhdChlL3QubGVuZ3RoKSksdC5zbGljZSgwLGUpK1N0cmluZyhvKSl9KGUudG9TdHJpbmcoKSwyLDApKyI6MDA6MDAiKX1yZXR1cm4gbmV3IERhdGUobyl9cmV0dXJuITF9LHQ9ZShvLnN0YXJ0RGF0ZSxvLnN0YXJ0SG91cikscz1EYXRlLm5vdygpLGk9ZShvLmVuZERhdGUsby5lbmRIb3VyKTtyZXR1cm4hKCF0fHwhaSkmJih0PD1zJiZpPj1zKX1mdW5jdGlvbiBKKG8sZSl7cmV0dXJuIG8uaG9zdENhdGVnb3J5JiZvLmhvc3RDYXRlZ29yeS5pbmRleE9mKGUuY2F0ZWdvcnkpPj0wfHxvLmhvc3RTa3VzJiZvLmhvc3RTa3VzLmluZGV4T2YoZS5za3UpPj0wfWZ1bmN0aW9uIHoobyxlKXtvLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPSF0LmRpc2NvdW50VmFsdWUmJmUuYWNjZXNzb3J5Q2F0ZWdvcmllcy5pbmRleE9mKHQuY2F0ZWdvcnkpPj0wfHxlLmFjY2Vzc29yeVNrdXMuaW5kZXhPZih0LnNrdSk+PTA7cyYmcz09PS0xJiYocz0hMSkscyYmKHQuZGlzY291bnRNZXNzYWdlPWUuZGVzY3JpcHRpb24sdC5kaXNjb3VudFZhbHVlPWVbImlzUGVyY2VudCgwLzEpIl0/KHQucHJpY2UqKHBhcnNlRmxvYXQoZS52YWx1ZSkvMTAwKSotMSkudG9GaXhlZCgyKTpwYXJzZUZsb2F0KGUudmFsdWUpKi0xLGUucHJpb3JpdHkmJk51bWJlci5pc0ludGVnZXIoZS5wcmlvcml0eSk/by5tZXNzYWdlcy5wdXNoKHttZXNzYWdlOmUuZGVzY3JpcHRpb24scHJpb3JpdHk6ZS5wcmlvcml0eSx0eXBlOiJkaXNjb3VudCJ9KTpvLm1lc3NhZ2VzLnB1c2goe21lc3NhZ2U6ZS5kZXNjcmlwdGlvbixwcmlvcml0eToyLHR5cGU6ImRpc2NvdW50In0pKX0pfSl9ZnVuY3Rpb24gXyhvLGUpe2Zvcih2YXIgdD13aW5kb3cuc3dvZ28udG9vbHMuZ2V0RGF0YUF0dHJpYnV0ZXMobykscz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgaT10W3NdLG49by5nZXRBdHRyaWJ1dGUoaSkscj1XKG4sZSk7aWYocil7ciYmIm9iamVjdCI9PXR5cGVvZiByJiZyLmxlbmd0aD8ocj1HKHIpLEsobyxpLHIpKTpYKG8saSxyKX19dmFyIGE9by5jaGlsZHJlbjtpZihhKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKV8oYVtjXSxlKX1mdW5jdGlvbiBHKG8pe2lmKCFvKXJldHVybltdO3ZhciBlPVtdO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24obyl7byYmZS5wdXNoKG8pfSksZX1mdW5jdGlvbiBLKG8sZSx0KXtmb3IodmFyIHM9MTtzPHQubGVuZ3RoO3MrKyl7dmFyIGk9by5jbG9uZU5vZGUoITApO28ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChpKSxYKGksZSx0W3NdKX1YKG8sZSx0WzBdKX1mdW5jdGlvbiBXKG8sZSl7Zm9yKHZhciB0PW8uc3BsaXQoIi4iKSxzPWUsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO3M9c1tuXT9zW25dOiIifXJldHVybiBzfWZ1bmN0aW9uIFgobyxlLHQpe3QmJm8ucmVtb3ZlQXR0cmlidXRlKGUpLCJkYXRhLXNyYyI9PT1lP28uc2V0QXR0cmlidXRlKCJzcmMiLHQpOiJkYXRhLWhyZWYiPT09ZT9vLnNldEF0dHJpYnV0ZSgiaHJlZiIsdCk6ImRhdGEtYWx0Ij09PWU/by5zZXRBdHRyaWJ1dGUoImFsdCIsdCk6ImRhdGEtdGl0bGUiPT09ZT9vLnNldEF0dHJpYnV0ZSgidGl0bGUiLHQpOiJkYXRhLXRleHQiPT09ZT9vLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIix0KToiZGF0YS1iYWNrZ3JvdW5kIj09PWUmJihvLnN0eWxlLmJhY2tncm91bmQ9dCl9cmV0dXJuIG8uYnVuZGxlc0RhdGE9e30se2xvYWQ6ZSxwb3B1bGF0ZUF0dHJpYnV0ZTpYfX1mdW5jdGlvbiB0KG8pe2Z1bmN0aW9uIGUobyl7dC5vcmRlclBhcmFtcyYmdC5vcmRlclBhcmFtcy5pZCYmd2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygicGF5bWVudCIsdC5vcmRlclBhcmFtcyxvLGZ1bmN0aW9uKCl7dmFyIG89d2luZG93LnN3b2dvLnRvb2xzLmdldFRyYWNraW5nVXNlcigpLGU9ImFub24uIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCk7d2luZG93LnN3b2dvLnRvb2xzLnNldFRyYWNraW5nVXNlcihlKSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlN3b2dvIHVzZXIgaWQgY29va2llIGNoYW5nZWQgZnJvbSIsbywidG8iLGUsImFmdGVyIHRoZSBwYXltZW50IHJlcXVlc3QgZnVsZmlsbGVkIC0+ICIrdC5vcmRlclBhcmFtcy5pZCl9KX12YXIgdD13aW5kb3cuc3dvZ28udWkuZ2V0UGFnZShvKTtzd29nby50b29scy5maXhQcm90b3R5cGVMaWJyYXJ5SXNzdWVzKCksdC5nZXRQcm9kdWN0c0RhdGEmJnQub3JkZXJQYXJhbXM/ZnVuY3Rpb24odCl7dmFyIHM9dC5nZXRQcm9kdWN0c0RhdGEoKTtzLmxlbmd0aD4wJiYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zPUpTT04uc3RyaW5naWZ5KHMpLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJhc2tldExpc3QiLHMsbyxmdW5jdGlvbigpe2Uobyl9KSl9KHQpOm8uaW5kZXhPZigiYmFza2V0Iik+PTA/ZnVuY3Rpb24obyl7ZnVuY3Rpb24gZShvKXt0cnl7dmFyIGU9dC5nZXRQcm9kdWN0c0RhdGEoKTtzKGUpLHdpbmRvdy5Td29nby5iYXNrZXRJdGVtcyE9PUpTT04uc3RyaW5naWZ5KGUpJiZlLmxlbmd0aD4wJiYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zPUpTT04uc3RyaW5naWZ5KGUpLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJhc2tldExpc3QiLGUsbykpfWNhdGNoKG8pe3N3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsIkVycm9yIHNlbmRpbmcgYmFza2V0IHRyYWNraW5nIHJlcXVlc3QgIitvKX19ZnVuY3Rpb24gcyhvKXt0cnl7aWYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zIT09SlNPTi5zdHJpbmdpZnkobykpe3ZhciBlPVtdO28uZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdD1vLmlkO2UuaW5kZXhPZih0KTwwJiZlLnB1c2godCl9KSxsb2NhbFN0b3JhZ2UuYmFza2V0U2t1cz1KU09OLnN0cmluZ2lmeShlKX19Y2F0Y2gobyl7c3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiRXJyb3Igc3RvcmluZyBiYXNrZXQgc2t1cyAiK28pfX13aW5kb3cuU3dvZ28udHJhY2tpbmdJbnRlcnZhbHx8KGUobyksd2luZG93LlN3b2dvLnRyYWNraW5nSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKG8pfSw1MDApKX0obyk6by5pbmRleE9mKCJwYXltZW50Iik+PTAmJmUobyl9ZnVuY3Rpb24gcygpe2Z1bmN0aW9uIG8obyx0KXt2YXIgcz1sb2NhbFN0b3JhZ2UuYmFza2V0U2t1cz9KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5iYXNrZXRTa3VzKTpbXSxpPWUobyx0LHMpO3JldHVybiAwPT09cy5sZW5ndGh8fDA9PT1pLmxlbmd0aD9vOih0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9by5hY2Nlc3Nvcmllc1tlXTt0JiZ0LmZvckVhY2goZnVuY3Rpb24obyl7Zm9yKHZhciBlPW8uYWNjZXNzb3JpZXMsdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXt2YXIgcz0hMTtlW3RdLmZvckVhY2goZnVuY3Rpb24obyl7c3x8aS5pbmRleE9mKG8uY2F0ZWdvcnkpPi0xJiYoZS5zcGxpY2UodCwxKSxzPSEwKX0pfX0pfSksbyl9ZnVuY3Rpb24gZShvLGUsdCl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTt2YXIgcz1bXTtyZXR1cm4gby5ob3N0cy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3MuaW5kZXhPZihvLmNhdGVnb3J5KT09PS0xJiZzLnB1c2goby5jYXRlZ29yeSl9KSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9by5hY2Nlc3Nvcmllc1tlXTtpJiZpLmZvckVhY2goZnVuY3Rpb24obyl7by5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKG8pe2Zvcih2YXIgZT1vLmxlbmd0aC0xO2U+PTA7ZS0tKXQuaW5kZXhPZihvW2VdLnNrdSk+LTEmJnMuaW5kZXhPZihvW2VdLmNhdGVnb3J5KT09PS0xJiZzLnB1c2gob1tlXS5jYXRlZ29yeSl9KX0pfSksc31pZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJzd29nby1kaXNhYmxlIik+PTAmJiFzd29nb0RlYnVnKXJldHVybiBjb25zb2xlLmxvZygiU3dvZ28tTE9HIiwiTGl2ZSBzY3JpcHQgZGlzYWJsZWQuIik7dmFyIHM9d2luZG93LnN3b2dvLnVpLmdldEN1cnJlbnRQYWdlKCk7aWYoIXMpcmV0dXJuIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsInBhZ2Ugbm90IGRldGVjdGVkID4+IGNoZWNrIHdpbmRvdy5zd29nby51aS5zZXRQYWdlIik7dChzKTt2YXIgaT13aW5kb3cuc3dvZ28udWkuZ2V0UGFnZShzKS5nZXRTS1VzKCk7d2luZG93LnN3b2dvLmRpc2NvdW50Q29uZmlnPVtdO3ZhciBuPXdpbmRvdy5zd29nby51aS5nZXRQYWdlKHMpLmdldFBhZ2VCdW5kbGVzKCkscj1PYmplY3Qua2V5cyhuKTtyJiZyLmxlbmd0aHx8d2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwibm8gYnVuZGxlVHlwZXMgZm91bmQgb24gdGhhdCBwYWdlID4+IGNoZWNrIFBBR0UuYWRkYnVuZGxlIiksaSYmaS5sZW5ndGh8fHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsIm5vIHNrdXMgZm91bmQgb24gdGhhdCBwYWdlID4+IGNoZWNrIFBBR0UuZXh0cmFjdFNLVXMiKSx3aW5kb3cuc3dvZ28uYXBpLnNldENsaWVudCh3aW5kb3cuc3dvZ28ucGFyYW1zLm5hbWUpLHIuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uW2VdLmRhdGEubWF0Y2hpbmdDb25maWd8fCJwZHAiLHI9bltlXS5kYXRhLmFzc2lzdGFudENvbmZpZ3x8dCxhPW5bZV0uZGF0YS5idW5kbGVDb25maWd8fHt9O2lmKHMuaW5kZXhPZigiYmFza2V0Iik+PTAmJiFpLmxlbmd0aClyZXR1cm4gd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiYmFza2V0IHBhZ2Ugd2l0aCBubyBleHRyYWN0ZWQgc2t1cyA+PiByZXF1ZXN0IGRlbmllZCIpO3dpbmRvdy5zd29nby5hcGkuZ2V0QnVuZGxlcyh0LHIsaSx7fSxKU09OLnN0cmluZ2lmeShhKSxmdW5jdGlvbihuLGEpe3JldHVybiBuJiZuLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiW0NvcmVdIEZhaWxlZCB0byBnZXRCdW5kbGVzIG9mIG1hdGNoaW5nQ29uZmlnPSIrdCsiLCBhc3Npc3RhbnRDb25maWc9IityKyIsIHNrdXM9IitpLnRvU3RyaW5nKCkrIiwgZXJyPSIrbi50b1N0cmluZygpKyIsIGRhdGE9JyIrSlNPTi5zdHJpbmdpZnkoYSkrIiciKTood2luZG93LnN3b2dvLm1vY2tEYXRhJiZ3aW5kb3cuc3dvZ28ubW9ja0RhdGEuYnVuZGxlQXBpUmVzcG9uc2VzJiZ3aW5kb3cuc3dvZ28ubW9ja0RhdGEuYnVuZGxlQXBpUmVzcG9uc2VzW2kuam9pbigiLCIpXSYmKGE9d2luZG93LnN3b2dvLm1vY2tEYXRhLmJ1bmRsZUFwaVJlc3BvbnNlc1tpLmpvaW4oIiwiKV0pLGEmJmEuaG9zdHM/KGEuYWNjZXNzb3JpZXMmJnMuaW5kZXhPZigiYmFza2V0Iik+PTAmJihhPW8oYSxpKSksd2luZG93LnN3b2dvLmN1c3RvbUxpYi51cGRhdGVIb3N0UHJpY2Uod2luZG93LnN3b2dvLnVpLmdldFBhZ2UocyksYSksdm9pZCB3aW5kb3cuc3dvZ28udWkubG9hZChlLGEpKTp3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJubyBob3N0IGRhdGEgZnJvbSBBUEkiKSl9KX0pfWZ1bmN0aW9uIGkoKXtmb3IodmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2NsYXNzKj1zd29nb10iKSxlPTA7ZTxvLmxlbmd0aDtlKyspZm9yKHZhciB0PW9bZV0scz0wO3M8dC5jbGFzc0xpc3QubGVuZ3RoO3MrKyl0LmNsYXNzTGlzdFtzXS5tYXRjaCgvXnN3b2dvLykmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBpPXN3b2dvLnVpLmdldEN1cnJlbnRQYWdlKCksbj1zd29nby51aS5nZXRQYWdlKGkpO2lmKCFuKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiQ291bGQgbm90IHJlbG9hZCBzd29nbyBzY3JpcHQgLT4gY291bGRuJ3QgZ2V0IHBhZ2UgJyIraSsiJyIpO24uZ2V0U0tVcygpLHdpbmRvdy5zd29nby51aT1Td29nby5nZXRVSSgpLHdpbmRvdy5zd29nby50b29scz1Td29nby5nZXRUb29scygpLHdpbmRvdy5zd29nby5jdXN0b21MaWI9U3dvZ28uZ2V0Q3VzdG9tTGliKCksU3dvZ28ubG9hZFN3b2dvKCl9ZnVuY3Rpb24gbigpe3JldHVybiBsfWZ1bmN0aW9uIHIoKXtyZXR1cm4gY31mdW5jdGlvbiBhKCl7cmV0dXJuIGR9dmFyIGM9e2lzU3RvcmFnZVN1cHBvcnRlZDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidGVzdFNlc3Npb24iLCIxIiksc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidGVzdFNlc3Npb24iKSwhMH1jYXRjaChvKXtyZXR1cm4hMX19KCksc2V0Q29va2llOmZ1bmN0aW9uKG8sZSx0KXt2YXIgcz1vKyI9IitlLGk9bmV3IERhdGUsbj13aW5kb3cubG9jYXRpb24uaG9zdC5zdWJzdHJpbmcod2luZG93LmxvY2F0aW9uLmhvc3QubGFzdEluZGV4T2YoIi4iLHdpbmRvdy5sb2NhdGlvbi5ob3N0Lmxhc3RJbmRleE9mKCIuIiktMSkrMSk7d2luZG93LnN3b2dvJiZ3aW5kb3cuc3dvZ28ucGFyYW1zJiZ3aW5kb3cuc3dvZ28ucGFyYW1zLmNvb2tpZVVybCYmKG49d2luZG93LnN3b2dvLnBhcmFtcy5jb29raWVVcmwpLHR8fCh0PTEpLGkuc2V0VGltZShpLmdldFRpbWUoKSsyNCp0KjYwKjYwKjFlMykscys9IjsgZXhwaXJlcz0iK2kudG9VVENTdHJpbmcoKSxzKz0iOyBwYXRoPS8iLHMrPSI7IGRvbWFpbj0iK24sZG9jdW1lbnQuY29va2llPXN9LGdldENvb2tpZTpmdW5jdGlvbihvKXt2YXIgZTt0cnl7ZT1kZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKS5zcGxpdCgiOyIpfWNhdGNoKG8pe2U9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iil9Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe2Zvcih2YXIgcz1lW3RdOyIgIj09PXMuY2hhckF0KDApOylzPXMuc3Vic3RyaW5nKDEpO2lmKDA9PT1zLmluZGV4T2YobysiPSIpKXJldHVybiBzLnN1YnN0cmluZygobysiPSIpLmxlbmd0aCxzLmxlbmd0aCl9cmV0dXJuIG51bGx9LGRlbGV0ZUNvb2tpZTpmdW5jdGlvbihvKXtkb2N1bWVudC5jb29raWU9bysiPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyJ9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7dmFyIG89ITE7cmV0dXJuIGZ1bmN0aW9uKGUpewooLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm8vaS50ZXN0KGUpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1wtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XC0obnx1KXxjNTVcL3xjYXBpfGNjd2F8Y2RtXC18Y2VsbHxjaHRtfGNsZGN8Y21kXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcLTV8Z1wtbW98Z28oXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXC0obXxwfHQpfGhlaVwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcLWN8aHQoYyhcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcLXxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcLyl8a2xvbnxrcHQgfGt3Y1wtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcLyhrfGx8dSl8NTB8NTR8XC1bYS13XSl8bGlid3xseW54fG0xXC13fG0zZ2F8bTUwXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcLWd8cWFcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XC1bMi03XXxpXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcLXxvb3xwXC0pfHNka1wvfHNlKGMoXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXC18c2hhcnxzaWUoXC18bSl8c2tcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFwtfHZcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFwtfHRkZ1wtfHRlbChpfG0pfHRpbVwtfHRcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXC18bTN8bTUpfHR4XC05fHVwKFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1wtfHlvdXJ8emV0b3x6dGVcLS9pLnRlc3QoZS5zdWJzdHIoMCw0KSkpJiYobz0hMCl9KG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fG9wZXJhKSxvfSgpLGFkZENsYXNzOmZ1bmN0aW9uKG8sZSl7aWYoIXRoaXMuaGFzQ2xhc3NOYW1lKG8sZSkmJm8pe3ZhciB0PW8uZ2V0QXR0cmlidXRlKCJjbGFzcyIpO28uY2xhc3NOYW1lPXQ/dCsiICIrZTplfXJldHVybiBvfSxyZW1vdmVDbGFzczpmdW5jdGlvbihvLGUpe3ZhciB0O3JldHVybiB0aGlzLmhhc0NsYXNzTmFtZShvLGUpJiYodD1vLmdldEF0dHJpYnV0ZSgiY2xhc3MiKS5zcGxpdCgiICIpLHQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKSwibnVsbCIhPT10WzBdJiYiIiE9PXRbMF18fHQuc2hpZnQoKSxvLmNsYXNzTmFtZT10LmpvaW4oIiAiKSksb30saGFzQ2xhc3NOYW1lOmZ1bmN0aW9uKG8sZSl7dmFyIHQscz0tMTtyZXR1cm4gbyYmKHQ9by5nZXRBdHRyaWJ1dGUoImNsYXNzIik/by5nZXRBdHRyaWJ1dGUoImNsYXNzIikuc3BsaXQoIiAiKTpbXSxzPXQuaW5kZXhPZihlKSkscz49MH0sYWRkRXZlbnQ6ZnVuY3Rpb24obyxlLHQpe2lmKG8pcmV0dXJuIG8uYWRkRXZlbnRMaXN0ZW5lcj9vLmFkZEV2ZW50TGlzdGVuZXIoZSx0LCExKTpvLmF0dGFjaEV2ZW50P28uYXR0YWNoRXZlbnQoIm9uIitlLHQpOm9bIm9uIitlXT10LHRoaXN9LHByaW50TG9nOmZ1bmN0aW9uKG8sZSl7dmFyIHQ9e2JhY2tncm91bmQ6IiNmZmYiLGNvbG9yOiIjMDAwIn0scz0wO3N3aXRjaChvKXtjYXNlImxvZyI6dC5iYWNrZ3JvdW5kPSIjMGE5OWZmIix0LmNvbG9yPSIjZmZmIixzPTA7YnJlYWs7Y2FzZSJ3YXJuaW5nIjp0LmJhY2tncm91bmQ9IiNmZGNhNTgiLHQuY29sb3I9IiNkNjYzMDAiLHM9MTticmVhaztjYXNlImVycm9yIjp0LmJhY2tncm91bmQ9IiNmZmNmY2YiLHQuY29sb3I9IiNkZjAwMDAiLHM9Mn1zPj0yJiZmdW5jdGlvbihvKXtvPW8uc3RhY2s/by5zdGFjazpvLnRvU3RyaW5nKCk7dmFyIGU9KG5ldyBFcnJvcikuc3RhY2ssdD17ZGVidWc6c3dvZ29EZWJ1ZyxwYXJhbXM6d2luZG93LnN3b2dvLnBhcmFtcyxtc2c6byxsb2NhdGlvbjp3aW5kb3cubG9jYXRpb24uaHJlZix1c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudCxzdGFjazplfTt3aW5kb3cuc3dvZ28udG9vbHMuYWpheFJlcXVlc3Qoe3VybDoiaHR0cHM6Ly9lcnIuc3dvZ28ubmV0LyIsZmFsbGJhY2tVcmw6Imh0dHBzOi8vZXJyLnN3b2dvLmNvbS8iLHBheWxvYWQ6ZW5jb2RlVVJJQ29tcG9uZW50KGJ0b2EoSlNPTi5zdHJpbmdpZnkodCkpKX0sZnVuY3Rpb24obyl7Y29uc29sZS5sb2cobyl9KX0oZSksc3dvZ29EZWJ1ZyYmY29uc29sZS5sb2coIiVjIFNXT0dPLSIrbysiIDoiLCJiYWNrZ3JvdW5kOiAiK3QuYmFja2dyb3VuZCsiOyBjb2xvcjogIit0LmNvbG9yLGUpfSxhamF4UmVxdWVzdDpmdW5jdGlvbihvLGUsdCl7ZnVuY3Rpb24gcygpeyJnZXQiPT09YyYmd2luZG93LnN3b2dvLnRvb2xzLmlzU3RvcmFnZVN1cHBvcnRlZCYmKHNlc3Npb25TdG9yYWdlW28udXJsXT1uLnJlc3BvbnNlVGV4dCksZShuLnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gaSgpe2lmKG8uZmFsbGJhY2tVcmwpcmV0dXJuIG8udXJsPW8uZmFsbGJhY2tVcmwsZGVsZXRlIG8uZmFsbGJhY2tVcmwsd2luZG93LnN3b2dvLnRvb2xzLmFqYXhSZXF1ZXN0KG8sZSx0KTt0LmNhbGwoYXJndW1lbnRzKX12YXIgbj1uZXcgWE1MSHR0cFJlcXVlc3Qscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikuaW5kZXhPZigiWERvbWFpblJlcXVlc3QiKT49MCxhPW8ucGF5bG9hZD9vLnBheWxvYWQ6IiIsYz1vLm1ldGhvZD9vLm1ldGhvZC50b0xvd2VyQ2FzZSgpOiJnZXQiLGQ9by50eXBlJiYianNvbiI9PT1vLnR5cGUsbD1vLmFjY2VwdEhlYWRlcnM7aWYoby5jYWNoZWQmJndpbmRvdy5zd29nby50b29scy5pc1N0b3JhZ2VTdXBwb3J0ZWQmJnNlc3Npb25TdG9yYWdlW28udXJsXSlyZXR1cm4gZShzZXNzaW9uU3RvcmFnZVtvLnVybF0pO2ZvcihyJiYiZ2V0Ij09PWMmJihuPW5ldyBYRG9tYWluUmVxdWVzdCksdHx8KHQ9ZnVuY3Rpb24oKXt9KSxuLm9uZXJyb3I9aSxuLm9udGltZW91dD1pLG4ub25sb2FkPXMsImdldCI9PT1jP24ub3BlbihjLG8udXJsKyI/IithLCEwKTpuLm9wZW4oby5tZXRob2Qsby51cmwpLHJ8fGR8fG4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksImdldCI9PT1jJiZkJiZuLm92ZXJyaWRlTWltZVR5cGUmJm4ub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbiIpLCJwb3N0Ij09PWMmJmQmJm4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24vanNvbiIpO2wmJmwubGVuZ3RoPjA7KW4uc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixsWzBdKSxsLnNoaWZ0KCk7bi5zZW5kKGEpfSxnZXREYXRhQXR0cmlidXRlczpmdW5jdGlvbihvKXtpZighbylyZXR1cm5bXTtmb3IodmFyIGU9MCx0PW8uYXR0cmlidXRlcyxzPXQubGVuZ3RoLGk9W107ZTxzO2UrKyl0W2VdLm5vZGVOYW1lLmluZGV4T2YoImRhdGEtIik+PTAmJmkucHVzaCh0W2VdLm5vZGVOYW1lKTtyZXR1cm4gaX0sZ2V0QnVuZGxlUHJvZHVjdHNEYXRhOmZ1bmN0aW9uKG8sZSl7dmFyIHQ9e2FjY2Vzc29yaWVzOltdfSxzPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWhvc3QiKSxpPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFjY2Vzc29yeTpub3QoLnN3b2dvLWRpc2FibGUpIik7cyYmKHQuaG9zdD1lLmhvc3QpO2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dLGE9ci5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxjPWUuYWNjZXNzb3JpZXNbbl1bYV07YyYmdC5hY2Nlc3Nvcmllcy5wdXNoKGMpfXJldHVybiB0fSxnZXRUcmFja2luZ1VzZXI6ZnVuY3Rpb24oKXt2YXIgbz13aW5kb3cuc3dvZ28udG9vbHMuZ2V0Q29va2llKCJzd29nb1VzZXJJZCIpO3JldHVybiBvP286dGhpcy5zZXRUcmFja2luZ1VzZXIoKX0sc2V0VHJhY2tpbmdVc2VyOmZ1bmN0aW9uKG8pe3JldHVybiBvfHwobz13aW5kb3cuc3dvZ28udG9vbHMuZ2V0Q29va2llKCJzd29nb1VzZXJJZCIpKSxvfHwobz0iYW5vbi4iK01hdGgucmFuZG9tKCkudG9TdHJpbmcoKSksd2luZG93LnN3b2dvLnRvb2xzLnNldENvb2tpZSgic3dvZ29Vc2VySWQiLG8pLG99LHNlbmRUcmFja2luZzpmdW5jdGlvbihvLGUsdCxzKXtmdW5jdGlvbiBpKG8pe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQobykrIj0iK2VuY29kZVVSSUNvbXBvbmVudChyW29dKX12YXIgbj13aW5kb3cuc3dvZ28ucGFyYW1zJiZ3aW5kb3cuc3dvZ28ucGFyYW1zLm5hbWUmJndpbmRvdy5zd29nby5wYXJhbXMubmFtZS50b0xvd2VyQ2FzZSgpfHwidGVzdCI7dCYmdC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1vYmlsZSIpPT09LTEmJndpbmRvdy5zd29nby50b29scy5pc01vYmlsZSYmKHQrPSJNb2JpbGUiKTt2YXIgcj17Y2xpZW50Om4rIl8iK01hdGgucG93KG4ubGVuZ3RoLDIpLnRvU3RyaW5nKCksdmFyaWFudDp3aW5kb3cuc3dvZ28ucGFyYW1zJiZ3aW5kb3cuc3dvZ28ucGFyYW1zLnZhcmlhbnR8fCJBIix0eXBlOm8sb3JpZ2luOnR8fCIiLHVzZXI6d2luZG93LnN3b2dvLnRvb2xzLmdldFRyYWNraW5nVXNlcigpfTtzd29nby50b29scy5maXhQcm90b3R5cGVMaWJyYXJ5SXNzdWVzKCksInBheW1lbnQiPT09bz9yLnBheT1KU09OLnN0cmluZ2lmeShlKTpyLmJ1bmRsZURhdGE9SlNPTi5zdHJpbmdpZnkoZSk7dmFyIGE9YnRvYShlbmNvZGVVUklDb21wb25lbnQoT2JqZWN0LmtleXMocikubWFwKGkpLmpvaW4oIiYiKSkpO3N8fChzPWZ1bmN0aW9uKCl7fSksd2luZG93LnN3b2dvLnRvb2xzLmFqYXhSZXF1ZXN0KHt1cmw6Imh0dHBzOi8vdHJhY2tpbmcuc3dvZ28ubmV0LyIsZmFsbGJhY2tVcmw6Imh0dHBzOi8vdHJhY2tpbmcuc3dvZ28uY29tLyIscGF5bG9hZDphfSxmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsgdHJhY2tpbmcgXSAiK0pTT04uc3RyaW5naWZ5KHIpKyIgLS0tLT4gIitKU09OLnN0cmluZ2lmeShvKSkscygpfSxmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiWyB0cmFja2luZyBdICIrSlNPTi5zdHJpbmdpZnkocikrIiAtLS0tPiAiK0pTT04uc3RyaW5naWZ5KG8pKSxzKCl9KX0sZml4UHJvdG90eXBlTGlicmFyeUlzc3VlczpmdW5jdGlvbigpe3JldHVybiEhd2luZG93LlByb3RvdHlwZSYmKGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLnRvSlNPTixkZWxldGUgQXJyYXkucHJvdG90eXBlLnRvSlNPTixkZWxldGUgSGFzaC5wcm90b3R5cGUudG9KU09OLGRlbGV0ZSBTdHJpbmcucHJvdG90eXBlLnRvSlNPTiwhMCl9LHJlbW92ZVJlZGlyZWN0c1dpdGhOb1VybDpmdW5jdGlvbihvKXtvLnF1ZXJ5U2VsZWN0b3JBbGwoImEuc3dvZ28tcHJvZHVjdC1saW5rIikuZm9yRWFjaChmdW5jdGlvbihvKXsiLS0tLS0tIj09PW8uZ2V0QXR0cmlidXRlKCJocmVmIikmJm8uc2V0QXR0cmlidXRlKCJvbmNsaWNrIiwicmV0dXJuIGZhbHNlOyIpfSl9LGFyZUVxdWl2YWxlbnRBcnJheXM6ZnVuY3Rpb24obyxlKXtpZihvLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKWlmKGUuaW5kZXhPZihvW3RdKT09PS0xKXJldHVybiExO3JldHVybiEwfSxnZXRWYWxpZERpc2NvdW50czpmdW5jdGlvbihvLGUsdCl7dmFyIHM9e307Zm9yKHZhciBpIGluIGUpZm9yKHZhciBuPTA7bjxlW2ldLmxlbmd0aDtuKyspe3ZhciByPSJhY2Nlc3NvcnkiPT09aSxhPWVbaV1bbl07ciYmIXQmJmEuYnVuZGxlU3RhdGUubGVuZ3RoPjF8fCghciYmc1tpXSYmYS5wcmlvcml0eTw9c1tpXVswXS5wcmlvcml0eXx8dGhpcy5pc0FwcGxpY2FibGVEaXNjb3VudChvLGEuYnVuZGxlU3RhdGUsYS5tYXRjaExpc3QscikmJihyP3MuYWNjZXNzb3J5P3MuYWNjZXNzb3J5LnB1c2goYSk6cy5hY2Nlc3Nvcnk9W2FdOnNbaV09W2FdKSl9cmV0dXJuIHN9LGlzQXBwbGljYWJsZURpc2NvdW50OmZ1bmN0aW9uKG8sZSx0LHMpe2lmKGU9PT0hMClyZXR1cm4hMDtmb3IodmFyIGU9ZS5zbGljZSgwKSxpPTA7aTxvLmxlbmd0aDtpKyspZm9yKHZhciBuPW9baV0uc2t1LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXTthLmluZGV4T2YobikhPT0tMSYmKGUuc3BsaWNlKHIsMSksci0tKX1yZXR1cm4hZS5sZW5ndGh8fCEoIXN8fDEhPT1lLmxlbmd0aHx8IXRoaXMuYXJlRXF1aXZhbGVudEFycmF5cyhlWzBdLHQpKX0sc29ydERpc2NvdW50c0J5UHJpb3JpdHk6ZnVuY3Rpb24obyl7Zm9yKHZhciBlIGluIG8pb1tlXT1vW2VdLnNvcnQoZnVuY3Rpb24obyxlKXtyZXR1cm4gby5wcmlvcml0eT5lLnByaW9yaXR5Py0xOm8ucHJpb3JpdHk8ZS5wcmlvcml0eT8xOjB9KTtyZXR1cm4gb30sYWRkTWVzc2FnZXNUb0J1bmRsZURhdGE6ZnVuY3Rpb24obyxlLHQpe2lmKG8ubWVzc2FnZSl7dmFyIHM9e21lc3NhZ2U6by5tZXNzYWdlLHByaW9yaXR5Om8ucHJpb3JpdHksYXBwbHlUbzp0fTtvLnRhZ3MmJm8udGFncy5wcmljZSYmKHMudHlwZT0iZGlzY291bnQiKSxlLm1lc3NhZ2VzLnB1c2gocyl9fSxhcHBseURpc2NvdW50c1RvUHJvZHVjdFVJOmZ1bmN0aW9uKG8sZSl7aWYobyYmZSYmZS5kaXNjb3VudFZhbHVlKXt2YXIgdD1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikscz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpLGk9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tZGlzY291bnQiKTtpJiYoaS5pbm5lckhUTUw9ZS5kaXNjb3VudFByaWNlLGkuY2xhc3NMaXN0LnJlbW92ZSgic3dvZ28taW52aXNpYmxlIikpLHMmJnMuY2xhc3NMaXN0LmFkZCgic3dvZ28tbGluZS10aHJvdWciKSx0JiYodC5pbm5lckhUTUw9ZS5zYXZlKX19LGFwcGx5RGlzY291bnRzVG9Qcm9kdWN0RGF0YTpmdW5jdGlvbihvLGUpe3ZhciB0PXN3b2dvLnRvb2xzLm1vZGlmaWVySGFuZGxlcnM7by5tb2RpZmllcnM9e30sZS5tZXNzYWdlJiYoby5tb2RpZmllcnMuZGlzY291bnRNZXNzYWdlPWUubWVzc2FnZSksby5tb2RpZmllcnMubW9kaWZpZXJzUHJpb3JpdHk9ZS5wcmlvcml0eTtmb3IodmFyIHMgaW4gZS50YWdzKXN3aXRjaChzKXtjYXNlInByaWNlIjp0LmhhbmRsZVByaWNlVGFnKG8sZS50YWdzW3NdKTticmVhaztkZWZhdWx0OnQuZGVmYXVsdChvLHMsZS50YWdzW3NdKX19LGFwcGx5RGlzY291bnRzVG9BY2Nlc3Nvcmllc0RhdGE6ZnVuY3Rpb24obyxlLHQpe3ZhciBzPVtdLGk9d2luZG93LnN3b2dvLnRvb2xzLG49by5yZWR1Y2UoZnVuY3Rpb24obyxlKXtyZXR1cm4gby5jb25jYXQoZSl9LFtdKTtlLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIGU9ITEscj1vLm1hdGNoTGlzdC5maWx0ZXIoZnVuY3Rpb24obyl7cmV0dXJuIHMuaW5kZXhPZihvKT09PS0xfSk7bi5mb3JFYWNoKGZ1bmN0aW9uKHMpe3IuaW5kZXhPZihzLnNrdSkhPT0tMSYmKGkuYXBwbHlEaXNjb3VudHNUb1Byb2R1Y3REYXRhKHMsbyksZXx8KGkuYWRkTWVzc2FnZXNUb0J1bmRsZURhdGEobyx0LCJhY2Nlc3NvcnkiKSxlPSEwKSl9KSxzPXMuY29uY2F0KHIpfSl9LGFzc2lnbkRpc2NvdW50VG9CdW5kbGVTdW1tYXJ5RGF0YTpmdW5jdGlvbihvLGUpe2UudGFncyYmKG8ubW9kaWZpZXJzVG9BcHBseT1lLnRhZ3MpLGUubWVzc2FnZSYmKG8ubWVzc2FnZT1lLm1lc3NhZ2UpfSxhcHBseURpc2NvdW50c1RvU3VtbWFyeURhdGE6ZnVuY3Rpb24obyl7dmFyIGU9by5tb2RpZmllcnNUb0FwcGx5LHQ9c3dvZ28udG9vbHMubW9kaWZpZXJIYW5kbGVycyxzPXtwcmljZTpvLmRpc2NvdW50UHJpY2UscnJQcmljZTpvLnJyUHJpY2UsbW9kaWZpZXJzOnt9fTtvLm1vZGlmaWVycz17fTtmb3IodmFyIGkgaW4gZSlzd2l0Y2goaSl7Y2FzZSJwcmljZSI6dC5oYW5kbGVQcmljZVRhZyhzLGVbaV0pO2JyZWFrO2RlZmF1bHQ6dC5kZWZhdWx0KG8saSxlW2ldKX1mb3IodmFyIG4gaW4gcy5tb2RpZmllcnMpc3dpdGNoKG4pe2Nhc2Uic2F2ZSI6Y2FzZSJkaXNjb3VudFZhbHVlIjpvLm1vZGlmaWVyc1tuXT1wYXJzZUZsb2F0KG9bbl0pK3BhcnNlRmxvYXQocy5tb2RpZmllcnNbbl0pO2JyZWFrO2Nhc2UicHJpY2UiOmNhc2UicnJQcmljZSI6YnJlYWs7ZGVmYXVsdDpvLm1vZGlmaWVyc1tuXT1zLm1vZGlmaWVyc1tuXX19LG1vZGlmaWVySGFuZGxlcnM6e2RlZmF1bHQ6ZnVuY3Rpb24obyxlLHQpeyJvYmplY3QiIT10eXBlb2YgdCYmKG8ubW9kaWZpZXJzW2VdPXQpfSxoYW5kbGVQcmljZVRhZzpmdW5jdGlvbihvLGUpe2lmKFsiZml4ZWQiLCJwZXJjZW50IiwiYWJzb2x1dGUiXS5pbmRleE9mKGUudHlwZSk9PT0tMSlyZXR1cm4gc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJJbnZhbGlkIHByaWNlIHRhZyBtb2RpZmllciAtPiAiK0pTT04uc3RyaW5naWZ5KGUsbnVsbCwyKSk7c3dpdGNoKG8ubW9kaWZpZXJzLnByaWNlPW8ucHJpY2Usby5tb2RpZmllcnMucnJQcmljZT1vLnJyUHJpY2UsZS50eXBlKXtjYXNlImZpeGVkIjpvLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlPXBhcnNlRmxvYXQocGFyc2VGbG9hdChlLnZhbHVlKS50b0ZpeGVkKDIpKTticmVhaztjYXNlInBlcmNlbnQiOm8ubW9kaWZpZXJzLmRpc2NvdW50VmFsdWU9KG8ucHJpY2UqKGUudmFsdWUvMTAwKSkudG9GaXhlZCgyKSxvLm1vZGlmaWVycy5kaXNjb3VudFBlcmNlbnQ9cGFyc2VGbG9hdChlLnZhbHVlKTticmVhaztjYXNlImFic29sdXRlIjpvLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlPXBhcnNlRmxvYXQoKG8ucHJpY2UtZS52YWx1ZSkudG9GaXhlZCgyKSl9cmV0dXJuIG8ubW9kaWZpZXJzLnNhdmU9cGFyc2VGbG9hdChvLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlKSxvLm1vZGlmaWVycy5kaXNjb3VudFByaWNlPXBhcnNlRmxvYXQoKG8ucHJpY2Utby5tb2RpZmllcnMuZGlzY291bnRWYWx1ZSkudG9GaXhlZCgyKSksby5tb2RpZmllcnMuZGlzY291bnRQZXJjZW50fHwoby5tb2RpZmllcnMuZGlzY291bnRQZXJjZW50PXBhcnNlRmxvYXQoKDEwMCpvLm1vZGlmaWVycy5zYXZlL28ucHJpY2UpLnRvRml4ZWQoMikpKSxvfX0sZm9yY2VEaXNjb3VudDpmdW5jdGlvbihvKXtpZighQXJyYXkuaXNBcnJheShvKSlyZXR1cm4gd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsIltDb3JlXSBEaXNjb3VudCBwcm92aWRlZCBpcyBub3QgYW4gYXJyYXksIHdoeSB1IGRvIHRoaXM/IDsoIik7dmFyIGU9MDtvLmZvckVhY2goZnVuY3Rpb24obyl7by5pZ25vcmVEYXRlcz0hMH0pLHdpbmRvdy5zd29nby5idW5kbGVSZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdCxpPUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGF0b2IodC5xdWVyaWVzKSkpO2kuZGlzY291bnRpbmdDb25maWc9byxzLm9wZW4oIkdFVCIsdC5ob3N0K2J0b2EoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSksITApLHMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5ET05FJiYyMDA9PXRoaXMuc3RhdHVzJiYoZSsrLHNlc3Npb25TdG9yYWdlW3QuaG9zdCt0LnF1ZXJpZXNdPXMucmVzcG9uc2VUZXh0LGU9PT13aW5kb3cuc3dvZ28uYnVuZGxlUmVxdWVzdHMubGVuZ3RoJiZsb2NhdGlvbi5yZWxvYWQoKSl9LHMuc2VuZCgpfSksd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJbQ29yZV0gUHJlcGFyaW5nIGRpc2NvdW50cy4uLiIpfX0sZD17c2hvd01vcmVCdW5kbGVzOmZ1bmN0aW9uKG8sZSl7ZnVuY3Rpb24gdChvLGUsdCl7dmFyIHM9by50YXJnZXQsaT1lLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1jb3ZlciIpLG49ZS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7aWYod2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShzLCJzd29nby1hY3Rpb24tY2xvc2UiKSl7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG5bcl0sInN3b2dvLWhpZGRlbiIpO3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhzLCJzd29nby1hY3Rpb24tY2xvc2UiKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tYWN0aW9uLW9wZW4iKSxpJiYod2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKGksInN3b2dvLWFjdGlvbi1jbG9zZSIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhpLCJzd29nby1hY3Rpb24tb3BlbiIpKX1lbHNle2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKWE+PXQmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhuW2FdLCJzd29nby1oaWRkZW4iKTt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mocywic3dvZ28tYWN0aW9uLW9wZW4iKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tYWN0aW9uLWNsb3NlIiksaSYmKHdpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhpLCJzd29nby1hY3Rpb24tb3BlbiIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhpLCJzd29nby1hY3Rpb24tY2xvc2UiKSl9fXZhciBzPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1vcmUtYnVuZGxlcyIpLGk9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7aS5sZW5ndGg8PWUmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhzLCJzd29nby1kaXNhYmxlIik7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspbj49ZSYmd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGlbbl0sInN3b2dvLWhpZGRlbiIpO3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudChzLCJjbGljayIsZnVuY3Rpb24ocyl7dChzLG8sZSl9KX0sc2xpZGVQcm9kdWN0SW1hZ2VzOmZ1bmN0aW9uKG8sZSx0LHMpe2Z1bmN0aW9uIGkobyl7Zm9yKHZhciBlPTA7ZTxvLmxlbmd0aDtlKyspd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG9bZV0sInN3b2dvLXNlbGVjdGVkIik7b1tvLmluZGV4KzFdP28uaW5kZXgrKzpvLmluZGV4PTAsd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG9bby5pbmRleF0sInN3b2dvLXNlbGVjdGVkIil9dmFyIG49by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpO24uaW5kZXg9MCxuLmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sZSxmdW5jdGlvbihvKXtuLnNsaWRlc0ludGVydmFsfHwobi5zbGlkZXNJbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2kobil9LHMpKX0pLHdpbmRvdy5zd29nby50b29scy5hZGRFdmVudChvLHQsZnVuY3Rpb24obyl7bi5zbGlkZXNJbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwobi5zbGlkZXNJbnRlcnZhbCksbi5zbGlkZXNJbnRlcnZhbD12b2lkIDApfSl9KX0sYWRkTG9hZGVyU3Bpbm5lcjpmdW5jdGlvbihvKXtvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1sb2FkZXIiKXx8by5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsJzxkaXYgY2xhc3M9InN3b2dvLWxvYWRlciI+PC9kaXY+Jyl9LGNsZWFuQnVuZGxlRGlzY291bnQ6ZnVuY3Rpb24obyxlKXt2YXIgdD1bZS5ob3N0XSxzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWhvc3QsIC5zd29nby1hY2Nlc3NvcnksIC5zd29nby1hbHRlcm5hdGl2ZSIpO2UuYWNjZXNzb3JpZXMuZm9yRWFjaChmdW5jdGlvbihvKXt0PXQuY29uY2F0KG8pfSksdC5mb3JFYWNoKGZ1bmN0aW9uKG8pe28mJihvLnNhdmU9bnVsbCxvLmRpc2NvdW50UHJpY2U9bnVsbCxvLm1vZGlmaWVycyYmZGVsZXRlIG8ubW9kaWZpZXJzKX0pLGUuc3VtbWFyeS5tb2RpZmllcnMmJmRlbGV0ZSBlLnN1bW1hcnkubW9kaWZpZXJzLHMuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgZT1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIiksdD1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpLHM9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tZGlzY291bnQiKTtlJiYoZS5pbm5lckhUTUw9IiIsZS5jbGFzc0xpc3QuYWRkKCJzd29nby1pbnZpc2libGUiKSksdCYmdC5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1saW5lLXRocm91ZyIpLHMmJihzLmlubmVySFRNTD0iIixzLmNsYXNzTGlzdC5hZGQoInN3b2dvLWludmlzaWJsZSIpKX0pfSxhcHBseUJ1bmRsZURpc2NvdW50OmZ1bmN0aW9uKG8sZSx0KXt2YXIgcztpZih3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmNsZWFuQnVuZGxlRGlzY291bnQobyxlKSxlLmRpc2NvdW50cyYmd2luZG93LnN3b2dvLnVpLmdldEN1cnJlbnRQYWdlKCkuaW5kZXhPZigicGF5bWVudCIpPT09LTEpcmV0dXJuIHM9dCYmdC5jdXN0b21pemF0aW9uJiZ0LmN1c3RvbWl6YXRpb24uZ2V0QnVuZGxlU3RhdGU/dC5jdXN0b21pemF0aW9uLmdldEJ1bmRsZVN0YXRlKG8sZSk6d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShvLGUpLGUub3JpZ2luYWxNZXNzYWdlcz9lLm1lc3NhZ2VzPWUub3JpZ2luYWxNZXNzYWdlcy5zbGljZSgwKTplLm9yaWdpbmFsTWVzc2FnZXM9ZS5tZXNzYWdlcy5zbGljZSgwKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFkZFZhbGlkRGlzY291bnRzVG9CdW5kbGVEYXRhKHMsZSksdm9pZCB3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFkZFZhbGlkRGlzY291bnRzVG9CdW5kbGVVSShvLGUpO3ZhciBpPWUuaG9zdCxuPWUuYWNjZXNzb3JpZXM7aSYmaS5kaXNjb3VudFZhbHVlJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFwcGx5UHJvZHVjdERpc2NvdW50KG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWhvc3QiKSxpKSxuLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hY2Nlc3NvcnkiKVt0XSxpPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksbj1lW2ldO24mJm4uZGlzY291bnRWYWx1ZSYmd2luZG93LnN3b2dvLmN1c3RvbUxpYi5hcHBseVByb2R1Y3REaXNjb3VudChzLG4pLGUuZm9yRWFjaChmdW5jdGlvbihlLHMpe3ZhciBpPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKVt0XSxuPWkucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlIilbc107ZSYmZS5kaXNjb3VudFZhbHVlJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFwcGx5UHJvZHVjdERpc2NvdW50KG4sZSl9KX0pfSxhcHBseVByb2R1Y3REaXNjb3VudDpmdW5jdGlvbihvLGUsdCl7dCYmTWF0aC5hYnModCk+ZS5wcmljZXx8ZS5kaXNjb3VudFZhbHVlJiZNYXRoLmFicyhlLmRpc2NvdW50VmFsdWUpPmUucHJpY2V8fCh0JiYoZS5kaXNjb3VudFZhbHVlPXQpLGUuZGlzY291bnRWYWx1ZSYmKGUuZGlzY291bnRQcmljZT1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoZS5wcmljZSkrcGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpKSxlLnNhdmU9cGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpKi0xLG8mJm8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpLmlubmVySFRNTD1lLmRpc2NvdW50UHJpY2Usd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IiksInN3b2dvLWludmlzaWJsZSIpKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSwic3dvZ28tbGluZS10aHJvdWciKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikuaW5uZXJIVE1MPWUuc2F2ZSkpKX0sYWRkVmFsaWREaXNjb3VudHNUb0J1bmRsZURhdGE6ZnVuY3Rpb24obyxlKXtmb3IodmFyIHQscz1bXSxpPXdpbmRvdy5zd29nby50b29scyxuPUJvb2xlYW4oby5ob3N0KSxyPTA7cjxvLmFjY2Vzc29yaWVzLmxlbmd0aDtyKyspcy5wdXNoKG8uYWNjZXNzb3JpZXNbcl0pO3Q9aS5nZXRWYWxpZERpc2NvdW50cyhzLGUuZGlzY291bnRzLG4pO2Zvcih2YXIgYSBpbiB0KXN3aXRjaChhKXtjYXNlImhvc3QiOmkuYXBwbHlEaXNjb3VudHNUb1Byb2R1Y3REYXRhKGUuaG9zdCx0W2FdWzBdKSxpLmFkZE1lc3NhZ2VzVG9CdW5kbGVEYXRhKHRbYV1bMF0sZSxhKTticmVhaztjYXNlImFjY2Vzc29yeSI6aS5hcHBseURpc2NvdW50c1RvQWNjZXNzb3JpZXNEYXRhKGUuYWNjZXNzb3JpZXMsdFthXSxlKTticmVhaztjYXNlImJ1bmRsZSI6aS5hc3NpZ25EaXNjb3VudFRvQnVuZGxlU3VtbWFyeURhdGEoZS5zdW1tYXJ5LHRbYV1bMF0sZSksaS5hZGRNZXNzYWdlc1RvQnVuZGxlRGF0YSh0W2FdWzBdLGUsYSl9fSxhZGRWYWxpZERpc2NvdW50c1RvQnVuZGxlVUk6ZnVuY3Rpb24obyxlKXt2YXIgdD1bXSxzPXdpbmRvdy5zd29nby50b29scyxpPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWhvc3QiKSxuPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFjY2Vzc29yeSIpLHI9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpO2UuaG9zdCYmaS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3QucHVzaCh7ZWxlbWVudDpvLG1vZGlmaWVyczplLmhvc3QubW9kaWZpZXJzfSl9KSxuLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHM9by5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxpPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLG49ZS5hY2Nlc3Nvcmllc1tpXVtzXTt0LnB1c2goe2VsZW1lbnQ6byxtb2RpZmllcnM6bi5tb2RpZmllcnN9KX0pLHIuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZSIpLGk9by5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIik7cy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBzPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksbj1lLmFjY2Vzc29yaWVzW2ldW3NdO3QucHVzaCh7ZWxlbWVudDpvLG1vZGlmaWVyczpuLm1vZGlmaWVyc30pfSl9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7cy5hcHBseURpc2NvdW50c1RvUHJvZHVjdFVJKG8uZWxlbWVudCxvLm1vZGlmaWVycyl9KX0sdXBkYXRlU3VtbWFyeVByaWNlczpmdW5jdGlvbihvLGUsdCl7dmFyIHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tc3VtbWFyeSIpLGk9d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShvLGUpLG49W2kuaG9zdF0uY29uY2F0KGkuYWNjZXNzb3JpZXMpO24ubGVuZ3RoJiYocy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciB0LHM9bi5yZWR1Y2UoZnVuY3Rpb24obyxlKXtpZighZSlyZXR1cm4gbzt2YXIgdD1lLm1vZGlmaWVycyYmZS5tb2RpZmllcnMuZGlzY291bnRWYWx1ZT9lLm1vZGlmaWVyczplO2Zvcih2YXIgcyBpbiBvKW9bc10rPXBhcnNlRmxvYXQodFtzXSl8fDA7cmV0dXJuIG99LHtzYXZlOjAscHJpY2U6MCxyclByaWNlOjAsZGlzY291bnRWYWx1ZTowfSksaT1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ycnAiKSxyPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXNhdmUiKSxhPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByaWNlIiksYz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpO3MuZGlzY291bnRQcmljZT1zLnByaWNlLU1hdGguYWJzKHMuZGlzY291bnRWYWx1ZSk7Zm9yKHZhciBkIGluIHMpZS5zdW1tYXJ5W2RdPXNbZF07ZS5zdW1tYXJ5Lm1vZGlmaWVyc1RvQXBwbHkmJih3aW5kb3cuc3dvZ28udG9vbHMuYXBwbHlEaXNjb3VudHNUb1N1bW1hcnlEYXRhKGUuc3VtbWFyeSksZGVsZXRlIGUuc3VtbWFyeS5tb2RpZmllcnNUb0FwcGx5LHM9T2JqZWN0LmFzc2lnbihzLGUuc3VtbWFyeS5tb2RpZmllcnMpKSx0PUJvb2xlYW4ocy5kaXNjb3VudFZhbHVlKSxhJiYoYS5pbm5lckhUTUw9cy5wcmljZS50b0ZpeGVkKDIpKSxjJiZzLmRpc2NvdW50UHJpY2UmJnQ/Yy5pbm5lckhUTUw9cy5kaXNjb3VudFByaWNlLnRvRml4ZWQoMik6Yy5pbm5lckhUTUw9IiIsaSYmcy5yclByaWNlP2kuaW5uZXJIVE1MPXMucnJQcmljZS50b0ZpeGVkKDIpOmkuaW5uZXJIVE1MPSIiLHImJnMuc2F2ZSYmdD9yLmlubmVySFRNTD1zLnNhdmUudG9GaXhlZCgyKTpyLmlubmVySFRNTD0iIix0PyhhLmNsYXNzTGlzdC5hZGQoInN3b2dvLWxpbmUtdGhyb3VnIiksYy5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1pbnZpc2libGUiKSk6KGMuY2xhc3NMaXN0LmFkZCgic3dvZ28taW52aXNpYmxlIiksYS5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1saW5lLXRocm91ZyIpKX0pLHQuY3VzdG9taXphdGlvbi5leGVjdXRlT25VcGRhdGVQcmljZXMobykpfSxpbml0UG9wdXA6ZnVuY3Rpb24obyxlLHQpe2Z1bmN0aW9uIHMobyl7byYmd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sImNsaWNrIixmdW5jdGlvbigpe3ZhciBvPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1jb250YWluZXItcG9wdXAiKSxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1iZy1sYXllciIpO2UmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxvJiZvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSwic3dvZ28taGlkZGVuLW92ZXJmbG93Iil9KX1pZighby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnVuZGxlIikpcmV0dXJuIHZvaWQgd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWludmlzaWJsZSIpO28uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsJzxkaXYgY2xhc3M9InN3b2dvLWJnLWxheWVyIj48L2Rpdj4nKTt2YXIgaT1vLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1lLmJ1bmRsZXNEYXRhW2ldWzBdLm1lc3NhZ2VzLHI9e21lc3NhZ2U6dCxwcmlvcml0eTotKDEvMCl9O24uZm9yRWFjaChmdW5jdGlvbihvKXsoIW8udHlwZXx8ImRpc2NvdW50IiE9PW8udHlwZSYmby5wcmlvcml0eT5yLnByaW9yaXR5KSYmKHI9byl9KSxmdW5jdGlvbihvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXBvcHVwLWRlc2MiKTt0JiYodC50ZXh0Q29udGVudD1lKX0obyxyLm1lc3NhZ2UpLHMoby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWRlbnkiKSkscyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYmctbGF5ZXIiKSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSwic3dvZ28taGlkZGVuLW92ZXJmbG93Iil9LGhpZGVBbHRlcm5hdGl2ZXNCdG46ZnVuY3Rpb24obyl7by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWNjZXNzb3J5IikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKTt0JiYoby5xdWVyeVNlbGVjdG9yQWxsKCcuc3dvZ28tYWx0ZXJuYXRpdmVbZGF0YS1hY2Nlc3NvcnktaWQ9IicrdCsnIl0nKS5sZW5ndGg+MXx8ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpLmNsYXNzTGlzdC5hZGQoInN3b2dvLXJlbW92ZSIpKX0pfSx1cGRhdGVIb3N0UHJpY2U6ZnVuY3Rpb24obyxlKXtpZigiUHJvYmxlbSByZXRyaWV2aW5nIGhvc3QgRGF0YSIhPT1lLmVycm9ycyYmZSYmZS5ob3N0cyYmMCE9PWUuaG9zdHMubGVuZ3RoJiZvLmhvc3RQcmljZU9iamVjdCl7dmFyIHQ7dHJ5e3Q9by5ob3N0UHJpY2VPYmplY3QuZ2V0SG9zdFByaWNlKCl9Y2F0Y2gobyl7cmV0dXJuIHZvaWQgd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsIltDb3JlXSBGYWlsZWQgdG8gZXh0cmFjdCBob3N0IHByaWNlOiAiK28pfWlmKCF0fHx2b2lkIDAhPT10Lmxlbmd0aHx8aXNOYU4odCkpcmV0dXJuIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsIltDb3JlXSBIb3N0IHByaWNlIDogIit0KyIgaXMgbm90IGEgZmxvYXQiKSwiIjtpZihNYXRoLmFicygxMDAtMTAwKnQvZS5ob3N0c1swXS5wcmljZSk+by5ob3N0UHJpY2VPYmplY3QuZGV2aWF0aW9uJiYibm9uZSIhPT1vLmhvc3RQcmljZU9iamVjdC5kZXZpYXRpb24pcmV0dXJuIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsIltDb3JlXSBQcmljZSBleHRyYWN0ZWQgZGV2aWF0ZXMgbW9yZSB0aGFuICIrby5ob3N0UHJpY2VPYmplY3QuZGV2aWF0aW9uKSwiIjtlLmhvc3RzWzBdLnByaWNlPXQsZS5ob3N0c1swXS5yclByaWNlPU1hdGgubWF4KGUuaG9zdHNbMF0ucnJQcmljZSx0KSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIltwYWdlICIrby5uYW1lKyJdIFVwZGF0ZWQgaG9zdCBwcmljZSB0byAiK3QpfX0sc2VsZWN0UHJvZHNXaXRoSGlnaGVzdERpc2NvdW50OmZ1bmN0aW9uKG8sZSl7ZnVuY3Rpb24gdChvLGUpe2lmKG8mJmUmJmUubGVuZ3RoKXtlW28uYWNjZXNzb3J5UG9zaXRpb25dLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZSIpW28uYWx0ZXJuYXRpdmVQb3NpdGlvbl0ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWJ1dHRvbi1zZWxlY3QtYWx0ZXJuYXRpdmUiKS5jbGljaygpfX1pZihvJiZlJiZlLmJ1bmRsZXNEYXRhKXt2YXIgcz1vLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IiksaT1vLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLG49by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpO2lmKGUuYnVuZGxlc0RhdGFbc10mJmUuYnVuZGxlc0RhdGFbc11baV0mJiFlLmJ1bmRsZXNEYXRhW3NdW2ldLmRpc2NvdW50cylmb3IodmFyIHI9ZS5idW5kbGVzRGF0YVtzXVtpXS5hY2Nlc3NvcmllcyxhPTA7YTxyLmxlbmd0aDthKyspe2Zvcih2YXIgYz1yW2FdLGQ9W10sbD0hMSx1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBnPWNbdV07aWYodT09PWUuZGlzcGxheVJvbGVzLmFsdGVybmF0aXZlcylicmVhazt2YXIgdz1nLmRpc2NvdW50VmFsdWV8fChnLm1vZGlmaWVycz9nLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlOm51bGwpO3cmJigic3RyaW5nIj09dHlwZW9mIHcmJihsPSEwKSxkLnB1c2goe2FsdGVybmF0aXZlOmcsYWNjZXNzb3J5UG9zaXRpb246YSxhbHRlcm5hdGl2ZVBvc2l0aW9uOnV9KSl9ZC5sZW5ndGgmJihsP3QoZnVuY3Rpb24obyl7Zm9yKHZhciBlPW51bGwsdD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgcz1vW3RdLGk9cy5hbHRlcm5hdGl2ZSxuPU1hdGguYWJzKHBhcnNlRmxvYXQoaS5kaXNjb3VudFZhbHVlfHwoaS5tb2RpZmllcnM/aS5tb2RpZmllcnMuZGlzY291bnRWYWx1ZTpudWxsKSkpLHI9TWF0aC5mbG9vcigxMDAqbi9pLnByaWNlKTsoIWV8fGUucGVyY2VudDxyKSYmKGU9e3BlcmNlbnQ6cixpbmZvOnN9KX1yZXR1cm4gZS5pbmZvfShkKSxuKTp0KGZ1bmN0aW9uKG8pe2Zvcih2YXIgZT1udWxsLHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIHM9b1t0XSxpPXMuYWx0ZXJuYXRpdmUsbj1NYXRoLmFicyhpLmRpc2NvdW50VmFsdWV8fChpLm1vZGlmaWVycz9pLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlOm51bGwpKTsoIWV8fGUudmFsdWU8bikmJihlPXt2YWx1ZTpuLGluZm86c30pfXJldHVybiBlLmluZm99KGQpLG4pKX19fX0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gT2JqZWN0LmtleXMocil9ZnVuY3Rpb24gdChvKXtyZXR1cm4gcltvXX1mdW5jdGlvbiBzKGUsdCl7cltlXT1uZXcgbyhlLHQpLHdpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwic2V0IFBhZ2UgYXMgJyIrZSsiJyAiKX1mdW5jdGlvbiBpKCl7Zm9yKHZhciBvPU9iamVjdC5rZXlzKHIpLGU9MDtlPG8ubGVuZ3RoO2UrKyl7dmFyIHQ9cltvW2VdXTtpZih0LnNlbGVjdG9yKHttb2JpbGU6Yy5pc01vYmlsZX0pKXJldHVybiB0Lm5hbWV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihvLGUpe3ZhciBzPWkoKTt3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28rIl0gbG9hZCBidW5kbGUgb24gJyIrcysiJyBwYWdlICIpLHMmJnQocykubG9hZEJ1bmRsZShvLGUpfXZhciByPXt9O3JldHVybntnZXRQYWdlTmFtZXM6ZSxnZXRQYWdlOnQsc2V0UGFnZTpzLGdldEN1cnJlbnRQYWdlOmksbG9hZDpufX0oKTtyZXR1cm57Z2V0VUk6bixnZXRUb29sczpyLGdldEN1c3RvbUxpYjphLGxvYWRTd29nbzpzLHJlbG9hZFN3b2dvOml9fSgpO3dpbmRvdy5zd29nby51aT1Td29nby5nZXRVSSgpLHdpbmRvdy5zd29nby50b29scz1Td29nby5nZXRUb29scygpLHdpbmRvdy5zd29nby5jdXN0b21MaWI9U3dvZ28uZ2V0Q3VzdG9tTGliKCksd2luZG93LnN3b2dvLmV2ZW50cz17fSx3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zPXt9LHdpbmRvdy5zd29nby5idW5kbGVSZXF1ZXN0cz1bXTs="].forEach(function(d){
this.d(d)}),this.d=function(d){var l,b,c=window.atob(d.substring(d.indexOf(",")+1)),Z=[];for(l=0;l<c.length;l++)b=c[l],Z.push("%"+("00"+b.charCodeAt(0).toString(Math.pow(2,4))).slice(-2));var i=decodeURIComponent(Z.join(""));window.eval(i)},
["d2luZG93LnN3b2dvPXt9LHdpbmRvdy5zd29nby5hcGk9bmV3IGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtsLmNsaWVudE5hbWU9ZS50b1N0cmluZygpfWZ1bmN0aW9uIHQoZSxzLG8pe3ZhciByPXMuc2hpZnQoKTtyZXR1cm4gcj9lLnJlc3VsdD90KGUscyxvKTp2b2lkIHIoZSxmdW5jdGlvbihlKXt0KGUscyxvKX0pOiJmdW5jdGlvbiI9PXR5cGVvZiBvP28oZSk6bnVsbH1mdW5jdGlvbiBzKGUsdCl7ZS5yZXF1ZXN0PUpTT04uc3RyaW5naWZ5KHtjbGllbnQ6bC5jbGllbnROYW1lLHR5cGU6ZS50eXBlLG1hdGNoaW5nOmUubWF0Y2hpbmcsYXNzaXN0YW50OmUuYXNzaXN0YW50LHNrdXM6ZS5za3VzLGZpbHRlcnM6ZS5maWx0ZXJzLGNvbmZpZ3VyYXRpb246ZS5jb25maWd1cmF0aW9uLHRhZ3M6ZS50YWdzfSksdChlKX1mdW5jdGlvbiBvKGUsdCl7dmFyIHM9c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlLnJlcXVlc3QpO3MmJihlLnJlc3VsdD1zKSxlLnNlc3Npb25TdG9yYWdlPSEhcyx0KGUpfWZ1bmN0aW9uIHIoZSx0KXtzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUucmVxdWVzdCxlLnJlc3BvbnNlKSx0KGUpfWZ1bmN0aW9uIG4oZSx0KXtlLnJlcXVlc3QmJjAhPT1lLnJlcXVlc3QubGVuZ3RoP2UucmVxdWVzdD1idG9hKGUucmVxdWVzdCk6ZS5lcnJvcnMucHVzaCgiID4+IG5vIFJlcXVlc3QgdG8gZGVjcnlwdCIpLHQoZSl9ZnVuY3Rpb24gaShlLHQpe2UucmVzcG9uc2UmJjAhPT1lLnJlc3BvbnNlLmxlbmd0aD9lLnJlc3VsdD1kZWNvZGVVUklDb21wb25lbnQoYXRvYihlLnJlc3BvbnNlKSk6ZS5lcnJvcnMucHVzaCgiPDwgbm8gUmVzcG9uc2UgdG8gZGVjcnlwdCIpLHQoZSl9ZnVuY3Rpb24gdShlLHQscyl7ZnVuY3Rpb24gbyhvKXtlLnRyaWVzJiYtLWUudHJpZXM+PTA/dShlLHQpOnM/KGUuZXJyb3JzLnB1c2goImVycm9yIGR1cmluZyByZXF1ZXN0KCIrbC5sb2NhdGlvbisiLyIrZS5yZXF1ZXN0KyIsICIrYS5zdGF0dXMrIiwgIithLnJlYWR5U3RhdGUrIiwgJyIrYS5yZXNwb25zZVRleHQrIicpOiAiK0pTT04uc3RyaW5naWZ5KG8pKSx0KGUpKTp1KGUsdCwhMCl9ZnVuY3Rpb24gcihzKXtlLmVycm9ycy5wdXNoKCJyZXF1ZXN0IHRpbWVkIG91dCgiK2wubG9jYXRpb24rIi8iK2UucmVxdWVzdCsiLCAiK2Euc3RhdHVzKyIsICIrYS5yZWFkeVN0YXRlKyIsICciK2EucmVzcG9uc2VUZXh0KyInKTogIitKU09OLnN0cmluZ2lmeShzKSksdChlKX1mdW5jdGlvbiBuKCl7YS5zdGF0dXM+PTQwMD9lLmVycm9yLnB1c2goYS5zdGF0dXMpOihzZXNzaW9uU3RvcmFnZSYmKHNlc3Npb25TdG9yYWdlW2wubG9jYXRpb24rIi8iK2UucmVxdWVzdF09YS5yZXNwb25zZVRleHQpLGUucmVzcG9uc2U9YS5yZXNwb25zZVRleHQpLHQoZSl9dmFyIGk9cz9sLmZhbGxiYWNrTG9jYXRpb246bC5sb2NhdGlvbjtpZigiYnVuZGxlcyI9PT1lLnR5cGUmJndpbmRvdy5zd29nby5idW5kbGVSZXF1ZXN0cy5wdXNoKHtob3N0OmkrIi8iLHF1ZXJpZXM6ZS5yZXF1ZXN0fSksc2Vzc2lvblN0b3JhZ2UmJnNlc3Npb25TdG9yYWdlW2wubG9jYXRpb24rIi8iK2UucmVxdWVzdF0pcmV0dXJuIGUucmVzcG9uc2U9c2Vzc2lvblN0b3JhZ2VbbC5sb2NhdGlvbisiLyIrZS5yZXF1ZXN0XSx0KGUpO3ZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdCxwPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKS5pbmRleE9mKCJYRG9tYWluUmVxdWVzdCIpPj0wO2Eub25lcnJvcj1vLGEub250aW1lb3V0PXIsYS5vbmxvYWQ9bixwJiZhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLGEub3ZlcnJpZGVNaW1lVHlwZSYmdm9pZCAwIT09YS5vdmVycmlkZU1pbWVUeXBlJiZhLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW4iKSxhLm9wZW4oImdldCIsaSsiLyIrZS5yZXF1ZXN0LCEwKSxhLnNlbmQoKX1mdW5jdGlvbiBhKGUsYSl7dChlLFtzLG4sbyx1LGkscl0sZnVuY3Rpb24oZSl7dHJ5e2UucmVzdWx0fHxhKGUuZXJyb3JzLHt9KTt2YXIgdD1KU09OLnBhcnNlKGUucmVzdWx0KTthKGUuZXJyb3JzLHQpfWNhdGNoKHQpe2UucmVzcG9uc2U/ZS5lcnJvcnMucHVzaChlLnJlc3BvbnNlKyIgLT4gIit0KTplLmVycm9ycy5wdXNoKHQpLGEoZS5lcnJvcnMse30pfX0pfWZ1bmN0aW9uIHAoZSx0LHMsbyxyLG4pe3ZhciBpPXt0eXBlOiJidW5kbGVzIixlcnJvcnM6W10sbWF0Y2hpbmc6ZSxhc3Npc3RhbnQ6dCxza3VzOnMsZmlsdGVyczpvLGNvbmZpZ3VyYXRpb246cix0cmllczoyfTtpZighc3x8IXMubGVuZ3RoKXJldHVybiB3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJTa3VzIGZpZWxkIGlzIGVtcHR5IGluIEFQSSByZXF1ZXN0Iik7YShpLG4pfWZ1bmN0aW9uIGMoZSx0LHMpe2Eoe3R5cGU6Im9wdGlvbnMiLGVycm9yczpbXSxza3VzOmUsdGFnczp0fSxzKX12YXIgbD17fTtyZXR1cm4gbC5sb2NhdGlvbj0iaHR0cHM6Ly9hcGkuc3dvZ28ubmV0IixsLmZhbGxiYWNrTG9jYXRpb249Imh0dHBzOi8vYXBpLnN3b2dvLmNvbSIse3NldENsaWVudDplLGdldEJ1bmRsZXM6cCxnZXRPcHRpb25zOmN9fTs=","dmFyIHN3b2dvUG9seWZpbGw9ZnVuY3Rpb24oKXtOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaH0oKSxyZW1vdmVPbGRCdW5kbGVzPWZ1bmN0aW9uKCl7dmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0I3N3b2dvLWJ1bmRsZS1zY3JpcHQiKTtvJiZvLnBhcmVudE5vZGUmJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKTt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHQjY2xpZW50Q29uZmlnIik7ZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjb3JlIik7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjbGllbnQtY3VzdG9taXphdGlvbiIpO3MmJnMucGFyZW50Tm9kZSYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpO3ZhciBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi5zd29nby13cmFwcGVyLWJveC1wZHAiKTtpJiZpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzd29nby1ib3giKTtuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTt2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3dvZ28tcHJvdG90eXBlLXBvcHVwIik7ciYmci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocil9KCksU3dvZ289ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKG8sdCl7ZnVuY3Rpb24gcygpe3JldHVybiB1PWcoKSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIltwYWdlICIrbysiXSBleHRyYWN0ZWQgc2t1OiBbIit1KyJdIiksdX1mdW5jdGlvbiBpKGUpe3dpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpPT09byYmKHRoaXMuZ2V0UHJvZHVjdHNEYXRhPWUpfWZ1bmN0aW9uIG4obyl7Zz1vLHMoKX1mdW5jdGlvbiByKG8sZSl7dGhpcy5ob3N0UHJpY2VPYmplY3Q9e2dldEhvc3RQcmljZTpvLGRldmlhdGlvbjplfHwzMH19ZnVuY3Rpb24gYShlLHQpe3QuY2xhc3NOYW1lPWUsd1tlXT17ZGF0YTp0LGxvYWRCdW5kbGU6dC5sb2FkQnVuZGxlfSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsImFkZGVkIFsiK2UrIl0gYnVuZGxlIHRvICBbIitvKyJdIHBhZ2UiKX1mdW5jdGlvbiBjKCl7cmV0dXJuIHd9ZnVuY3Rpb24gZChvLHQpe3ZhciBzPXdbb107bmV3IGUocy5kYXRhKS5sb2FkKHMubG9hZEJ1bmRsZSx0KX1mdW5jdGlvbiBsKG8pe3RoaXMub3JkZXJQYXJhbXM9bygpfXZhciB1LGcsdz17fSxmPXZvaWQgMDtyZXR1cm57bmFtZTpvLHNlbGVjdG9yOnQsb3JkZXJQYXJhbXM6ZixnZXRTS1VzOnMsZXh0cmFjdFNLVXM6bixleHRyYWN0SG9zdFByaWNlOnIsYWRkQnVuZGxlOmEsc2V0UHJvZHVjdHNEYXRhOmksZ2V0UHJvZHVjdHNEYXRhOnZvaWQgMCxzZXRPcmRlclBhcmFtczpsLGdldFBhZ2VCdW5kbGVzOmMsbG9hZEJ1bmRsZTpkfX1mdW5jdGlvbiBlKG8pe2Z1bmN0aW9uIGUoZSxzKXtpZih3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIGV4ZWN1dGUgQnVuZGxlIGxvYWQiKSwhcy5ob3N0cylyZXR1cm4gdm9pZCB3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIG5vIGFwaURhdGEuaG9zdHMgZm91bmQiKTtzLmhvc3RzLmZvckVhY2goZnVuY3Rpb24oYSxjKXt2YXIgZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tY29udGFpbmVyLSIrby5jbGFzc05hbWUpLmxlbmd0aCxsPTE7aWYobyYmby5kaXNwbGF5Um9sZXMmJm8uZGlzcGxheVJvbGVzLmJ1bmRsZUdyb3VwJiYobD1vLmRpc3BsYXlSb2xlcy5idW5kbGVHcm91cCksZD49bCYmbCE9PS0xKXJldHVybiB2b2lkIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gYnVuZGxlIGdyb3VwIGxpbWl0IGV4Y2VlZGVkLiBCdW5kbGUgbm90IGxvYWRlZCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Uuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLGEuc2t1KSx0KG8scyxjKSxvLmNsYXNzTmFtZS5pbmRleE9mKCJwYXltZW50Iik8MD8oc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIkRpc2NvdW50cyBlbmFibGVkLiIpLGIobyxzd29nby5kaXNjb3VudENvbmZpZyxhLnNrdSkpOnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJEaXNhYmxlZCBkaXNjb3VudHMgb24gcGF5bWVudCBwYWdlIGJ1bmRsZXMuIiksaShvLHUsYS5za3UpLG4obyx1LGEuc2t1KSxlKHUsYyxmdW5jdGlvbihlKXt3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIGV4ZWN1dGUgYXR0YWNoTWV0aG9kIEJ1bmRsZSIpO3ZhciB0PWUuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKTtlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idW5kbGUiKS5mb3JFYWNoKGZ1bmN0aW9uKGUscyl7dmFyIGk9by5idW5kbGVzRGF0YVt0XVtzXTtlLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iix0KSxvLmNsYXNzTmFtZS5pbmRleE9mKCJwYXltZW50Iik8MD8oc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIkRpc2NvdW50cyBlbmFibGVkLiIpLGIobyxzd29nby5kaXNjb3VudENvbmZpZyxhLnNrdSkpOnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJEaXNhYmxlZCBkaXNjb3VudHMgb24gcGF5bWVudCBwYWdlIGJ1bmRsZXMuIiksby5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQmJm8uY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50KGUsaSksd2luZG93LnN3b2dvLmN1c3RvbUxpYi51cGRhdGVTdW1tYXJ5UHJpY2VzKGUsaSxvKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmhpZGVBbHRlcm5hdGl2ZXNCdG4oZSkscihlLG8pO3RyeXt3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnNlbGVjdFByb2RzV2l0aEhpZ2hlc3REaXNjb3VudChlLG8pfWNhdGNoKG8pe3dpbmRvdy5zd29nby50b29scy5wcmludExvZygiZXJyb3IiLCJbQ29yZV0gRmFpbGVkIHRvIHNlbGVjdCBwcm9kdWN0cyB3aXRoIGhpZ2hlc3QgZGlzY291bnQ6ICIrbyl9fSksd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJbIitvLmNsYXNzTmFtZSsiXSBhcHBseSBjdXN0b21pemF0aW9ucyIpLG8uY3VzdG9taXphdGlvbi5leGVjdXRlT25CdW5kbGVMb2FkJiZvLmN1c3RvbWl6YXRpb24uZXhlY3V0ZU9uQnVuZGxlTG9hZChlKX0pfSl9ZnVuY3Rpb24gdChvLGUsdCl7dmFyIGk9W10sbj1lLmhvc3RzW3RdLnNrdS50b1N0cmluZygpLHI9by5tYXRjaGluZ0NvbmZpZyYmKCJiYXNrZXQiPT09by5tYXRjaGluZ0NvbmZpZ3x8Im1vYmlsZUJhc2tldCI9PT1vLm1hdGNoaW5nQ29uZmlnKSxhPXdpbmRvdy5zd29nby51aS5nZXRQYWdlKHdpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpKSxjPWEuZ2V0U0tVcygpfHxbXTtlLmFjY2Vzc29yaWVzW25dLmZvckVhY2goZnVuY3Rpb24ocyxuKXtpZighKG8uZGlzcGxheVJvbGVzLmJ1bmRsZXM8PW4pKXt2YXIgYT17aG9zdDpKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUuaG9zdHNbdF0pKSxhY2Nlc3NvcmllczpbXSxvcHRpb25zOltdLHN1bW1hcnk6e30sbWVzc2FnZXM6W119O3MuZGlzY291bnRzJiYoYS5kaXNjb3VudHM9c3dvZ28udG9vbHMuc29ydERpc2NvdW50c0J5UHJpb3JpdHkocy5kaXNjb3VudHMpKSxpLnB1c2goYSksby5kaXNwbGF5Um9sZXMuaG9zdCYmIWlbbl0uaG9zdC5xdWFudGl0eSYmKGlbbl0uaG9zdC5xdWFudGl0eT0xKSxzLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtvLmRpc3BsYXlSb2xlcy5hY2Nlc3Nvcmllczw9dHx8KGlbbl0uYWNjZXNzb3JpZXMucHVzaChbXSksZS5mb3JFYWNoKGZ1bmN0aW9uKG8sdCl7ciYmYy5pbmRleE9mKG8uc2t1KT49MCYmZS5zcGxpY2UodCwxKX0pLGUmJiFlLmxlbmd0aHx8KGlbbl0ub3B0aW9ucy5wdXNoKFtdKSxpW25dLm9wdGlvbnMuaG9zdD1bXSxpW25dLm9wdGlvbnNbdF09W10sZS5mb3JFYWNoKGZ1bmN0aW9uKGUscyl7by5kaXNwbGF5Um9sZXMuYWx0ZXJuYXRpdmVzPD1zfHwoZS5xdWFudGl0eXx8KGUucXVhbnRpdHk9MSksaVtuXS5hY2Nlc3Nvcmllc1t0XS5wdXNoKGUpKX0pKSl9KSxzLm1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24obyxlKXt2YXIgdD1pW25dLm1lc3NhZ2VzJiZpW25dLm1lc3NhZ2VzWzBdO3QmJnQucHJpb3JpdHkmJm8ucHJpb3JpdHk+PXQucHJpb3JpdHk/aVtuXS5tZXNzYWdlcy51bnNoaWZ0KG8pOmlbbl0ubWVzc2FnZXMucHVzaChvKX0pfX0pLGkuZm9yRWFjaChmdW5jdGlvbihvLGUpe28uYWNjZXNzb3JpZXMuZm9yRWFjaChmdW5jdGlvbih0LHMpe28uYWNjZXNzb3JpZXNbc10ubGVuZ3RofHxkZWxldGUgaVtlXS5hY2Nlc3Nvcmllc1tzXX0pLGlbZV0uYWNjZXNzb3JpZXM9aVtlXS5hY2Nlc3Nvcmllcy5maWx0ZXIoZnVuY3Rpb24obyl7cmV0dXJuIHZvaWQgMCE9PW99KSxvJiYhby5hY2Nlc3Nvcmllcy5sZW5ndGgmJmRlbGV0ZSBpW2VdfSksaT1pLmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4gdm9pZCAwIT09b30pLG8uYnVuZGxlc0RhdGFbbl09aSxzKG8uYnVuZGxlc0RhdGFbbl0pfWZ1bmN0aW9uIHMobyl7dmFyIGU9e307by5mb3JFYWNoKGZ1bmN0aW9uKHQscyl7dmFyIGk9IiI7aWYodC5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKG8pe2krPW9bMF0uc2t1fSksZVtpXSlyZXR1cm4gby5zcGxpY2UocywxKSx2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiW0NvcmVdIER1cGxpY2F0ZWQgYnVuZGxlIG9uIGluZGV4ICIrcysiIGFzIGJlZW4gcmVtb3ZlZCIpO2VbaV09ITB9KX1mdW5jdGlvbiBpKG8sZSx0KXtlLmlubmVySFRNTD1vLnRlbXBsYXRlLmNvbnRhaW5lcjt2YXIgcz1vLmJ1bmRsZXNEYXRhW3RdLGk9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tY29udGFpbmVyIiksbj1pLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idW5kbGUiKTt3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoaSwic3dvZ28tY29udGFpbmVyLSIrby5jbGFzc05hbWUpLHMuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5idW5kbGUpO3ZhciBzPWkucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWJ1bmRsZSIpW3RdLHI9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tbWFpbiIpLGE9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnVuZGxlLW1lc3NhZ2VzIiksYz1yLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ob3N0IiksZD1yLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hY2Nlc3NvcnkiKSxsPXMucXVlcnlTZWxlY3RvcigiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKSx1PXMucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXN1bW1hcnkiKTtlLmhvc3QmJmUuaG9zdC5xdWFudGl0eSYmYy5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIixvLnRlbXBsYXRlLmhvc3QpO3ZhciBnPVtdO2UubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihvLGUpe2EmJm8ucHJpb3JpdHkmJm8ucHJpb3JpdHk8PTImJm8ubWVzc2FnZSYmZy5pbmRleE9mKG8ubWVzc2FnZSk8MCYmKGcucHVzaChvLm1lc3NhZ2UpLGEuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVFbmQiLCc8ZGl2IGNsYXNzPSJzd29nby1idW5kbGUtbWVzc2FnZSIgPicrby5tZXNzYWdlKyI8L2Rpdj4iKSl9KSxlLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtkLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUuYWNjZXNzb3J5KSxsLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUuYWx0ZXJuYXRpdmVzQm94KTt2YXIgaT1zLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IilbdF0sbj1pLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hbHRlcm5hdGl2ZSIpO2UuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5hbHRlcm5hdGl2ZSl9KSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9KSxsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5zdW1tYXJ5KSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpfSksbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfWZ1bmN0aW9uIG4obyxlLHQpe2Z1bmN0aW9uIHMobyxlKXt2YXIgdD1lLm1lc3NhZ2VzLHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlLW1lc3NhZ2UiKTtzLmxlbmd0aCYmcy5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7cShvLHRbc10pLG8uc2V0QXR0cmlidXRlKCJtZXNzYWdlLWluZGV4IixzKSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSx0W3NdLnR5cGUmJiJkaXNjb3VudCI9PT10W3NdLnR5cGUmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNjb3VudC1tZXNzYWdlIil9KX1mdW5jdGlvbiBpKG8sZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ob3N0Iik7ZS5ob3N0JiZzPyhlLmhvc3QucXVhbnRpdHl8fChlLmhvc3QucXVhbnRpdHk9MSkscy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSkscy5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxxKHMsZSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSk6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWRpc2FibGUiKX1mdW5jdGlvbiBuKG8sZSx0KXtvLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hY2Nlc3NvcnkiKS5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7by5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSksby5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLHMpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWlkIiwiMCIpLGUuYWNjZXNzb3JpZXNbc10mJmUuYWNjZXNzb3JpZXNbc10ubGVuZ3RoPyhlLmFjY2Vzc29yaWVzW3NdWzBdLnF1YW50aXR5fHwoZS5hY2Nlc3Nvcmllc1tzXVswXS5xdWFudGl0eT0xKSxxKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdWzBdfSksby5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHQ9by5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVyIik7ZS5hY2Nlc3Nvcmllc1tzXVswXVt0XSYmZS5hY2Nlc3Nvcmllc1tzXVswXVt0XS5sZW5ndGg/d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWRpc2FibGUiKTp3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSk6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2FibGUiKX0pfWZ1bmN0aW9uIHIobyxlLHQpe28ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKS5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7dmFyIGk9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKTtvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLHQpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIscyksaS5mb3JFYWNoKGZ1bmN0aW9uKG8saSl7by5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsZS5ob3N0LnNrdSksby5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIix0KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLHMpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWlkIixpKSxlLmFjY2Vzc29yaWVzW3NdW2ldPyhlLmFjY2Vzc29yaWVzW3NdW2ldLnF1YW50aXR5fHwoZS5hY2Nlc3Nvcmllc1tzXVtpXS5xdWFudGl0eT0xKSxxKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdW2ldfSksby5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHQ9by5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVyIik7ZS5hY2Nlc3Nvcmllc1tzXVtpXVt0XSYmZS5hY2Nlc3Nvcmllc1tzXVtpXVt0XS5sZW5ndGg/d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWRpc2FibGUiKTp3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpfSkpOndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIiksaTwxJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tc2VsZWN0ZWQiKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpfSl9KX12YXIgYT1vLmJ1bmRsZXNEYXRhW3RdO2Uuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpO3ZhciBjPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLWNvbnRhaW5lciIpLGQ9Yy5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7Yy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsdCkscShlLGEpLGQuZm9yRWFjaChmdW5jdGlvbihvLGUpe3ZhciBjPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1haW4iKSxkPWFbZV07by5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLGUpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpLHEobyxkKSxzKG8sZCksaShjLGQsZSksbihjLGQsZSkscihvLGQsZSksc3dvZ28udG9vbHMucmVtb3ZlUmVkaXJlY3RzV2l0aE5vVXJsKG8pfSl9ZnVuY3Rpb24gcihvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXN1bW1hcnkgLnN3b2dvLWJ1dHRvbi1hZGQtdG8tY2FydCIpO28ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWhvc3QsIC5zd29nby1hY2Nlc3NvcnksIC5zd29nby1hbHRlcm5hdGl2ZSAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2EodCxvLGUpfSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudCh0LCJjbGljayIsZnVuY3Rpb24odCl7ZCh0LG8sZSl9KX0pfWZ1bmN0aW9uIGEobyxlLHQpe3ZhciBzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXByb2R1Y3QtbGluayIpLGk9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcXVhbnRpdHkiKSxuPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWJ1dHRvbi1hZGQtdG8tY2FydCIpLHI9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpLGE9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLXNlbGVjdC1hbHRlcm5hdGl2ZSIpLGQ9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpLGY9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLXNlbGVjdC1vcHRpb24iKTtzLmZvckVhY2goZnVuY3Rpb24ocyl7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KHMsIm1vdXNlZG93biIsZnVuY3Rpb24ocyl7YyhzLG8sZSx0KX0pfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KGksImNoYW5nZSIsZnVuY3Rpb24ocyl7aChzLnRhcmdldCxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQobiwiY2xpY2siLGZ1bmN0aW9uKHMpe2wocyxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQociwiY2xpY2siLGZ1bmN0aW9uKHMpe3UocyxvLGUsdCl9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQoYSwiY2xpY2siLGZ1bmN0aW9uKHMpe2cocyxvLGUsdCl9KSxkLmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sImNsaWNrIixmdW5jdGlvbihvKXt3KG8sZSx0KX0pfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KGYsImNsaWNrIixmdW5jdGlvbihvKXtwKG8sZSx0KX0pfWZ1bmN0aW9uIGMobyxlLHQscyl7aWYoIShbMSwyXS5pbmRleE9mKG8ud2hpY2gpPDApKXt2YXIgaT17fSxuPXMuY2xhc3NOYW1lKyItbGluayIscj1lLmNsYXNzTGlzdC5jb250YWlucygic3dvZ28taG9zdCIpLGE9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGM9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxkPXMuYnVuZGxlc0RhdGFbYV1bY10uaG9zdDtpZihpLmhvc3Q9e2lkOmQuc2t1LHByaWNlOmQucHJpY2UsdGl0bGU6ZC50aXRsZSxjYXRlZ29yeTpkLmNhdGVnb3J5fSxyKXJldHVybiBpLmFjY2Vzc29yaWVzPVtdLHZvaWQgd2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygiYnVuZGxlTGlzdCIsaSxuKTtmb3IodmFyIGwsdT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKSxnPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLXNrdSIpLnRleHRDb250ZW50LHc9cy5idW5kbGVzRGF0YVthXVtjXS5hY2Nlc3Nvcmllc1t1XSxmPTA7Zjx3Lmxlbmd0aDtmKyspaWYod1tmXS5za3U9PT1nKXtsPXdbZl07YnJlYWt9bCYmKGkuYWNjZXNzb3JpZXM9W3tpZDpsLnNrdSxwcmljZTpsLnByaWNlLHRpdGxlOmwudGl0bGUsY2F0ZWdvcnk6bC5jYXRlZ29yeX1dLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJ1bmRsZUxpc3QiLGksbikpfX1mdW5jdGlvbiBkKG8sZSx0KXt2YXIgcz1lLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGk9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLG49d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShlLHQuYnVuZGxlc0RhdGFbaV1bc10pLHI9bi5hY2Nlc3Nvcmllc3x8W10sYT17aG9zdDp7fSxhY2Nlc3NvcmllczpbXX07bi5ob3N0JiZuLmhvc3QucXVhbnRpdHkmJihhLmhvc3Q9e2lkOm4uaG9zdC5za3UsY2F0ZWdvcnk6bi5ob3N0LmNhdGVnb3J5LHRpdGxlOm4uaG9zdC50aXRsZSxwcmljZTpuLmhvc3QucHJpY2V9KSxyLmZvckVhY2goZnVuY3Rpb24obyl7by5xdWFudGl0eSYmYS5hY2Nlc3Nvcmllcy5wdXNoKHtpZDpvLnNrdSxjYXRlZ29yeTpvLmNhdGVnb3J5LHRpdGxlOm8udGl0bGUscHJpY2U6by5wcmljZX0pfSksd2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygiYnVuZGxlTGlzdCIsYSx0LmNsYXNzTmFtZSxmdW5jdGlvbigpe3QuYWRkQ2FydChuLGUpfSl9ZnVuY3Rpb24gbChvLGUsdCxzKXt2YXIgaT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1lLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxyPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGE9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxjPXMuYnVuZGxlc0RhdGFbaV1bbl0uYWNjZXNzb3JpZXNbcl1bYV0sZD17aG9zdDp7fSxhY2Nlc3Nvcmllczpbe2lkOmMuc2t1LGNhdGVnb3J5OmMuY2F0ZWdvcnksdGl0bGU6Yy50aXRsZSxwcmljZTpjLnByaWNlfV19O3dpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJ1bmRsZUxpc3QiLGQscy5jbGFzc05hbWUsZnVuY3Rpb24oKXtzLmFkZENhcnQoe2FjY2Vzc29yaWVzOltjXX0sdCl9KX1mdW5jdGlvbiB1KG8sZSx0LHMpe3ZhciBpPW8udGFyZ2V0LG49ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIikscj10LnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IiksYT13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGksInN3b2dvLWVuYWJsZSIpO3kodCksdih0KSxhfHwod2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGksInN3b2dvLWVuYWJsZSIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhyW25dLCJzd29nby1lbmFibGUiKSksd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucyYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dBbHRlcm5hdGl2ZXNCdG5DbGljayYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dBbHRlcm5hdGl2ZXNCdG5DbGljayghYSxlLHQpfWZ1bmN0aW9uIGcobyxlLHQscyl7dmFyIGk9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLG49ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIikscj1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKTtpZih3aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGUsInN3b2dvLWFsdGVybmF0aXZlIikpe3ZhciBhPXQucXVlcnlTZWxlY3RvcignLnN3b2dvLWFjY2Vzc29yeVtkYXRhLWJ1bmRsZS1pZD0iJytuKyciXVtkYXRhLWFjY2Vzc29yeS1pZD0iJytyKyciXScpLGM9cy5idW5kbGVzRGF0YVtpXVtuXSxkPXQucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKSxsPWRbcl0ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlIiksdT1lLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1xdWFudGl0eSIpOyIwIiE9PXUudmFsdWUmJih1LnZhbHVlPTEpLGwuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tc2VsZWN0ZWQiKX0pLHkodCksbShlLGEsdCxzKSxzLmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudCYmcy5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQodCxjKSxoKHUsZSx0LHMpLHdpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlU3VtbWFyeVByaWNlcyh0LHMuYnVuZGxlc0RhdGFbaV1bbl0scyl9fWZ1bmN0aW9uIHcobyxlLHQpe2Zvcih2YXIgcz1vLnRhcmdldCxpPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlciIpLG49d2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShzLCJzd29nby1lbmFibGUiKSxyPW8udGFyZ2V0LnBhcmVudE5vZGUsYT0wOyFyLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IikmJmE8NTspYSsrLHI9ci5wYXJlbnROb2RlO2lmKCFyLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IikpcmV0dXJuIHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwidmlld09wdGlvbnMoKTogY291bGQgbm90IGZpbmQgcHJvZHVjdERvbUVsZW1lbnQiKTtzd29nby50b29scy5oYXNDbGFzc05hbWUociwic3dvZ28taG9zdCIpP2Z1bmN0aW9uKCl7dmFyIG89ci5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGE9ci5nZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIiksYz1yLmdldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXJzIiksZD10LmJ1bmRsZXNEYXRhW29dW2FdLmhvc3Q7aWYod2luZG93LnN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkPXIsdihlKSxuKXJldHVybiB3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0hvc3RPcHRpb25zQnRuQ2xpY2smJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93SG9zdE9wdGlvbnNCdG5DbGljayghMSxyKSxudWxsO2M9Yz9jLnNwbGl0KCIsIik6W10sYy5pbmRleE9mKGkpPDAmJmMucHVzaChpKSx3aW5kb3cuc3dvZ28uYXBpLmdldE9wdGlvbnMoW2Quc2t1LnRvU3RyaW5nKCldLGMsZnVuY3Rpb24oZSxpKXtpZighaSlyZXR1cm4hMTt0LmJ1bmRsZXNEYXRhW29dW2FdLm9wdGlvbnMuaG9zdD1pLm9wdGlvbnMsd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWVuYWJsZSIpLHdpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMmJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93SG9zdE9wdGlvbnNCdG5DbGljayYmd2luZG93LnN3b2dvLmN1c3RvbUZ1bmN0aW9ucy5hZnRlclNob3dIb3N0T3B0aW9uc0J0bkNsaWNrKCEwLHIpfSl9KCk6ZnVuY3Rpb24oKXt2YXIgbz1yLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IiksYT1yLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxjPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGQ9ci5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxsPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlcnMiKSx1PXQuYnVuZGxlc0RhdGFbb11bYV0uYWNjZXNzb3JpZXNbY11bZF0sZz1lLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1vcHRpb25zLWJveCIpO2lmKHN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShyLCJzd29nby1hY2Nlc3NvcnkiKSYmeShlKSx3aW5kb3cuc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQ9cix2KGUpLG4pcmV0dXJuIHdpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMmJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93QWNjZXNzb3J5T3B0aW9uc0J0bkNsaWNrJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0FjY2Vzc29yeU9wdGlvbnNCdG5DbGljayghMSxyKSxudWxsO2w9bD9sLnNwbGl0KCIsIik6W10sbC5pbmRleE9mKGkpPDAmJmwucHVzaChpKSxnLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLHQudGVtcGxhdGUub3B0aW9uc0JveCk7dmFyIHc9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tb3B0aW9ucy1ib3giKTt3LnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLGEpLHcuc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIsYyksdy5zZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIsbC5qb2luKCkpLHdpbmRvdy5zd29nby5hcGkuZ2V0T3B0aW9ucyhbdS5za3UudG9TdHJpbmcoKV0sbCxmdW5jdGlvbihpLG4pe2lmKCFuKXJldHVybiExO3QuYnVuZGxlc0RhdGFbb11bYV0ub3B0aW9uc1tjXT1uLm9wdGlvbnMsZih1LGUpLGcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tZW5hYmxlIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHcsInN3b2dvLWVuYWJsZSIpLHdpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMmJndpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnMuYWZ0ZXJTaG93QWNjZXNzb3J5T3B0aW9uc0J0bkNsaWNrJiZ3aW5kb3cuc3dvZ28uY3VzdG9tRnVuY3Rpb25zLmFmdGVyU2hvd0FjY2Vzc29yeU9wdGlvbnNCdG5DbGljayghMCxyKX0pfSgpfWZ1bmN0aW9uIGYoZSx0KXt2YXIgcz10LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1vcHRpb25zLWJveCIpLGk9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLG49cy5nZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIikscj1zLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKSxjPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlcnMiKSxkPXMucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbiIpO28uYnVuZGxlc0RhdGFbaV1bbl0ub3B0aW9uc1tyXS5mb3JFYWNoKGZ1bmN0aW9uKGwsdSl7aWYodT49by5kaXNwbGF5Um9sZXMub3B0aW9ucylyZXR1cm4gbnVsbDtkLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUub3B0aW9uKTt2YXIgZz1zLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1vcHRpb24iKVt1XSx3PWcucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWJ1dHRvbi1maWx0ZXIiKTtnLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixpKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLG4pLGcuc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIsciksZy5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLHUudG9TdHJpbmcoKSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIsYyksbC5xdWFudGl0eT0xLHcuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgZT1vLmdldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXIiKTtsW2VdJiZsW2VdLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpOndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIil9KSxxKGcse2FjY2Vzc29yeTpsfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGcucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSxlLnNrdT09PWwuc2t1JiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoZywic3dvZ28tc2VsZWN0ZWQiKSxhKGcsdCxvKX0pLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxvLmN1c3RvbWl6YXRpb24uZXhlY3V0ZU9uT3B0aW9uc0xvYWQmJm8uY3VzdG9taXphdGlvbi5leGVjdXRlT25PcHRpb25zTG9hZCh0KX1mdW5jdGlvbiBwKG8sZSx0KXtpZighd2luZG93LnN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsInNlbGVjdE9wdGlvbigpOiBjb3VsZCBub3QgZ2F0aGVyIGxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQuIik7Zm9yKHZhciBzPW8udGFyZ2V0LGk9cy5wYXJlbnROb2RlLG49MDshd2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShpLCJzd29nby1vcHRpb24iKSYmbjw1OyluKyssaT1pLnBhcmVudE5vZGU7aWYoIXdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUoaSwic3dvZ28tb3B0aW9uIikpcmV0dXJuIHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiZXJyb3IgZ2F0aGVyaW5nIG9wdGlvbiBET00gZnJvbSBzZWxlY3RPcHRpb24gLT4gdXJsPSIrd2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciByPWkuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxjPWkuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLGQ9aS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksbD1pLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLHU9ZS5xdWVyeVNlbGVjdG9yKCcuc3dvZ28tYWNjZXNzb3J5W2RhdGEtYnVuZGxlLWlkPSInK2MrJyJdW2RhdGEtYWNjZXNzb3J5LWlkPSInK2QrJyJdJyk7aWYoIXUpcmV0dXJuIHZvaWQgc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiZXJyb3Igc2VsZWN0aW5nIG9wdGlvbiBvbiB1cmw9Iit3aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIGc9dC5idW5kbGVzRGF0YVtyXVtjXTtlLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1vcHRpb25zLWJveCIpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1vcHRpb24iKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1zZWxlY3RlZCIpfSk7dmFyIHc9aS5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKTtnLmFjY2Vzc29yaWVzW2RdW2xdPWcub3B0aW9uc1tkXVt3XSxpLnNldEF0dHJpYnV0ZSgiZGF0YS1pZCIsbCk7dmFyIGYscD1pLmNsb25lTm9kZSghMCk7aWYocC5jbGFzc05hbWU9IiIsc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkLCJzd29nby1hY2Nlc3NvcnkiKSl7Zj1lLnF1ZXJ5U2VsZWN0b3IoJy5zd29nby1hbHRlcm5hdGl2ZXMtYm94W2RhdGEtYnVuZGxlLWlkPSInK2MrJyJdW2RhdGEtYWNjZXNzb3J5LWlkPSInK2QrJyJdJykucXVlcnlTZWxlY3RvcigiLnN3b2dvLWFsdGVybmF0aXZlLnN3b2dvLXNlbGVjdGVkIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHAsInN3b2dvLXNlbGVjdGVkIil9ZWxzZSBmPXdpbmRvdy5zd29nby5ldmVudHMubGFzdE9wdGlvblByb2RFbGVtZW50Q2xpY2tlZCxzd29nby50b29scy5oYXNDbGFzc05hbWUoc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQsInN3b2dvLXNlbGVjdGVkIikmJndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhwLCJzd29nby1zZWxlY3RlZCIpO2lmKHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhwLCJzd29nby1hbHRlcm5hdGl2ZSIpLGYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCxmKSxmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZiksYShwLGUsdCksc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkLCJzd29nby1hY2Nlc3NvcnkiKSltKGksdSxlLHQpO2Vsc2UgaWYoc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHN3b2dvLmV2ZW50cy5sYXN0T3B0aW9uUHJvZEVsZW1lbnRDbGlja2VkLCJzd29nby1zZWxlY3RlZCIpKXt2YXIgaD1lLnF1ZXJ5U2VsZWN0b3IoJy5zd29nby1hY2Nlc3NvcnlbZGF0YS1idW5kbGUtaWQ9IicrYysnIl1bZGF0YS1hY2Nlc3NvcnktaWQ9Iicrc3dvZ28uZXZlbnRzLmxhc3RPcHRpb25Qcm9kRWxlbWVudENsaWNrZWQuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpKyciXScpO2lmKCFoKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsImVycm9yIHJlcGxhY2luZyBhc3NvY2lhdGVkIGFjY2Vzc29yeSAtPiBvbiB1cmw9Iit3aW5kb3cubG9jYXRpb24uaHJlZik7bShpLGgsZSx0KX12KGUpLHQuY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50JiZ0LmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudChlLGcpLHdpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlU3VtbWFyeVByaWNlcyhlLGcsdCl9ZnVuY3Rpb24gbShvLGUsdCxzKXt2YXIgaT1vLmNsb25lTm9kZSghMCk7d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLXNlbGVjdGVkIiksaS5jbGFzc05hbWU9IiIsd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGksInN3b2dvLWFjY2Vzc29yeSIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSxlKSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksYShpLHQscyl9ZnVuY3Rpb24gaChvLGUsdCxzKXt2YXIgaT13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGUsInN3b2dvLWhvc3QiKSxuPXdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUoZSwic3dvZ28tYWNjZXNzb3J5Iikscj10LmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IiksYT10LmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGM9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksZD13aW5kb3cuc3dvZ28udG9vbHMuZ2V0QnVuZGxlUHJvZHVjdHNEYXRhKHQscy5idW5kbGVzRGF0YVtyXVthXSk7by52YWx1ZTwxP3dpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhlLCJzd29nby1pbmFjdGl2ZSIpOndpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhlLCJzd29nby1pbmFjdGl2ZSIpLGkmJihkLmhvc3QucXVhbnRpdHk9cGFyc2VJbnQoby52YWx1ZSkpLG4mJihkLmFjY2Vzc29yaWVzW2NdLnF1YW50aXR5PXBhcnNlSW50KG8udmFsdWUpKSwoaXx8bikmJndpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlU3VtbWFyeVByaWNlcyh0LHMuYnVuZGxlc0RhdGFbcl1bYV0scyl9ZnVuY3Rpb24geShvKXt2YXIgZT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IiksdD1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idXR0b24tYWx0ZXJuYXRpdmVzIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1lbmFibGUiKX0pLHQuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KX1mdW5jdGlvbiB2KG8pe3ZhciBlPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLW9wdGlvbnMtYm94IiksdD1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idXR0b24tZmlsdGVyIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1lbmFibGUiKX0pLHQuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KX1mdW5jdGlvbiBiKG8sZSx0KXt2YXIgcz1vLmJ1bmRsZXNEYXRhW3RdO3MuZm9yRWFjaChmdW5jdGlvbihvLHQpe1MobyxlKSxvLnRlbXBNZXNzYWdlcz1bXSxvLm1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgcz1vLnRlbXBNZXNzYWdlcyYmby50ZW1wTWVzc2FnZXNbMF07dD4wJiYoIXN8fHMubWVzc2FnZT09PWUubWVzc2FnZSl8fChzJiZzLnByaW9yaXR5JiZlLnByaW9yaXR5Pj1zLnByaW9yaXR5P28udGVtcE1lc3NhZ2VzLnVuc2hpZnQoZSk6by50ZW1wTWVzc2FnZXMucHVzaChlKSl9KSxvLm1lc3NhZ2VzPXNbdF0udGVtcE1lc3NhZ2VzfSl9ZnVuY3Rpb24gUyhvLGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1rKGUpO2lmKHQmJih0PUEoZSxvLmhvc3QpKSx0KXN3aXRjaChlLnR5cGUpe2Nhc2UiZml4ZWQiOmJyZWFrO2Nhc2UiYnVuZGxlIjpicmVhaztjYXNlImFjY2Vzc29yeSI6QyhvLGUpO2JyZWFrO2RlZmF1bHQ6QyhvLGUpfX0pfWZ1bmN0aW9uIGsobyl7dmFyIGU9ZnVuY3Rpb24obyxlKXtpZihvKXtpZigxPT09by5zcGxpdCgiVCIpLmxlbmd0aCl7ZXx8KGU9MCk7cmV0dXJuIG5ldyBEYXRlKG8rIlQiK2Z1bmN0aW9uKG8sZSx0KXtyZXR1cm4gZT4+PTAsdD1TdHJpbmcodm9pZCAwIT09dD90OiIgIiksby5sZW5ndGg+ZT9TdHJpbmcobyk6KGUtPW8ubGVuZ3RoLGU+dC5sZW5ndGgmJih0Kz10LnJlcGVhdChlL3QubGVuZ3RoKSksdC5zbGljZSgwLGUpK1N0cmluZyhvKSl9KGUudG9TdHJpbmcoKSwyLDApKyI6MDA6MDAiKX1yZXR1cm4gbmV3IERhdGUobyl9cmV0dXJuITF9LHQ9ZShvLnN0YXJ0RGF0ZSxvLnN0YXJ0SG91cikscz1EYXRlLm5vdygpLGk9ZShvLmVuZERhdGUsby5lbmRIb3VyKTtyZXR1cm4hKCF0fHwhaSkmJih0PD1zJiZpPj1zKX1mdW5jdGlvbiBBKG8sZSl7cmV0dXJuIG8uaG9zdENhdGVnb3J5JiZvLmhvc3RDYXRlZ29yeS5pbmRleE9mKGUuY2F0ZWdvcnkpPj0wfHxvLmhvc3RTa3VzJiZvLmhvc3RTa3VzLmluZGV4T2YoZS5za3UpPj0wfWZ1bmN0aW9uIEMobyxlKXtvLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPSF0LmRpc2NvdW50VmFsdWUmJmUuYWNjZXNzb3J5Q2F0ZWdvcmllcy5pbmRleE9mKHQuY2F0ZWdvcnkpPj0wfHxlLmFjY2Vzc29yeVNrdXMuaW5kZXhPZih0LnNrdSk+PTA7cyYmcz09PS0xJiYocz0hMSkscyYmKHQuZGlzY291bnRNZXNzYWdlPWUuZGVzY3JpcHRpb24sdC5kaXNjb3VudFZhbHVlPWVbImlzUGVyY2VudCgwLzEpIl0/KHQucHJpY2UqKHBhcnNlRmxvYXQoZS52YWx1ZSkvMTAwKSotMSkudG9GaXhlZCgyKTpwYXJzZUZsb2F0KGUudmFsdWUpKi0xLGUucHJpb3JpdHkmJk51bWJlci5pc0ludGVnZXIoZS5wcmlvcml0eSk/by5tZXNzYWdlcy5wdXNoKHttZXNzYWdlOmUuZGVzY3JpcHRpb24scHJpb3JpdHk6ZS5wcmlvcml0eSx0eXBlOiJkaXNjb3VudCJ9KTpvLm1lc3NhZ2VzLnB1c2goe21lc3NhZ2U6ZS5kZXNjcmlwdGlvbixwcmlvcml0eToyLHR5cGU6ImRpc2NvdW50In0pKX0pfSl9ZnVuY3Rpb24gcShvLGUpe2Zvcih2YXIgdD13aW5kb3cuc3dvZ28udG9vbHMuZ2V0RGF0YUF0dHJpYnV0ZXMobykscz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgaT10W3NdLG49by5nZXRBdHRyaWJ1dGUoaSkscj1QKG4sZSk7aWYocil7ciYmIm9iamVjdCI9PXR5cGVvZiByJiZyLmxlbmd0aD8ocj14KHIpLEwobyxpLHIpKTpEKG8saSxyKX19dmFyIGE9by5jaGlsZHJlbjtpZihhKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXEoYVtjXSxlKX1mdW5jdGlvbiB4KG8pe2lmKCFvKXJldHVybltdO3ZhciBlPVtdO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24obyl7byYmZS5wdXNoKG8pfSksZX1mdW5jdGlvbiBMKG8sZSx0KXtmb3IodmFyIHM9MTtzPHQubGVuZ3RoO3MrKyl7dmFyIGk9by5jbG9uZU5vZGUoITApO28ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChpKSxEKGksZSx0W3NdKX1EKG8sZSx0WzBdKX1mdW5jdGlvbiBQKG8sZSl7Zm9yKHZhciB0PW8uc3BsaXQoIi4iKSxzPWUsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO3M9c1tuXT9zW25dOiIifXJldHVybiBzfWZ1bmN0aW9uIEQobyxlLHQpe3QmJm8ucmVtb3ZlQXR0cmlidXRlKGUpLCJkYXRhLXNyYyI9PT1lP28uc2V0QXR0cmlidXRlKCJzcmMiLHQpOiJkYXRhLWhyZWYiPT09ZT9vLnNldEF0dHJpYnV0ZSgiaHJlZiIsdCk6ImRhdGEtYWx0Ij09PWU/by5zZXRBdHRyaWJ1dGUoImFsdCIsdCk6ImRhdGEtdGl0bGUiPT09ZT9vLnNldEF0dHJpYnV0ZSgidGl0bGUiLHQpOiJkYXRhLXRleHQiPT09ZSYmby5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsdCl9cmV0dXJuIG8uYnVuZGxlc0RhdGE9e30se2xvYWQ6ZSxwb3B1bGF0ZUF0dHJpYnV0ZTpEfX1mdW5jdGlvbiB0KG8pe2Z1bmN0aW9uIGUobyl7dC5vcmRlclBhcmFtcyYmdC5vcmRlclBhcmFtcy5pZCYmd2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygicGF5bWVudCIsdC5vcmRlclBhcmFtcyxvLGZ1bmN0aW9uKCl7dmFyIG89d2luZG93LnN3b2dvLnRvb2xzLmdldFRyYWNraW5nVXNlcigpLGU9ImFub24uIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCk7d2luZG93LnN3b2dvLnRvb2xzLnNldFRyYWNraW5nVXNlcihlKSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlN3b2dvIHVzZXIgaWQgY29va2llIGNoYW5nZWQgZnJvbSIsbywidG8iLGUsImFmdGVyIHRoZSBwYXltZW50IHJlcXVlc3QgZnVsZmlsbGVkIC0+ICIrdC5vcmRlclBhcmFtcy5pZCl9KX12YXIgdD13aW5kb3cuc3dvZ28udWkuZ2V0UGFnZShvKTtzd29nby50b29scy5maXhQcm90b3R5cGVMaWJyYXJ5SXNzdWVzKCksdC5nZXRQcm9kdWN0c0RhdGEmJnQub3JkZXJQYXJhbXM/ZnVuY3Rpb24odCl7dmFyIHM9dC5nZXRQcm9kdWN0c0RhdGEoKTtzLmxlbmd0aD4wJiYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zPUpTT04uc3RyaW5naWZ5KHMpLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJhc2tldExpc3QiLHMsbyxmdW5jdGlvbigpe2Uobyl9KSl9KHQpOm8uaW5kZXhPZigiYmFza2V0Iik+PTA/ZnVuY3Rpb24obyl7ZnVuY3Rpb24gZShvKXt0cnl7dmFyIGU9dC5nZXRQcm9kdWN0c0RhdGEoKTtzKGUpLHdpbmRvdy5Td29nby5iYXNrZXRJdGVtcyE9PUpTT04uc3RyaW5naWZ5KGUpJiZlLmxlbmd0aD4wJiYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zPUpTT04uc3RyaW5naWZ5KGUpLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJhc2tldExpc3QiLGUsbykpfWNhdGNoKG8pe3N3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsIkVycm9yIHNlbmRpbmcgYmFza2V0IHRyYWNraW5nIHJlcXVlc3QgIitvKX19ZnVuY3Rpb24gcyhvKXt0cnl7aWYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zIT09SlNPTi5zdHJpbmdpZnkobykpe3ZhciBlPVtdO28uZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdD1vLmlkO2UuaW5kZXhPZih0KTwwJiZlLnB1c2godCl9KSxsb2NhbFN0b3JhZ2UuYmFza2V0U2t1cz1KU09OLnN0cmluZ2lmeShlKX19Y2F0Y2gobyl7c3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiRXJyb3Igc3RvcmluZyBiYXNrZXQgc2t1cyAiK28pfX13aW5kb3cuU3dvZ28udHJhY2tpbmdJbnRlcnZhbHx8KGUobyksd2luZG93LlN3b2dvLnRyYWNraW5nSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKG8pfSw1MDApKX0obyk6by5pbmRleE9mKCJwYXltZW50Iik+PTAmJmUobyl9ZnVuY3Rpb24gcygpe2Z1bmN0aW9uIG8obyl7bz9zd29nby5kaXNjb3VudENvbmZpZz1KU09OLnBhcnNlKG8pOnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiW0NvcmVdIG1pc3NpbmcgZGlzY291bnQgY29uZmlnLCBtYWtlIHN1cmUgdGhpcyBmaWxlIGV4aXN0IG9uIFMzIEJ1Y2tldCIpfXZhciBlPSJodHRwczovL3VpLnN3b2dvLmNvbS9kaXNjb3VudHMvIit3aW5kb3cuc3dvZ28ucGFyYW1zLm5hbWUrIi5taW4uanNvbiI7d2luZG93LnN3b2dvLnRvb2xzLmFqYXhSZXF1ZXN0KHt1cmw6ZSxwYXlsb2FkOiIiLGNhY2hlZDohMCx0eXBlOiJqc29uIn0sbyxvKX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gbyhvLHQpe3ZhciBzPW8saT1sb2NhbFN0b3JhZ2UuYmFza2V0U2t1cz9KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5iYXNrZXRTa3VzKTpbXSxuPWUobyx0LGkpO3JldHVybiAwPT09aS5sZW5ndGh8fDA9PT1uLmxlbmd0aD9zOih0LmZvckVhY2goZnVuY3Rpb24obyl7cy5hY2Nlc3Nvcmllc1tvXSYmcy5hY2Nlc3Nvcmllc1tvXS5mb3JFYWNoKGZ1bmN0aW9uKG8pe28uYWNjZXNzb3JpZXMuZm9yRWFjaChmdW5jdGlvbihvKXtmb3IodmFyIGU9by5sZW5ndGgtMTtlPj0wO2UtLSluLmluZGV4T2Yob1tlXS5jYXRlZ29yeSk+LTEmJm8uc3BsaWNlKGUsMSl9KX0pfSkscyl9ZnVuY3Rpb24gZShvLGUsdCl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTt2YXIgcz1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe28uYWNjZXNzb3JpZXNbZV0mJm8uYWNjZXNzb3JpZXNbZV0uZm9yRWFjaChmdW5jdGlvbihvKXtvLmFjY2Vzc29yaWVzLmZvckVhY2goZnVuY3Rpb24obyl7Zm9yKHZhciBlPW8ubGVuZ3RoLTE7ZT49MDtlLS0pdC5pbmRleE9mKG9bZV0uc2t1KT4tMSYmcy5pbmRleE9mKG9bZV0uY2F0ZWdvcnkpPT09LTEmJnMucHVzaChvW2VdLmNhdGVnb3J5KX0pfSl9KSxzfWlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInN3b2dvLWRpc2FibGUiKT49MCYmIXN3b2dvRGVidWcpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coIlN3b2dvLUxPRyIsIkxpdmUgc2NyaXB0IGRpc2FibGVkLiIpO3ZhciBpPXdpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpO2lmKHdpbmRvdy5zd29nby5kaXNjb3VudENvbmZpZz1bXSwhaSlyZXR1cm4gd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwicGFnZSBub3QgZGV0ZWN0ZWQgPj4gY2hlY2sgd2luZG93LnN3b2dvLnVpLnNldFBhZ2UiKSwhMTt0KGkpLHdpbmRvdy5zd29nby5hcGkuc2V0Q2xpZW50KHdpbmRvdy5zd29nby5wYXJhbXMubmFtZSk7dmFyIG49d2luZG93LnN3b2dvLnVpLmdldFBhZ2UoaSkuZ2V0U0tVcygpO24mJm4ubGVuZ3RoJiZzKCk7dmFyIHI9d2luZG93LnN3b2dvLnVpLmdldFBhZ2UoaSkuZ2V0UGFnZUJ1bmRsZXMoKSxhPU9iamVjdC5rZXlzKHIpO2EmJmEubGVuZ3RofHx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJubyBidW5kbGVUeXBlcyBmb3VuZCBvbiB0aGF0IHBhZ2UgPj4gY2hlY2sgUEFHRS5hZGRidW5kbGUiKSxuJiZuLmxlbmd0aHx8d2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwibm8gc2t1cyBmb3VuZCBvbiB0aGF0IHBhZ2UgPj4gY2hlY2sgUEFHRS5leHRyYWN0U0tVcyIpLGEuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1yW2VdLmRhdGEubWF0Y2hpbmdDb25maWd8fCJwZHAiLHM9cltlXS5kYXRhLmFzc2lzdGFudENvbmZpZ3x8dCxhPXJbZV0uZGF0YS5idW5kbGVDb25maWd8fHt9O2lmKGkuaW5kZXhPZigiYmFza2V0Iik+PTApe2lmKCFuLmxlbmd0aClyZXR1cm4gdm9pZCB3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJiYXNrZXQgcGFnZSB3aXRoIG5vIGV4dHJhY3RlZCBza3VzID4+IHJlcXVlc3QgZGVuaWVkIik7MD09PU9iamVjdC5rZXlzKGEpLmxlbmd0aCYmKGE9e2xvbmdTdHlsZTohMH0pfXdpbmRvdy5zd29nby5hcGkuZ2V0QnVuZGxlcyh0LHMsbix7fSxKU09OLnN0cmluZ2lmeShhKSxmdW5jdGlvbihyLGEpe3JldHVybiByJiZyLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiW0NvcmVdIEZhaWxlZCB0byBnZXRCdW5kbGVzIG9mIG1hdGNoaW5nQ29uZmlnPSIrdCsiLCBhc3Npc3RhbnRDb25maWc9IitzKyIsIHNrdXM9IituLnRvU3RyaW5nKCkrIiwgZXJyPSIrci50b1N0cmluZygpKyIsIGRhdGE9JyIrSlNPTi5zdHJpbmdpZnkoYSkrIiciKTphJiZhLmhvc3RzPyhhLmFjY2Vzc29yaWVzJiZpLmluZGV4T2YoImJhc2tldCIpPj0wJiYoYT1vKGEsbikpLHdpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlSG9zdFByaWNlKHdpbmRvdy5zd29nby51aS5nZXRQYWdlKGkpLGEpLHZvaWQgd2luZG93LnN3b2dvLnVpLmxvYWQoZSxhKSk6d2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwibm8gaG9zdCBkYXRhIGZyb20gQVBJIil9KX0pfWZ1bmN0aW9uIG4oKXtmb3IodmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2NsYXNzKj1zd29nb10iKSxlPTA7ZTxvLmxlbmd0aDtlKyspZm9yKHZhciB0PW9bZV0scz0wO3M8dC5jbGFzc0xpc3QubGVuZ3RoO3MrKyl0LmNsYXNzTGlzdFtzXS5tYXRjaCgvXnN3b2dvLykmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBpPXN3b2dvLnVpLmdldEN1cnJlbnRQYWdlKCksbj1zd29nby51aS5nZXRQYWdlKGkpO2lmKCFuKXJldHVybiB2b2lkIHN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwiQ291bGQgbm90IHJlbG9hZCBzd29nbyBzY3JpcHQgLT4gY291bGRuJ3QgZ2V0IHBhZ2UgJyIraSsiJyIpO24uZ2V0U0tVcygpLHdpbmRvdy5zd29nby51aT1Td29nby5nZXRVSSgpLHdpbmRvdy5zd29nby50b29scz1Td29nby5nZXRUb29scygpLHdpbmRvdy5zd29nby5jdXN0b21MaWI9U3dvZ28uZ2V0Q3VzdG9tTGliKCksU3dvZ28ubG9hZFN3b2dvKCl9ZnVuY3Rpb24gcigpe3JldHVybiB1fWZ1bmN0aW9uIGEoKXtyZXR1cm4gZH1mdW5jdGlvbiBjKCl7cmV0dXJuIGx9dmFyIGQ9e2lzU3RvcmFnZVN1cHBvcnRlZDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidGVzdFNlc3Npb24iLCIxIiksc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidGVzdFNlc3Npb24iKSwhMH1jYXRjaChvKXtyZXR1cm4hMX19KCksc2V0Q29va2llOmZ1bmN0aW9uKG8sZSx0KXt2YXIgcz1vKyI9IitlLGk9bmV3IERhdGUsbj13aW5kb3cubG9jYXRpb24uaG9zdC5zdWJzdHJpbmcod2luZG93LmxvY2F0aW9uLmhvc3QubGFzdEluZGV4T2YoIi4iLHdpbmRvdy5sb2NhdGlvbi5ob3N0Lmxhc3RJbmRleE9mKCIuIiktMSkrMSk7d2luZG93LnN3b2dvJiZ3aW5kb3cuc3dvZ28ucGFyYW1zJiZ3aW5kb3cuc3dvZ28ucGFyYW1zLmNvb2tpZVVybCYmKG49d2luZG93LnN3b2dvLnBhcmFtcy5jb29raWVVcmwpLHR8fCh0PTEpLGkuc2V0VGltZShpLmdldFRpbWUoKSsyNCp0KjYwKjYwKjFlMykscys9IjsgZXhwaXJlcz0iK2kudG9VVENTdHJpbmcoKSxzKz0iOyBwYXRoPS8iLHMrPSI7IGRvbWFpbj0iK24sZG9jdW1lbnQuY29va2llPXN9LGdldENvb2tpZTpmdW5jdGlvbihvKXt2YXIgZTt0cnl7ZT1kZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKS5zcGxpdCgiOyIpfWNhdGNoKG8pe2U9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iil9Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe2Zvcih2YXIgcz1lW3RdOyIgIj09PXMuY2hhckF0KDApOylzPXMuc3Vic3RyaW5nKDEpO2lmKDA9PT1zLmluZGV4T2YobysiPSIpKXJldHVybiBzLnN1YnN0cmluZygobysiPSIpLmxlbmd0aCxzLmxlbmd0aCl9cmV0dXJuIG51bGx9LGRlbGV0ZUNvb2tpZTpmdW5jdGlvbihvKXtkb2N1bWVudC5jb29raWU9bysiPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyJ9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7dmFyIG89ITE7cmV0dXJuIGZ1bmN0aW9uKGUpeygvKGFuZHJvaWR8YmJcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWluby9pLnRlc3QoZSl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcLShufHUpfGM1NVwvfGNhcGl8Y2N3YXxjZG1cLXxjZWxsfGNodG18Y2xkY3xjbWRcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1wtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlwtNXxnXC1tb3xnbyhcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcLShtfHB8dCl8aGVpXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1wtY3xodChjKFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFwtfFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFwvKXxrbG9ufGtwdCB8a3djXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFwvKGt8bHx1KXw1MHw1NHxcLVthLXddKXxsaWJ3fGx5bnh8bTFcLXd8bTNnYXxtNTBcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFwtZ3xxYVwtYXxxYygwN3wxMnwyMXwzMnw2MHxcLVsyLTddfGlcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFwtfG9vfHBcLSl8c2RrXC98c2UoYyhcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcLXxzaGFyfHNpZShcLXxtKXxza1wtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXC18dlwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXC18dGRnXC18dGVsKGl8bSl8dGltXC18dFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cLXxtM3xtNSl8dHhcLTl8dXAoXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXC18eW91cnx6ZXRvfHp0ZVwtL2kudGVzdChlLnN1YnN0cigwLDQpKSkmJihvPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8b3BlcmEpLG99KCksYWRkQ2xhc3M6ZnVuY3Rpb24obyxlKXtpZighdGhpcy5oYXNDbGFzc05hbWUobyxlKSYmbyl7dmFyIHQ9by5nZXRBdHRyaWJ1dGUoImNsYXNzIik7by5jbGFzc05hbWU9dD90KyIgIitlOmV9cmV0dXJuIG99LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKG8sZSl7dmFyIHQ7cmV0dXJuIHRoaXMuaGFzQ2xhc3NOYW1lKG8sZSkmJih0PW8uZ2V0QXR0cmlidXRlKCJjbGFzcyIpLnNwbGl0KCIgIiksdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpLCJudWxsIiE9PXRbMF0mJiIiIT09dFswXXx8dC5zaGlmdCgpLG8uY2xhc3NOYW1lPXQuam9pbigiICIpKSxvfSxoYXNDbGFzc05hbWU6ZnVuY3Rpb24obyxlKXt2YXIgdCxzPS0xO3JldHVybiBvJiYodD1vLmdldEF0dHJpYnV0ZSgiY2xhc3MiKT9vLmdldEF0dHJpYnV0ZSgiY2xhc3MiKS5zcGxpdCgiICIpOltdLHM9dC5pbmRleE9mKGUpKSxzPj0wfSxhZGRFdmVudDpmdW5jdGlvbihvLGUsdCl7aWYobylyZXR1cm4gby5hZGRFdmVudExpc3RlbmVyP28uYWRkRXZlbnRMaXN0ZW5lcihlLHQsITEpOm8uYXR0YWNoRXZlbnQ/by5hdHRhY2hFdmVudCgib24iK2UsdCk6b1sib24iK2VdPXQsdGhpc30scHJpbnRMb2c6ZnVuY3Rpb24obyxlKXt2YXIgdD17YmFja2dyb3VuZDoiI2ZmZiIsY29sb3I6IiMwMDAifSxzPTA7c3dpdGNoKG8pe2Nhc2UibG9nIjp0LmJhY2tncm91bmQ9IiMwYTk5ZmYiLHQuY29sb3I9IiNmZmYiLHM9MDticmVhaztjYXNlIndhcm5pbmciOnQuYmFja2dyb3VuZD0iI2ZkY2E1OCIsdC5jb2xvcj0iI2Q2NjMwMCIscz0xO2JyZWFrO2Nhc2UiZXJyb3IiOnQuYmFja2dyb3VuZD0iI2ZmY2ZjZiIsdC5jb2xvcj0iI2RmMDAwMCIscz0yfXM+PTImJmZ1bmN0aW9uKG8pe289by5zdGFjaz9vLnN0YWNrOm8udG9TdHJpbmcoKTt2YXIgZT0obmV3IEVycm9yKS5zdGFjayx0PXtkZWJ1Zzpzd29nb0RlYnVnLHBhcmFtczp3aW5kb3cuc3dvZ28ucGFyYW1zLG1zZzpvLGxvY2F0aW9uOndpbmRvdy5sb2NhdGlvbi5ocmVmLHVzZXJBZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50LHN0YWNrOmV9LHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbigiR0VUIiwiaHR0cHM6Ly9lcnIuc3dvZ28uY29tLz8iK2VuY29kZVVSSUNvbXBvbmVudChidG9hKEpTT04uc3RyaW5naWZ5KHQpKSksITApLHMub25lcnJvcj1mdW5jdGlvbihvKXt9LHMuc2VuZCgpfShlKSxzd29nb0RlYnVnJiZjb25zb2xlLmxvZygiJWMgU1dPR08tIitvKyIgOiIsImJhY2tncm91bmQ6ICIrdC5iYWNrZ3JvdW5kKyI7IGNvbG9yOiAiK3QuY29sb3IsZSl9LGFqYXhSZXF1ZXN0OmZ1bmN0aW9uKG8sZSx0KXtmdW5jdGlvbiBzKCl7aWYoaS5zdGF0dXM+PTQwMClyZXR1cm4gdChpLnN0YXR1c1RleHQpOyJnZXQiPT09YSYmd2luZG93LnN3b2dvLnRvb2xzLmlzU3RvcmFnZVN1cHBvcnRlZCYmKHNlc3Npb25TdG9yYWdlW28udXJsXT1pLnJlc3BvbnNlVGV4dCksZShpLnJlc3BvbnNlVGV4dCl9dmFyIGk9bmV3IFhNTEh0dHBSZXF1ZXN0LG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpLmluZGV4T2YoIlhEb21haW5SZXF1ZXN0Iik+PTAscj1vLnBheWxvYWQ/by5wYXlsb2FkOiIiLGE9by5tZXRob2Q/by5tZXRob2QudG9Mb3dlckNhc2UoKToiZ2V0IixjPW8udHlwZSYmImpzb24iPT09by50eXBlLGQ9by5hY2NlcHRIZWFkZXJzO2lmKG8uY2FjaGVkJiZ3aW5kb3cuc3dvZ28udG9vbHMuaXNTdG9yYWdlU3VwcG9ydGVkJiZzZXNzaW9uU3RvcmFnZVtvLnVybF0pcmV0dXJuIGUoc2Vzc2lvblN0b3JhZ2Vbby51cmxdKTtmb3IobiYmImdldCI9PT1hJiYoaT1uZXcgWERvbWFpblJlcXVlc3QpLHR8fCh0PWZ1bmN0aW9uKCl7fSksaS5vbmVycm9yPXQsaS5vbnRpbWVvdXQ9dCxpLm9ubG9hZD1zLCJnZXQiPT09YT9pLm9wZW4oYSxvLnVybCsiPyIrciwhMCk6aS5vcGVuKG8ubWV0aG9kLG8udXJsKSwKbnx8Y3x8aS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSwiZ2V0Ij09PWEmJmMmJmkub3ZlcnJpZGVNaW1lVHlwZSYmaS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluIiksInBvc3QiPT09YSYmYyYmaS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIik7ZCYmZC5sZW5ndGg+MDspaS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLGRbMF0pLGQuc2hpZnQoKTtpLnNlbmQocil9LGdldERhdGFBdHRyaWJ1dGVzOmZ1bmN0aW9uKG8pe2lmKCFvKXJldHVybltdO2Zvcih2YXIgZT0wLHQ9by5hdHRyaWJ1dGVzLHM9dC5sZW5ndGgsaT1bXTtlPHM7ZSsrKXRbZV0ubm9kZU5hbWUuaW5kZXhPZigiZGF0YS0iKT49MCYmaS5wdXNoKHRbZV0ubm9kZU5hbWUpO3JldHVybiBpfSxnZXRCdW5kbGVQcm9kdWN0c0RhdGE6ZnVuY3Rpb24obyxlKXt2YXIgdD17YWNjZXNzb3JpZXM6W119LHM9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28taG9zdCIpLGk9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWNjZXNzb3J5Om5vdCguc3dvZ28tZGlzYWJsZSkiKTtzJiYodC5ob3N0PWUuaG9zdCk7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciByPWlbbl0sYT1yLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGM9ZS5hY2Nlc3Nvcmllc1tuXVthXTtjJiZ0LmFjY2Vzc29yaWVzLnB1c2goYyl9cmV0dXJuIHR9LGdldFRyYWNraW5nVXNlcjpmdW5jdGlvbigpe3ZhciBvPXdpbmRvdy5zd29nby50b29scy5nZXRDb29raWUoInN3b2dvVXNlcklkIik7cmV0dXJuIG8/bzp0aGlzLnNldFRyYWNraW5nVXNlcigpfSxzZXRUcmFja2luZ1VzZXI6ZnVuY3Rpb24obyl7cmV0dXJuIG98fChvPXdpbmRvdy5zd29nby50b29scy5nZXRDb29raWUoInN3b2dvVXNlcklkIikpLG98fChvPSJhbm9uLiIrTWF0aC5yYW5kb20oKS50b1N0cmluZygpKSx3aW5kb3cuc3dvZ28udG9vbHMuc2V0Q29va2llKCJzd29nb1VzZXJJZCIsbyksb30sc2VuZFRyYWNraW5nOmZ1bmN0aW9uKG8sZSx0LHMpe2Z1bmN0aW9uIGkobyl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChvKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHJbb10pfXZhciBuPXdpbmRvdy5zd29nby5wYXJhbXMmJndpbmRvdy5zd29nby5wYXJhbXMubmFtZSYmd2luZG93LnN3b2dvLnBhcmFtcy5uYW1lLnRvTG93ZXJDYXNlKCl8fCJ0ZXN0IixyPXtjbGllbnQ6bisiXyIrTWF0aC5wb3cobi5sZW5ndGgsMikudG9TdHJpbmcoKSx2YXJpYW50OndpbmRvdy5zd29nby5wYXJhbXMmJndpbmRvdy5zd29nby5wYXJhbXMudmFyaWFudHx8IkEiLHR5cGU6byxvcmlnaW46dHx8IiIsdXNlcjp3aW5kb3cuc3dvZ28udG9vbHMuZ2V0VHJhY2tpbmdVc2VyKCl9O3N3b2dvLnRvb2xzLmZpeFByb3RvdHlwZUxpYnJhcnlJc3N1ZXMoKSwicGF5bWVudCI9PT1vP3IucGF5PUpTT04uc3RyaW5naWZ5KGUpOnIuYnVuZGxlRGF0YT1KU09OLnN0cmluZ2lmeShlKTt2YXIgYT1idG9hKGVuY29kZVVSSUNvbXBvbmVudChPYmplY3Qua2V5cyhyKS5tYXAoaSkuam9pbigiJiIpKSk7c3x8KHM9ZnVuY3Rpb24oKXt9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWpheFJlcXVlc3Qoe3VybDoiaHR0cHM6Ly90cmFja2luZy5zd29nby5jb20vIixwYXlsb2FkOmF9LGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyB0cmFja2luZyBdICIrSlNPTi5zdHJpbmdpZnkocikrIiAtLS0tPiAiK0pTT04uc3RyaW5naWZ5KG8pKSxzKCl9LGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5wcmludExvZygiZXJyb3IiLCJbIHRyYWNraW5nIF0gIitKU09OLnN0cmluZ2lmeShyKSsiIC0tLS0+ICIrSlNPTi5zdHJpbmdpZnkobykpLHMoKX0pfSxmaXhQcm90b3R5cGVMaWJyYXJ5SXNzdWVzOmZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuUHJvdG90eXBlJiYoZGVsZXRlIE9iamVjdC5wcm90b3R5cGUudG9KU09OLGRlbGV0ZSBBcnJheS5wcm90b3R5cGUudG9KU09OLGRlbGV0ZSBIYXNoLnByb3RvdHlwZS50b0pTT04sZGVsZXRlIFN0cmluZy5wcm90b3R5cGUudG9KU09OLCEwKX0scmVtb3ZlUmVkaXJlY3RzV2l0aE5vVXJsOmZ1bmN0aW9uKG8pe28ucXVlcnlTZWxlY3RvckFsbCgiYS5zd29nby1wcm9kdWN0LWxpbmsiKS5mb3JFYWNoKGZ1bmN0aW9uKG8peyItLS0tLS0iPT09by5nZXRBdHRyaWJ1dGUoImhyZWYiKSYmby5zZXRBdHRyaWJ1dGUoIm9uY2xpY2siLCJyZXR1cm4gZmFsc2U7Iil9KX0sZ2V0VmFsaWREaXNjb3VudHM6ZnVuY3Rpb24obyxlLHQpe3ZhciBzPXt9O2Zvcih2YXIgaSBpbiBlKWZvcih2YXIgbj0wO248ZVtpXS5sZW5ndGg7bisrKXt2YXIgcj0iYWNjZXNzb3J5Ij09PWksYT1lW2ldW25dO3ImJiF0JiZhLmJ1bmRsZVN0YXRlLmxlbmd0aD4xfHwoIXImJnNbaV0mJmEucHJpb3JpdHk8PXNbaV1bMF0ucHJpb3JpdHl8fHRoaXMuaXNBcHBsaWNhYmxlRGlzY291bnQobyxhLmJ1bmRsZVN0YXRlKSYmKHI/cy5hY2Nlc3Nvcnk/cy5hY2Nlc3NvcnkucHVzaChhKTpzLmFjY2Vzc29yeT1bYV06c1tpXT1bYV0pKX1yZXR1cm4gc30saXNBcHBsaWNhYmxlRGlzY291bnQ6ZnVuY3Rpb24obyxlKXtpZihlPT09ITApcmV0dXJuITA7Zm9yKHZhciBlPWUuc2xpY2UoMCksdD0wO3Q8by5sZW5ndGg7dCsrKWZvcih2YXIgcz1vW3RdLnNrdSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07bi5pbmRleE9mKHMpIT09LTEmJihlLnNwbGljZShpLDEpLGktLSl9cmV0dXJuIWUubGVuZ3RofSxzb3J0RGlzY291bnRzQnlQcmlvcml0eTpmdW5jdGlvbihvKXtmb3IodmFyIGUgaW4gbylvW2VdPW9bZV0uc29ydChmdW5jdGlvbihvLGUpe3JldHVybiBvLnByaW9yaXR5PmUucHJpb3JpdHk/LTE6by5wcmlvcml0eTxlLnByaW9yaXR5PzE6MH0pO3JldHVybiBvfSxhZGRNZXNzYWdlc1RvQnVuZGxlRGF0YTpmdW5jdGlvbihvLGUsdCl7aWYoby5tZXNzYWdlKXt2YXIgcz17bWVzc2FnZTpvLm1lc3NhZ2UscHJpb3JpdHk6by5wcmlvcml0eSxhcHBseVRvOnR9O28udGFncyYmby50YWdzLnByaWNlJiYocy50eXBlPSJkaXNjb3VudCIpLGUubWVzc2FnZXMucHVzaChzKX19LGFwcGx5RGlzY291bnRzVG9Qcm9kdWN0VUk6ZnVuY3Rpb24obyxlKXtpZihvJiZlJiZlLmRpc2NvdW50VmFsdWUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXNhdmUiKSxzPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByaWNlIiksaT1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpO2kmJihpLmlubmVySFRNTD1lLmRpc2NvdW50UHJpY2UsaS5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1pbnZpc2libGUiKSkscyYmcy5jbGFzc0xpc3QuYWRkKCJzd29nby1saW5lLXRocm91ZyIpLHQmJih0LmlubmVySFRNTD1lLnNhdmUpfX0sYXBwbHlEaXNjb3VudHNUb1Byb2R1Y3REYXRhOmZ1bmN0aW9uKG8sZSl7dmFyIHQ9c3dvZ28udG9vbHMubW9kaWZpZXJIYW5kbGVycztvLm1vZGlmaWVycz17fSxlLm1lc3NhZ2UmJihvLm1vZGlmaWVycy5kaXNjb3VudE1lc3NhZ2U9ZS5tZXNzYWdlKSxvLm1vZGlmaWVycy5tb2RpZmllcnNQcmlvcml0eT1lLnByaW9yaXR5O2Zvcih2YXIgcyBpbiBlLnRhZ3Mpc3dpdGNoKHMpe2Nhc2UicHJpY2UiOnQuaGFuZGxlUHJpY2VUYWcobyxlLnRhZ3Nbc10pO2JyZWFrO2RlZmF1bHQ6dC5kZWZhdWx0KG8scyxlLnRhZ3Nbc10pfX0sYXBwbHlEaXNjb3VudHNUb0FjY2Vzc29yaWVzRGF0YTpmdW5jdGlvbihvLGUsdCl7dmFyIHM9W10saT13aW5kb3cuc3dvZ28udG9vbHMsbj1vLnJlZHVjZShmdW5jdGlvbihvLGUpe3JldHVybiBvLmNvbmNhdChlKX0sW10pO2UuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgZT0hMSxyPW8ubWF0Y2hMaXN0LmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4gcy5pbmRleE9mKG8pPT09LTF9KTtuLmZvckVhY2goZnVuY3Rpb24ocyl7ci5pbmRleE9mKHMuc2t1KSE9PS0xJiYoaS5hcHBseURpc2NvdW50c1RvUHJvZHVjdERhdGEocyxvKSxlfHwoaS5hZGRNZXNzYWdlc1RvQnVuZGxlRGF0YShvLHQsImFjY2Vzc29yeSIpLGU9ITApKX0pLHM9cy5jb25jYXQocil9KX0sYXNzaWduRGlzY291bnRUb0J1bmRsZVN1bW1hcnlEYXRhOmZ1bmN0aW9uKG8sZSl7ZS50YWdzJiYoby5tb2RpZmllcnNUb0FwcGx5PWUudGFncyksZS5tZXNzYWdlJiYoby5tZXNzYWdlPWUubWVzc2FnZSl9LGFwcGx5RGlzY291bnRzVG9TdW1tYXJ5RGF0YTpmdW5jdGlvbihvKXt2YXIgZT1vLm1vZGlmaWVyc1RvQXBwbHksdD1zd29nby50b29scy5tb2RpZmllckhhbmRsZXJzLHM9e3ByaWNlOm8uZGlzY291bnRQcmljZSxyclByaWNlOm8ucnJQcmljZSxtb2RpZmllcnM6e319O28ubW9kaWZpZXJzPXt9O2Zvcih2YXIgaSBpbiBlKXN3aXRjaChpKXtjYXNlInByaWNlIjp0LmhhbmRsZVByaWNlVGFnKHMsZVtpXSk7YnJlYWs7ZGVmYXVsdDp0LmRlZmF1bHQobyxpLGVbaV0pfWZvcih2YXIgbiBpbiBzLm1vZGlmaWVycylzd2l0Y2gobil7Y2FzZSJzYXZlIjpjYXNlImRpc2NvdW50VmFsdWUiOm8ubW9kaWZpZXJzW25dPXBhcnNlRmxvYXQob1tuXSkrcGFyc2VGbG9hdChzLm1vZGlmaWVyc1tuXSk7YnJlYWs7Y2FzZSJwcmljZSI6Y2FzZSJyclByaWNlIjpicmVhaztkZWZhdWx0Om8ubW9kaWZpZXJzW25dPXMubW9kaWZpZXJzW25dfX0sbW9kaWZpZXJIYW5kbGVyczp7ZGVmYXVsdDpmdW5jdGlvbihvLGUsdCl7Im9iamVjdCIhPXR5cGVvZiB0JiYoby5tb2RpZmllcnNbZV09dCl9LGhhbmRsZVByaWNlVGFnOmZ1bmN0aW9uKG8sZSl7aWYoWyJmaXhlZCIsInBlcmNlbnQiLCJhYnNvbHV0ZSJdLmluZGV4T2YoZS50eXBlKT09PS0xKXJldHVybiBzd29nby50b29scy5wcmludExvZygid2FybmluZyIsIkludmFsaWQgcHJpY2UgdGFnIG1vZGlmaWVyIC0+ICIrSlNPTi5zdHJpbmdpZnkoZSxudWxsLDIpKTtzd2l0Y2goby5tb2RpZmllcnMucHJpY2U9by5wcmljZSxvLm1vZGlmaWVycy5yclByaWNlPW8ucnJQcmljZSxlLnR5cGUpe2Nhc2UiZml4ZWQiOm8ubW9kaWZpZXJzLmRpc2NvdW50VmFsdWU9cGFyc2VGbG9hdChlLnZhbHVlKTticmVhaztjYXNlInBlcmNlbnQiOm8ubW9kaWZpZXJzLmRpc2NvdW50VmFsdWU9KG8ucHJpY2UqKGUudmFsdWUvMTAwKSkudG9GaXhlZCgyKTticmVhaztjYXNlImFic29sdXRlIjpvLm1vZGlmaWVycy5kaXNjb3VudFZhbHVlPW8ucHJpY2UtZS52YWx1ZX1vLm1vZGlmaWVycy5zYXZlPXBhcnNlRmxvYXQoby5tb2RpZmllcnMuZGlzY291bnRWYWx1ZSksby5tb2RpZmllcnMuZGlzY291bnRQcmljZT1vLnByaWNlLW8ubW9kaWZpZXJzLmRpc2NvdW50VmFsdWV9fSxmb3JjZURpc2NvdW50OmZ1bmN0aW9uKG8pe2lmKCFBcnJheS5pc0FycmF5KG8pKXJldHVybiB3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIiwiW0NvcmVdIERpc2NvdW50IHByb3ZpZGVkIGlzIG5vdCBhbiBhcnJheSwgd2h5IHUgZG8gdGhpcz8gOygiKTt2YXIgZT0wO28uZm9yRWFjaChmdW5jdGlvbihvKXtvLmlnbm9yZURhdGVzPSEwfSksd2luZG93LnN3b2dvLmJ1bmRsZVJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0LGk9SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoYXRvYih0LnF1ZXJpZXMpKSk7aS5kaXNjb3VudGluZ0NvbmZpZz1vLHMub3BlbigiR0VUIix0Lmhvc3QrYnRvYShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSwhMCkscy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkRPTkUmJjIwMD09dGhpcy5zdGF0dXMmJihlKyssc2Vzc2lvblN0b3JhZ2VbdC5ob3N0K3QucXVlcmllc109cy5yZXNwb25zZVRleHQsZT09PXdpbmRvdy5zd29nby5idW5kbGVSZXF1ZXN0cy5sZW5ndGgmJmxvY2F0aW9uLnJlbG9hZCgpKX0scy5zZW5kKCl9KSx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIltDb3JlXSBQcmVwYXJpbmcgZGlzY291bnRzLi4uIil9fSxsPXtzaG93TW9yZUJ1bmRsZXM6ZnVuY3Rpb24obyxlKXtmdW5jdGlvbiB0KG8sZSx0KXt2YXIgcz1vLnRhcmdldCxpPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLWNvdmVyIiksbj1lLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idW5kbGUiKTtpZih3aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKHMsInN3b2dvLWFjdGlvbi1jbG9zZSIpKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3MobltyXSwic3dvZ28taGlkZGVuIik7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKHMsInN3b2dvLWFjdGlvbi1jbG9zZSIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhzLCJzd29nby1hY3Rpb24tb3BlbiIpLGkmJih3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3MoaSwic3dvZ28tYWN0aW9uLWNsb3NlIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGksInN3b2dvLWFjdGlvbi1vcGVuIikpfWVsc2V7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspYT49dCYmd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG5bYV0sInN3b2dvLWhpZGRlbiIpO3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhzLCJzd29nby1hY3Rpb24tb3BlbiIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhzLCJzd29nby1hY3Rpb24tY2xvc2UiKSxpJiYod2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKGksInN3b2dvLWFjdGlvbi1vcGVuIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGksInN3b2dvLWFjdGlvbi1jbG9zZSIpKX19dmFyIHM9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tbW9yZS1idW5kbGVzIiksaT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idW5kbGUiKTtpLmxlbmd0aDw9ZSYmd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWRpc2FibGUiKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyluPj1lJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoaVtuXSwic3dvZ28taGlkZGVuIik7d2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KHMsImNsaWNrIixmdW5jdGlvbihzKXt0KHMsbyxlKX0pfSxzbGlkZVByb2R1Y3RJbWFnZXM6ZnVuY3Rpb24obyxlLHQscyl7ZnVuY3Rpb24gaShvKXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKyl3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mob1tlXSwic3dvZ28tc2VsZWN0ZWQiKTtvW28uaW5kZXgrMV0/by5pbmRleCsrOm8uaW5kZXg9MCx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mob1tvLmluZGV4XSwic3dvZ28tc2VsZWN0ZWQiKX12YXIgbj1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1wcm9kdWN0LWltYWdlIik7bi5pbmRleD0wLG4uZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQobyxlLGZ1bmN0aW9uKG8pe24uc2xpZGVzSW50ZXJ2YWx8fChuLnNsaWRlc0ludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aShuKX0scykpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sdCxmdW5jdGlvbihvKXtuLnNsaWRlc0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbChuLnNsaWRlc0ludGVydmFsKSxuLnNsaWRlc0ludGVydmFsPXZvaWQgMCl9KX0pfSxhZGRMb2FkZXJTcGlubmVyOmZ1bmN0aW9uKG8pe28ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWxvYWRlciIpfHxvLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIiwnPGRpdiBjbGFzcz0ic3dvZ28tbG9hZGVyIj48L2Rpdj4nKX0sY2xlYW5CdW5kbGVEaXNjb3VudDpmdW5jdGlvbihvLGUpe3ZhciB0PVtlLmhvc3RdLHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28taG9zdCwgLnN3b2dvLWFjY2Vzc29yeSwgLnN3b2dvLWFsdGVybmF0aXZlIik7ZS5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3Q9dC5jb25jYXQobyl9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7byYmKG8uc2F2ZT1udWxsLG8uZGlzY291bnRQcmljZT1udWxsLG8ubW9kaWZpZXJzJiZkZWxldGUgby5tb2RpZmllcnMpfSksZS5zdW1tYXJ5Lm1vZGlmaWVycyYmZGVsZXRlIGUuc3VtbWFyeS5tb2RpZmllcnMscy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBlPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXNhdmUiKSx0PW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByaWNlIikscz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpO2UmJihlLmlubmVySFRNTD0iIixlLmNsYXNzTGlzdC5hZGQoInN3b2dvLWludmlzaWJsZSIpKSx0JiZ0LmNsYXNzTGlzdC5yZW1vdmUoInN3b2dvLWxpbmUtdGhyb3VnIikscyYmKHMuaW5uZXJIVE1MPSIiLHMuY2xhc3NMaXN0LmFkZCgic3dvZ28taW52aXNpYmxlIikpfSl9LGFwcGx5QnVuZGxlRGlzY291bnQ6ZnVuY3Rpb24obyxlKXt2YXIgdDtpZih3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmNsZWFuQnVuZGxlRGlzY291bnQobyxlKSxlLmRpc2NvdW50cyYmd2luZG93LnN3b2dvLnVpLmdldEN1cnJlbnRQYWdlKCkuaW5kZXhPZigicGF5bWVudCIpPT09LTEpcmV0dXJuIHQ9d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShvLGUpLGUub3JpZ2luYWxNZXNzYWdlcz9lLm1lc3NhZ2VzPWUub3JpZ2luYWxNZXNzYWdlcy5zbGljZSgwKTplLm9yaWdpbmFsTWVzc2FnZXM9ZS5tZXNzYWdlcy5zbGljZSgwKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFkZFZhbGlkRGlzY291bnRzVG9CdW5kbGVEYXRhKHQsZSksdm9pZCB3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFkZFZhbGlkRGlzY291bnRzVG9CdW5kbGVVSShvLGUpO3ZhciBzPWUuaG9zdCxpPWUuYWNjZXNzb3JpZXM7cyYmcy5kaXNjb3VudFZhbHVlJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFwcGx5UHJvZHVjdERpc2NvdW50KG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWhvc3QiKSxzKSxpLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hY2Nlc3NvcnkiKVt0XSxpPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksbj1lW2ldO24mJm4uZGlzY291bnRWYWx1ZSYmd2luZG93LnN3b2dvLmN1c3RvbUxpYi5hcHBseVByb2R1Y3REaXNjb3VudChzLG4pLGUuZm9yRWFjaChmdW5jdGlvbihlLHMpe3ZhciBpPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKVt0XSxuPWkucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlIilbc107ZSYmZS5kaXNjb3VudFZhbHVlJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFwcGx5UHJvZHVjdERpc2NvdW50KG4sZSl9KX0pfSxhcHBseVByb2R1Y3REaXNjb3VudDpmdW5jdGlvbihvLGUsdCl7dCYmTWF0aC5hYnModCk+ZS5wcmljZXx8ZS5kaXNjb3VudFZhbHVlJiZNYXRoLmFicyhlLmRpc2NvdW50VmFsdWUpPmUucHJpY2V8fCh0JiYoZS5kaXNjb3VudFZhbHVlPXQpLGUuZGlzY291bnRWYWx1ZSYmKGUuZGlzY291bnRQcmljZT1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoZS5wcmljZSkrcGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpKSxlLnNhdmU9cGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpKi0xLG8mJm8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpLmlubmVySFRNTD1lLmRpc2NvdW50UHJpY2Usd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IiksInN3b2dvLWludmlzaWJsZSIpKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSwic3dvZ28tbGluZS10aHJvdWciKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikuaW5uZXJIVE1MPWUuc2F2ZSkpKX0sYWRkVmFsaWREaXNjb3VudHNUb0J1bmRsZURhdGE6ZnVuY3Rpb24obyxlKXtmb3IodmFyIHQscz1bXSxpPXdpbmRvdy5zd29nby50b29scyxuPUJvb2xlYW4oby5ob3N0KSxyPTA7cjxvLmFjY2Vzc29yaWVzLmxlbmd0aDtyKyspcy5wdXNoKG8uYWNjZXNzb3JpZXNbcl0pO3Q9aS5nZXRWYWxpZERpc2NvdW50cyhzLGUuZGlzY291bnRzLG4pO2Zvcih2YXIgYSBpbiB0KXN3aXRjaChhKXtjYXNlImhvc3QiOmkuYXBwbHlEaXNjb3VudHNUb1Byb2R1Y3REYXRhKGUuaG9zdCx0W2FdWzBdKSxpLmFkZE1lc3NhZ2VzVG9CdW5kbGVEYXRhKHRbYV1bMF0sZSxhKTticmVhaztjYXNlImFjY2Vzc29yeSI6aS5hcHBseURpc2NvdW50c1RvQWNjZXNzb3JpZXNEYXRhKGUuYWNjZXNzb3JpZXMsdFthXSxlKTticmVhaztjYXNlImJ1bmRsZSI6aS5hc3NpZ25EaXNjb3VudFRvQnVuZGxlU3VtbWFyeURhdGEoZS5zdW1tYXJ5LHRbYV1bMF0sZSksaS5hZGRNZXNzYWdlc1RvQnVuZGxlRGF0YSh0W2FdWzBdLGUsYSl9fSxhZGRWYWxpZERpc2NvdW50c1RvQnVuZGxlVUk6ZnVuY3Rpb24obyxlKXt2YXIgdD1bXSxzPXdpbmRvdy5zd29nby50b29scyxpPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWhvc3QiKSxuPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFjY2Vzc29yeSIpLHI9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpO2UuaG9zdCYmaS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3QucHVzaCh7ZWxlbWVudDpvLG1vZGlmaWVyczplLmhvc3QubW9kaWZpZXJzfSl9KSxuLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHM9by5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxpPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLG49ZS5hY2Nlc3Nvcmllc1tpXVtzXTt0LnB1c2goe2VsZW1lbnQ6byxtb2RpZmllcnM6bi5tb2RpZmllcnN9KX0pLHIuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZSIpLGk9by5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIik7cy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBzPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWlkIiksbj1lLmFjY2Vzc29yaWVzW2ldW3NdO3QucHVzaCh7ZWxlbWVudDpvLG1vZGlmaWVyczpuLm1vZGlmaWVyc30pfSl9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7cy5hcHBseURpc2NvdW50c1RvUHJvZHVjdFVJKG8uZWxlbWVudCxvLm1vZGlmaWVycyl9KX0sdXBkYXRlU3VtbWFyeVByaWNlczpmdW5jdGlvbihvLGUsdCl7dmFyIHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tc3VtbWFyeSIpLGk9d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShvLGUpLG49W2kuaG9zdF0uY29uY2F0KGkuYWNjZXNzb3JpZXMpO24ubGVuZ3RoJiYocy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciB0LHM9bi5yZWR1Y2UoZnVuY3Rpb24obyxlKXtpZighZSlyZXR1cm4gbzt2YXIgdD1lLm1vZGlmaWVycyYmZS5tb2RpZmllcnMuZGlzY291bnRWYWx1ZT9lLm1vZGlmaWVyczplO2Zvcih2YXIgcyBpbiBvKW9bc10rPXBhcnNlRmxvYXQodFtzXSl8fDA7cmV0dXJuIG99LHtzYXZlOjAscHJpY2U6MCxyclByaWNlOjAsZGlzY291bnRWYWx1ZTowfSksaT1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ycnAiKSxyPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXNhdmUiKSxhPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByaWNlIiksYz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpO3MuZGlzY291bnRQcmljZT1zLnByaWNlLU1hdGguYWJzKHMuZGlzY291bnRWYWx1ZSk7Zm9yKHZhciBkIGluIHMpZS5zdW1tYXJ5W2RdPXNbZF07ZS5zdW1tYXJ5Lm1vZGlmaWVyc1RvQXBwbHkmJih3aW5kb3cuc3dvZ28udG9vbHMuYXBwbHlEaXNjb3VudHNUb1N1bW1hcnlEYXRhKGUuc3VtbWFyeSksZGVsZXRlIGUuc3VtbWFyeS5tb2RpZmllcnNUb0FwcGx5LHM9T2JqZWN0LmFzc2lnbihzLGUuc3VtbWFyeS5tb2RpZmllcnMpKSx0PUJvb2xlYW4ocy5kaXNjb3VudFZhbHVlKSxhJiYoYS5pbm5lckhUTUw9cy5wcmljZS50b0ZpeGVkKDIpKSxjJiZzLmRpc2NvdW50UHJpY2UmJnQ/Yy5pbm5lckhUTUw9cy5kaXNjb3VudFByaWNlLnRvRml4ZWQoMik6Yy5pbm5lckhUTUw9IiIsaSYmcy5yclByaWNlP2kuaW5uZXJIVE1MPXMucnJQcmljZS50b0ZpeGVkKDIpOmkuaW5uZXJIVE1MPSIiLHImJnMuc2F2ZSYmdD9yLmlubmVySFRNTD1zLnNhdmUudG9GaXhlZCgyKTpyLmlubmVySFRNTD0iIix0PyhhLmNsYXNzTGlzdC5hZGQoInN3b2dvLWxpbmUtdGhyb3VnIiksYy5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1pbnZpc2libGUiKSk6KGMuY2xhc3NMaXN0LmFkZCgic3dvZ28taW52aXNpYmxlIiksYS5jbGFzc0xpc3QucmVtb3ZlKCJzd29nby1saW5lLXRocm91ZyIpKX0pLHQuY3VzdG9taXphdGlvbi5leGVjdXRlT25VcGRhdGVQcmljZXMobykpfSxpbml0UG9wdXA6ZnVuY3Rpb24obyxlLHQpe2Z1bmN0aW9uIHMobyl7byYmd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG8sImNsaWNrIixmdW5jdGlvbigpe3ZhciBvPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1jb250YWluZXItcG9wdXAiKSxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1iZy1sYXllciIpO2UmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxvJiZvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSwic3dvZ28taGlkZGVuLW92ZXJmbG93Iil9KX1pZighby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnVuZGxlIikpcmV0dXJuIHZvaWQgd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWludmlzaWJsZSIpO28uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsJzxkaXYgY2xhc3M9InN3b2dvLWJnLWxheWVyIj48L2Rpdj4nKTt2YXIgaT1vLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1lLmJ1bmRsZXNEYXRhW2ldWzBdLm1lc3NhZ2VzLHI9e21lc3NhZ2U6dCxwcmlvcml0eTotKDEvMCl9O24uZm9yRWFjaChmdW5jdGlvbihvKXsoIW8udHlwZXx8ImRpc2NvdW50IiE9PW8udHlwZSYmby5wcmlvcml0eT5yLnByaW9yaXR5KSYmKHI9byl9KSxmdW5jdGlvbihvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXBvcHVwLWRlc2MiKTt0JiYodC50ZXh0Q29udGVudD1lKX0obyxyLm1lc3NhZ2UpLHMoby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWRlbnkiKSkscyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYmctbGF5ZXIiKSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSwic3dvZ28taGlkZGVuLW92ZXJmbG93Iil9LGhpZGVBbHRlcm5hdGl2ZXNCdG46ZnVuY3Rpb24obyl7by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWNjZXNzb3J5IikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKTt0JiYoby5xdWVyeVNlbGVjdG9yQWxsKCcuc3dvZ28tYWx0ZXJuYXRpdmVbZGF0YS1hY2Nlc3NvcnktaWQ9IicrdCsnIl0nKS5sZW5ndGg+MXx8ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpLmNsYXNzTGlzdC5hZGQoInN3b2dvLXJlbW92ZSIpKX0pfSx1cGRhdGVIb3N0UHJpY2U6ZnVuY3Rpb24obyxlKXtpZigiUHJvYmxlbSByZXRyaWV2aW5nIGhvc3QgRGF0YSIhPT1lLmVycm9ycyYmZSYmZS5ob3N0cyYmMCE9PWUuaG9zdHMubGVuZ3RoJiZvLmhvc3RQcmljZU9iamVjdCl7dmFyIHQ7dHJ5e3Q9by5ob3N0UHJpY2VPYmplY3QuZ2V0SG9zdFByaWNlKCl9Y2F0Y2gobyl7cmV0dXJuIHZvaWQgd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJlcnJvciIsIltDb3JlXSBGYWlsZWQgdG8gZXh0cmFjdCBob3N0IHByaWNlOiAiK28pfWlmKCF0fHx2b2lkIDAhPT10Lmxlbmd0aHx8aXNOYU4odCkpcmV0dXJuIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsIltDb3JlXSBIb3N0IHByaWNlIDogIit0KyIgaXMgbm90IGEgZmxvYXQiKSwiIjtpZihNYXRoLmFicygxMDAtMTAwKnQvZS5ob3N0c1swXS5wcmljZSk+by5ob3N0UHJpY2VPYmplY3QuZGV2aWF0aW9uJiYibm9uZSIhPT1vLmhvc3RQcmljZU9iamVjdC5kZXZpYXRpb24pcmV0dXJuIHdpbmRvdy5zd29nby50b29scy5wcmludExvZygid2FybmluZyIsIltDb3JlXSBQcmljZSBleHRyYWN0ZWQgZGV2aWF0ZXMgbW9yZSB0aGFuICIrby5ob3N0UHJpY2VPYmplY3QuZGV2aWF0aW9uKSwiIjtlLmhvc3RzWzBdLnByaWNlPXQsd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJbcGFnZSAiK28ubmFtZSsiXSBVcGRhdGVkIGhvc3QgcHJpY2UgdG8gIit0KX19LHNlbGVjdFByb2RzV2l0aEhpZ2hlc3REaXNjb3VudDpmdW5jdGlvbihvLGUpe2Z1bmN0aW9uIHQobyxlKXtpZihvJiZlJiZlLmxlbmd0aCl7ZVtvLmFjY2Vzc29yeVBvc2l0aW9uXS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKVtvLmFsdGVybmF0aXZlUG9zaXRpb25dLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idXR0b24tc2VsZWN0LWFsdGVybmF0aXZlIikuY2xpY2soKX19aWYobyYmZSYmZS5idW5kbGVzRGF0YSl7dmFyIHM9by5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGk9by5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxuPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKTtpZihlLmJ1bmRsZXNEYXRhW3NdJiZlLmJ1bmRsZXNEYXRhW3NdW2ldKWZvcih2YXIgcj1lLmJ1bmRsZXNEYXRhW3NdW2ldLmFjY2Vzc29yaWVzLGE9MDthPHIubGVuZ3RoO2ErKyl7Zm9yKHZhciBjPXJbYV0sZD1bXSxsPSExLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGc9Y1t1XTtpZih1PT09ZS5kaXNwbGF5Um9sZXMuYWx0ZXJuYXRpdmVzKWJyZWFrO2cuZGlzY291bnRWYWx1ZSYmKCJzdHJpbmciPT10eXBlb2YgZy5kaXNjb3VudFZhbHVlJiYobD0hMCksZC5wdXNoKHthbHRlcm5hdGl2ZTpnLGFjY2Vzc29yeVBvc2l0aW9uOmEsYWx0ZXJuYXRpdmVQb3NpdGlvbjp1fSkpfWQubGVuZ3RoJiYobD90KGZ1bmN0aW9uKG8pe2Zvcih2YXIgZT1udWxsLHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIHM9b1t0XSxpPXMuYWx0ZXJuYXRpdmUsbj1NYXRoLmFicyhwYXJzZUZsb2F0KGkuZGlzY291bnRWYWx1ZSkpLHI9TWF0aC5mbG9vcigxMDAqbi9pLnByaWNlKTsoIWV8fGUucGVyY2VudDxyKSYmKGU9e3BlcmNlbnQ6cixpbmZvOnN9KX1yZXR1cm4gZS5pbmZvfShkKSxuKTp0KGZ1bmN0aW9uKG8pe2Zvcih2YXIgZT1udWxsLHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIHM9b1t0XSxpPXMuYWx0ZXJuYXRpdmUsbj1NYXRoLmFicyhpLmRpc2NvdW50VmFsdWUpOyghZXx8ZS52YWx1ZTxuKSYmKGU9e3ZhbHVlOm4saW5mbzpzfSl9cmV0dXJuIGUuaW5mb30oZCksbikpfX19fSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBPYmplY3Qua2V5cyhyKX1mdW5jdGlvbiB0KG8pe3JldHVybiByW29dfWZ1bmN0aW9uIHMoZSx0KXtyW2VdPW5ldyBvKGUsdCksd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJzZXQgUGFnZSBhcyAnIitlKyInICIpfWZ1bmN0aW9uIGkoKXtmb3IodmFyIG89T2JqZWN0LmtleXMociksZT0wO2U8by5sZW5ndGg7ZSsrKXt2YXIgdD1yW29bZV1dO2lmKHQuc2VsZWN0b3Ioe21vYmlsZTpkLmlzTW9iaWxlfSkpcmV0dXJuIHQubmFtZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBuKG8sZSl7dmFyIHM9aSgpO3dpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrbysiXSBsb2FkIGJ1bmRsZSBvbiAnIitzKyInIHBhZ2UgIikscyYmdChzKS5sb2FkQnVuZGxlKG8sZSl9dmFyIHI9e307cmV0dXJue2dldFBhZ2VOYW1lczplLGdldFBhZ2U6dCxzZXRQYWdlOnMsZ2V0Q3VycmVudFBhZ2U6aSxsb2FkOm59fSgpO3JldHVybntnZXRVSTpyLGdldFRvb2xzOmEsZ2V0Q3VzdG9tTGliOmMsbG9hZFN3b2dvOmkscmVsb2FkU3dvZ286bn19KCk7d2luZG93LnN3b2dvLnVpPVN3b2dvLmdldFVJKCksd2luZG93LnN3b2dvLnRvb2xzPVN3b2dvLmdldFRvb2xzKCksd2luZG93LnN3b2dvLmN1c3RvbUxpYj1Td29nby5nZXRDdXN0b21MaWIoKSx3aW5kb3cuc3dvZ28uZXZlbnRzPXt9LHdpbmRvdy5zd29nby5jdXN0b21GdW5jdGlvbnM9e30sd2luZG93LnN3b2dvLmJ1bmRsZVJlcXVlc3RzPVtdOw=="].forEach(function(d){
this.d(d)}),window.swogoDebug=!1,window.swogoDebug=null!==window.sessionStorage.getItem("swogoDebug")||window.swogoDebug;var templates={default:{container:'<div class="swogo-container"><h1 class="swogo-container-title">PACKS RECOMENDADOS</h1><br><div class="swogo-bundle"></div><div class="swogo-more-bundles swogo-action-close"></div></div>',bundle:'<div class="swogo-bundle"><div class="swogo-main"><div class="swogo-bundle-default"><div class="swogo-host"></div><div class="swogo-accessory"></div><div class="swogo-alternatives-box"></div><div class="swogo-options-box-container"><div class="swogo-options-box"></div></div></div><div class="swogo-summary" ></div></div></div>',host:'<div class="swogo-host"><div class = "swogo-sku swogo-invisible" data-text = "host.sku"></div><div class = "swogo-addCart swogo-invisible" data-text = "host.addCart"></div><div class = "swogo-category swogo-invisible" data-text = "host.category"></div><div class="swogo-brand swogo-invisible" data-text = "host.brand"></div><div class="swogo-save swogo-invisible"></div><section class="swogo-product-images-container"><img class="swogo-product-image"  data-src="host.images" data-title="host.title" data-alt ="host.title"/></section><div class="swogo-product-link"><div class="swogo-title" data-text = "host.title"></div></div><div class="swogo-extra-info-container"><div class="swogo-extra-info-label"></div><div class="swogo-bundle-element-extra-info"><div class="badges_options"><div class="badges_header">Envo</div><div class="delivery_2 hidden"><a class="js-has-express-delivery">2 horas</a></div><div class="unavailable_delivery hidden">Sin envo</div><div class="standard_delivery hidden">Estndar</div><div class="delivery_48"><a class="modal">48 horas</a></div></div><div class="delivery_options"><div class="delivery_header"><a data-event="click_links" href="/info/click-collect" class="modal event">Click &amp; Collect</a></div>Disponible en nuestros centros, Supercor y otros puntos</div></div></div><div class="swogo-discount swogo-invisible"></div><div class="swogo-price" data-text = "host.price"></div><div class="swogo-rrp swogo-invisible" data-text = "host.rrPrice"></div><div class="swogo-rating swogo-invisible" data-text = "host.rating"></div><div class="swogo-quantity-div swogo-invisible"><div class="swogo-quantity-btn decrease">-</div><input class="swogo-quantity" placeholder="1" min="1" max="99"><div class="swogo-quantity-btn increase">+</div></div><div class="swogo-change-size-container"><div class="swogo-sizes-container"><div class="swogo-size" data-text="host.size"></div></div><div class="swogo-button-filter-host" data-filter="size">Cambiar</div></div></div>',accessory:'<div class="swogo-accessory" ><div class = "swogo-sku swogo-invisible" data-text = "accessory.sku"></div><div class = "swogo-addCart swogo-invisible" data-text = "accessory.addCart"></div><div class = "swogo-category swogo-invisible" data-text = "accessory.category"></div><div class="swogo-brand swogo-invisible" data-text = "accessory.brand"></div><div class="swogo-save swogo-invisible"></div><section class="swogo-product-images-container"><a class= "swogo-product-link"  target="_blank" data-href="accessory.url"><img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/></a></section><a class= "swogo-product-link"  target="_blank" data-href="accessory.url"><div class="swogo-title" data-text = "accessory.title"></div></a><div class="swogo-extra-info-container"><div class="swogo-extra-info-label"></div><div class="swogo-bundle-element-extra-info"><div class="badges_options"><div class="badges_header">Envo</div><div class="delivery_2 hidden"><a class="js-has-express-delivery">2 horas</a></div><div class="unavailable_delivery hidden">Sin envo</div><div class="standard_delivery hidden">Estndar</div><div class="delivery_48"><a class="modal">48 horas</a></div></div><div class="delivery_options"><div class="delivery_header"><a data-event="click_links" href="/info/click-collect" class="modal event">Click &amp; Collect</a></div>Disponible en nuestros centros, Supercor y otros puntos</div></div></div><div class="swogo-discount swogo-invisible"></div><div class="swogo-price" data-text = "accessory.price"></div><div class="swogo-rrp swogo-invisible" data-text = "accessory.rrPrice"></div><div class="swogo-rating swogo-invisible" data-text = "accessory.rating"></div><div class="swogo-quantity-div  swogo-invisible"><div class="swogo-quantity-btn decrease">-</div><input class="swogo-quantity" placeholder="1" min="1" max="99"><div class="swogo-quantity-btn increase">+</div></div><div class="swogo-change-size-container"><div class="swogo-sizes-container"><div class="swogo-size" data-text="accessory.size"></div></div><div class="swogo-button-filter" data-filter="size">Cambiar</div></div><div class="swogo-button-alternatives"> </div><div class="swogo-button-add-to-cart swogo-invisible"> add product </div><div class="swogo-button-filter swogo-invisible" data-filter = "color"> color </div><div class="swogo-button-filter swogo-invisible" data-filter = "storeId"> storeId </div></div>',summary:'<div class="swogo-summary"><div class="swogo-save swogo-invisible"></div><div class="swogo-save-price swogo-invisible"></div><div class="swogo-bundle-summary-info swogo-invisible"> <span class="swogo-icon-info icon icon-info" data-layer="deliveryinformation"></span> </div><div class="swogo-buttons-container"><div class="swogo-button-add-to-cart"></div><div class="swogo-discount swogo-invisible"></div><div class="swogo-price"></div><div class="swogo-rrp"></div></div></div>',alternativesBox:'<div class="swogo-alternatives-box"><div class="swogo-alternative"></div></div>',optionsBox:'<div class="swogo-options-box"><div class="swogo-option"></div></div>',alternative:'<div class="swogo-alternative"><div class = "swogo-sku swogo-invisible" data-text = "accessory.sku"></div><div class = "swogo-addCart swogo-invisible" data-text = "accessory.addCart"></div><div class = "swogo-category swogo-invisible" data-text = "accessory.category"></div><div class="swogo-brand swogo-invisible" data-text = "accessory.brand"></div><div class="swogo-save swogo-invisible"></div><section class="swogo-product-images-container"><a class= "swogo-product-link"  target="_blank" data-href="accessory.url"><img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/></a></section><a class="swogo-product-link" target="_blank" data-href="accessory.url"><div class="swogo-title" data-text = "accessory.title"></div></a><div class="swogo-extra-info-container"><div class="swogo-extra-info-label"></div><div class="swogo-bundle-element-extra-info"><div class="badges_options"><div class="badges_header">Envo</div><div class="delivery_2 hidden"><a class="js-has-express-delivery">2 horas</a></div><div class="unavailable_delivery hidden">Sin envo</div><div class="standard_delivery hidden">Estndar</div><div class="delivery_48"><a class="modal">48 horas</a></div></div><div class="delivery_options"><div class="delivery_header"><a data-event="click_links" href="/info/click-collect" class="modal event">Click &amp; Collect</a></div>Disponible en nuestros centros, Supercor y otros puntos</div></div></div><div class="swogo-discount swogo-invisible" data-text = "accessory.discount"></div><div class="swogo-price" data-text = "accessory.price"></div><div class="swogo-rrp swogo-invisible" data-text = "accessory.rrPrice"></div><div class="swogo-rating swogo-invisible" data-text = "accessory.rating"></div><div class="swogo-quantity-div  swogo-invisible"><div class="swogo-quantity-btn decrease">-</div><input class="swogo-quantity" placeholder="1" min="1" max="99"><div class="swogo-quantity-btn increase">+</div></div><div class="swogo-change-size-container"><div class="swogo-sizes-container"><div class="swogo-size" data-text="accessory.size"></div></div><div class="swogo-button-filter" data-filter="size">Cambiar</div></div><div class="swogo-button-alternatives"> </div><div class="swogo-button-select-alternative">  </div><div class="swogo-button-add-to-cart swogo-invisible"> add product </div><div class="swogo-button-filter swogo-invisible" data-filter="color"> color </div><div class="swogo-button-filter swogo-invisible" data-filter = "storeId"> storeId </div></div>',option:'<div class="swogo-option"><div class = "swogo-sku swogo-invisible" data-text = "accessory.sku"></div><div class = "swogo-addCart swogo-invisible" data-text = "accessory.addCart"></div><div class = "swogo-category swogo-invisible" data-text = "accessory.category"></div><div class="swogo-brand swogo-invisible" data-text = "accessory.brand"></div><div class="swogo-save swogo-invisible"></div><section class="swogo-product-images-container"><a class= "swogo-product-link"  target="_blank" data-href="accessory.url"><img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/></a></section><a class="swogo-product-link" target="_blank" data-href="accessory.url"><div class="swogo-title" data-text = "accessory.title"></div></a><div class="swogo-extra-info-container"><div class="swogo-extra-info-label"></div><div class="swogo-bundle-element-extra-info"><div class="badges_options"><div class="badges_header">Envo</div><div class="delivery_2 hidden"><a class="js-has-express-delivery">2 horas</a></div><div class="unavailable_delivery hidden">Sin envo</div><div class="standard_delivery hidden">Estndar</div><div class="delivery_48"><a class="modal">48 horas</a></div></div><div class="delivery_options"><div class="delivery_header"><a data-event="click_links" href="/info/click-collect" class="modal event">Click &amp; Collect</a></div>Disponible en nuestros centros, Supercor y otros puntos</div></div></div><div class="swogo-discount swogo-invisible" data-text = "accessory.discount"></div><div class="swogo-price" data-text = "accessory.price"></div><div class="swogo-rrp swogo-invisible" data-text = "accessory.rrPrice"></div><div class="swogo-rating swogo-invisible" data-text = "accessory.rating"></div><div class="swogo-quantity-div  swogo-invisible"><div class="swogo-quantity-btn decrease">-</div><input class="swogo-quantity" placeholder="1" min="1" max="99"><div class="swogo-quantity-btn increase">+</div></div><div class="swogo-change-size-container"><div class="swogo-sizes-container"><div class="swogo-size" data-text="accessory.size"></div></div><div class="swogo-button-filter" data-filter="size">Cambiar</div></div><div class="swogo-button-select-option"><div class="swogo-size" data-text="accessory.size"></div></div><div class="swogo-button-alternatives"> </div><div class="swogo-button-select-alternative">  </div><div class="swogo-button-add-to-cart swogo-invisible"> add product </div><div class="swogo-button-filter swogo-invisible" data-filter="color"> color </div><div class="swogo-button-filter swogo-invisible" data-filter = "storeId"> storeId </div></div>'}},pdpBundle={template:{container:templates.default.container,bundle:templates.default.bundle,host:templates.default.host,accessory:templates.default.accessory,summary:templates.default.summary,alternativesBox:templates.default.alternativesBox,alternative:templates.default.alternative,optionsBox:templates.default.optionsBox,option:templates.default.option},displayRoles:{bundles:5,host:1,accessories:2,alternatives:5,options:4},matchingConfig:"pdp",hostSizesContainerClass:"swogo-host-options-box",minProdQuantity:1,maxProdQuantity:99,loadBundle:function(d,l,b){var c,Z;window.innerWidth>765?(c=document.querySelector("#product-images"),Z="beforeEnd"):(c=document.querySelector(".c12.delivery-footer"),Z="afterEnd");var i,n=document.querySelector(".swogo-container-pdp");c&&Z&&!n?(c.insertAdjacentHTML(Z,d.innerHTML),i=document.querySelector(".swogo-container-pdp")):i=n,b(i)},customization:{getBundleHostSku:function(d){var l=null;try{l=d.querySelector(".swogo-host .swogo-sku").textContent}catch(d){swogo.tools.printLog("warning","Failed to gather host product sku",d)}return l},getBundleIdx:function(d){var l=-1;try{l=d.getAttribute("data-id")}catch(d){swogo.tools.printLog("warning","Failed to gather bundle index",d)}return l},setRrpDiscounts:function(d){if(d){d.querySelectorAll(".swogo-host, .swogo-accessory, .swogo-alternative").forEach(function(d){""!=d.querySelector(".swogo-rrp").textContent.replace(String.fromCharCode(8364),"")&&d.querySelector(".swogo-rrp").textContent!==d.querySelector(".swogo-price").textContent&&window.swogo.tools.hasClassName(d.querySelector(".swogo-discount"),"swogo-invisible")&&(window.swogo.tools.removeClass(d.querySelector(".swogo-rrp"),"swogo-invisible"),window.swogo.tools.addClass(d.querySelector(".swogo-price"),"swogo-has-rrp"))})}},setExtraBundleSpacingState:function(d){function l(d){var l=!1;d.forEach(function(d){if(!l){b(d)&&(l=!0)}}),d.forEach(function(d){if(b(d)||!l){var c=d.querySelector(".swogo-price-spacing");c&&c.classList.remove("swogo-price-spacing")}else{var Z=d.querySelector(".swogo-rrp:not(.swogo-invisible), .swogo-price");Z&&Z.classList.add("swogo-price-spacing")}})}function b(d){var l=d.querySelector(".swogo-rrp:not(.swogo-invisible), .swogo-price.swogo-line-throug"),b=d.querySelector(".swogo-has-rrp, .swogo-discount:not(.swogo-invisible), .swogo-price:not(.swogo-line-throug)");return!(!l||!b||l===b)}if(d){var c=d.querySelectorAll(".swogo-accessory .swogo-change-size-container"),Z=d.querySelector(".swogo-host .swogo-change-size-container:not(.swogo-invisible), .swogo-accessory .swogo-change-size-container:not(.swogo-invisible)");c.forEach(function(d){Z?d.classList.add("swogo-spacing"):d.classList.remove("swogo-spacing")});l(d.querySelectorAll(".swogo-host, .swogo-accessory"));l(d.querySelectorAll(".swogo-alternative"))}},addMessages:function(d){var l=!1,b=d.getAttribute("data-host-index"),c=d.querySelectorAll(".swogo-bundle"),Z=c[0];c.forEach(function(d,c){if(!l){var i=pdpBundle.bundlesData[b][c].messages.filter(function(d){return d.message&&"discount"!==d.type&&d.priority&&(!d.variant||"B"===d.variant)}).reduce(function(d,l){return d.priority>l.priority?d:l},{priority:0}),n=pdpBundle.bundlesData[b][c].messages.filter(function(d){return"discount"===d.type&&""!==d.message}),m=i;!m.message&&n.length&&(m=n[0]),m&&m.message&&(l=!0,Z.insertAdjacentHTML("afterBegin",'<div class="swogo-bundle-message">'+m.message+"</div>"))}})},updateProductQuantity:function(d,l,b){function c(){return Math.round(100*(S-Y+v))/100}if(d&&l){var Z=l.classList.contains("swogo-host");if(b<1);else{var i,n=pdpBundle.customization.getBundleHostSku(d),m=pdpBundle.customization.getBundleIdx(d),o=pdpBundle.bundlesData[n][m];if(Z)i=o.host;else{var s=l.getAttribute("data-accessory-id"),G=l.getAttribute("data-id");i=o.accessories[s][G]}i.quantity=b;var t=i.modifiers?i.modifiers.price:i.price,u=i.modifiers?i.modifiers.discountPrice:i.discountPrice?i.discountPrice:t,a=i.modifiers?i.modifiers.rrPrice:i.rrPrice?i.rrPrice:t,W=u*b,v=t*b,y=a*b,p=l.querySelector(".swogo-discount"),e=l.querySelector(".swogo-price"),X=l.querySelector(".swogo-rrp"),V=pdpBundle.customization.unformatPrice(p.textContent)||t,Y=pdpBundle.customization.unformatPrice(e.textContent),L=pdpBundle.customization.unformatPrice(X.textContent)||t;p.textContent=W.toString(),e.textContent=v.toString(),X.textContent=y.toString(),pdpBundle.customization.formatPrice(p),pdpBundle.customization.formatPrice(e),pdpBundle.customization.formatPrice(X);var R=d.querySelector(".swogo-summary"),N=R.querySelector(".swogo-discount"),h=R.querySelector(".swogo-price"),x=R.querySelector(".swogo-rrp"),I=pdpBundle.customization.unformatPrice(N.textContent),S=pdpBundle.customization.unformatPrice(h.textContent),z=pdpBundle.customization.unformatPrice(x.textContent);if(o.summary.modifiers){switch(o.discounts.bundle[0].tags.price.type){case"percent":var K=o.discounts.bundle[0].tags.price.value;I=S-S*K/100;break;case"fixed":var K=S-I;I=c()-K;break;default:I=o.discounts.bundle[0].tags.price.value}}else I=Math.round(100*(I-V+W))/100;S=c(),z=Math.round(100*(z-L+y))/100,N.textContent=I.toString(),h.textContent=S.toString(),x.textContent=z.toString(),pdpBundle.customization.formatPrice(N),pdpBundle.customization.formatPrice(h),pdpBundle.customization.formatPrice(x)}}},addQuantitySelectorActions:function(d){function l(d,l){if(d){var b=""===d.value?1:parseInt(d.value);return d.value=Math.min(pdpBundle.maxProdQuantity,Math.max(pdpBundle.minProdQuantity,b+l)),parseInt(d.value)}}if(d){d.querySelectorAll(".swogo-host, .swogo-accessory").forEach(function(b){if(b){var c=b.querySelector(".swogo-quantity-div");if(c){var Z=c.querySelector(".swogo-quantity"),i=c.querySelector(".swogo-quantity-btn.increase"),n=c.querySelector(".swogo-quantity-btn.decrease");i.onclick=function(){var c=l(Z,1);pdpBundle.customization.updateProductQuantity(d,b,c)},n.onclick=function(){var c=l(Z,-1);pdpBundle.customization.updateProductQuantity(d,b,c)}}}})}},setQuantitySelectorsVisibility:function(d){function l(){return i.host.shouldDisplayQuantitiesUI}function b(d,l){return i.accessories[d][l].shouldDisplayQuantitiesUI}var c=pdpBundle.customization.getBundleHostSku(d),Z=pdpBundle.customization.getBundleIdx(d),i=pdpBundle.bundlesData[c][Z],n=!1,m=d.querySelectorAll(".swogo-host, .swogo-accessory");m.forEach(function(d){if(d)if(d.classList.contains("swogo-host"))l()&&(n=!0,d.querySelector(".swogo-quantity-div").classList.remove("swogo-invisible"));else{var c=d.getAttribute("data-accessory-id"),Z=d.getAttribute("data-id");b(c,Z)&&(n=!0,d.querySelector(".swogo-quantity-div").classList.remove("swogo-invisible"))}}),n?function(d){d.forEach(function(d){if(d){var l=d.querySelector(".swogo-quantity-div");l.classList.contains("swogo-invisible")&&(l.classList.add("swogo-blank"),l.classList.remove("swogo-invisible"))}})}(m):function(d){d.forEach(function(d){if(d){var l=d.querySelector(".swogo-quantity-div");l.classList.remove("swogo-blank"),l.classList.add("swogo-invisible")}})}(m)},setQuantitySelectorsValues:function(d){function l(){return i.host.shouldDisplayQuantitiesUI}function b(d,l){return i.accessories[d][l].shouldDisplayQuantitiesUI}var c=pdpBundle.customization.getBundleHostSku(d),Z=pdpBundle.customization.getBundleIdx(d),i=pdpBundle.bundlesData[c][Z];d.querySelectorAll(".swogo-host, .swogo-accessory").forEach(function(c){if(c)if(c.classList.contains("swogo-host"))l()&&i.host.quantity&&i.host.quantity>pdpBundle.minProdQuantity&&i.host.quantity<=pdpBundle.maxProdQuantity&&(c.querySelector(".swogo-quantity").value=i.host.quantity,pdpBundle.customization.updateProductQuantity(d,c,i.host.quantity));else{var Z=c.getAttribute("data-accessory-id"),n=c.getAttribute("data-id");b(Z,n)&&i.accessories[Z][n].quantity&&i.accessories[Z][n].quantity>pdpBundle.minProdQuantity&&i.accessories[Z][n].quantity<=pdpBundle.maxProdQuantity&&(c.querySelector(".swogo-quantity").value=i.accessories[Z][n].quantity,pdpBundle.customization.updateProductQuantity(d,c,i.accessories[Z][n].quantity))}})},addHostSizeClickEvents:function(d,l,b){l.querySelectorAll(".swogo-option").forEach(function(l,c){l.onclick=function(){b[c].sizeBtn.click(),d.querySelector(".swogo-host .swogo-button-filter-host").click()}})},buildHostSizesContainerHTML:function(d){var l="<div class='"+pdpBundle.hostSizesContainerClass+" swogo-invisible'>";return d.forEach(function(d){l+="<div class='swogo-option'><div class='swogo-button-select-option'>"+d.sizeText+"</div></div>"}),l+="</div>"},getAvailableHostSizes:function(){var d=[],l=document.querySelector("#talla-value");if(!l)return[];l.click(),l.click();var b=l.parentElement,c=b.querySelector("#variant-select");return(c?c.querySelectorAll("a.available"):[]).forEach(function(l){if(l){var b=getVariantNameFromButton(l);d.push({sizeText:b,sizeBtn:l})}}),d},hideHostSizeElements:function(d){if(d){d.querySelectorAll(".swogo-host").forEach(function(d){if(d){var l=d.querySelector(".swogo-change-size-container");swogo.tools.addClass(l,"swogo-invisible")}});d.querySelectorAll("."+pdpBundle.hostSizesContainerClass).forEach(function(d){d&&swogo.tools.addClass(d,"swogo-invisible")})}},addShowHostSizesListener:function(d){function l(d){var l=d.querySelector(".swogo-button-filter.swogo-enable");l&&l.click()}function b(d){var l=d.querySelector(".swogo-button-alternatives.swogo-enable");l&&l.click()}if(d)try{var c=d.querySelectorAll(".swogo-bundle"),Z=pdpBundle.customization.getAvailableHostSizes();if(!Z||0===Z.length)return swogo.tools.printLog("warning","No host sizes found."),void pdpBundle.customization.hideHostSizeElements(d);var i=pdpBundle.customization.buildHostSizesContainerHTML(Z);c.forEach(function(d){var c=d.querySelector("."+pdpBundle.hostSizesContainerClass);if(!c){d.querySelector(".swogo-options-box").insertAdjacentHTML("afterEnd",i),c=d.querySelector("."+pdpBundle.hostSizesContainerClass),pdpBundle.customization.addHostSizeClickEvents(d,c,Z);var n=d.querySelector(".swogo-host .swogo-change-size-container"),m=n.querySelector(".swogo-button-filter-host"),o=d.querySelectorAll(".swogo-accessory .swogo-button-alternatives:not(.swogo-remove)");m.onclick=function(){swogo.tools.hasClassName(c,"swogo-invisible")?(l(d),b(d),swogo.tools.removeClass(c,"swogo-invisible"),swogo.tools.addClass(n,"swogo-enable"),swogo.tools.addClass(c.parentNode,"swogo-enable"),o&&o.length>0&&(pdpBundle.customization.moveAllAlternativeBtns(d,"bottom",c.parentNode.offsetHeight-4),swogo.tools.addClass(c.parentNode,"swogo-space-bottom"))):(pdpBundle.customization.moveAllAlternativeBtns(d,"top"),swogo.tools.addClass(c,"swogo-invisible"),swogo.tools.removeClass(n,"swogo-enable"),swogo.tools.removeClass(c.parentNode,"swogo-enable"),swogo.tools.removeClass(c.parentNode,"swogo-space-bottom"))}}})}catch(d){swogo.tools.printLog("error","addShowHostSizesListener failed: "+d.message+"\n"+d.stack)}},moveAllAlternativeBtns:function(d,l,b){var c=d.querySelectorAll(".swogo-button-alternatives:not(.swogo-remove)");"top"===l?c.forEach(function(d){swogo.tools.removeClass(d,"swogo-bottom"),d.style.marginTop=""}):"bottom"===l?c.forEach(function(d){swogo.tools.addClass(d,"swogo-bottom"),b&&(d.style.marginTop=b+7+"px")}):swogo.tools.printLog("error","moveAllAlternativeBtns failed: invalid target of '"+l+"'.")},addExtraClickEventsToAccessoriesSizeClick:function(d){if(d){d.querySelectorAll(".swogo-button-select-option:not(.added-extra-click-events)").forEach(function(l){if(l){var b=l.parentNode.parentNode.parentNode;swogo.tools.addClass(l,"added-extra-click-events"),swogo.tools.addEvent(l,"click",function(){swogo.tools.removeClass(b,"swogo-enable"),pdpBundle.customization.moveAllAlternativeBtns(d,"top")})}})}},addExtraClickEventsToAlternativeChange:function(d){if(d){d.querySelectorAll(".swogo-change-size-container:not(.added-extra-click-events)").forEach(function(l){l&&(swogo.tools.addClass(l,"added-extra-click-events"),swogo.tools.addEvent(l,"click",function(){pdpBundle.customization.moveAllAlternativeBtns(d,"top")}))})}},hideAccessorySizeElements:function(d){if(d){var l=d.querySelector(".swogo-change-size-container");l&&swogo.tools.addClass(l,"swogo-invisible")}},checkAccessoriesSizes:function(d){if(d){var l=d.querySelectorAll(".swogo-accessory");l&&l.forEach(function(d){if(d){var l=d.querySelector(".swogo-size");l&&""!==l.textContent.trim()||pdpBundle.customization.hideAccessorySizeElements(d)}})}},getDataForAllProds:function(d){function l(l){try{JSON.parse(l)}catch(d){return console.error("error parsing data"),void(pdpBundle.prodsExtraInfo=null)}pdpBundle.prodsExtraInfo=JSON.parse(l),pdpBundle.prodsExtraInfo.RESERVE&&(pdpBundle.prodsExtraInfo.ADD=pdpBundle.prodsExtraInfo.ADD.concat(pdpBundle.prodsExtraInfo.RESERVE)),pdpBundle.customization.updateExtraInfo(d)}var b=[],c=d.querySelectorAll(".swogo-host, .swogo-accessory, .swogo-alternative");if(c&&0!==c.length){c.forEach(function(d){b.push(d.querySelector(".swogo-sku").textContent)}),b=b.filter(function(d,l,b){return l==b.indexOf(d)}),pdpBundle.allSkus=b;var Z="skus="+encodeURIComponent(pdpBundle.allSkus.join(","));pdpBundle.prodsExtraInfo=1,swogo.tools.ajaxRequest({url:"/api/stock",payload:Z,method:"get"},l,l,!1)}},updateExtraInfo:function(d){var l=d.querySelectorAll(".swogo-host, .swogo-accessory, .swogo-alternative");l.forEach(function(d){var l=(d.querySelector(".swogo-sku").textContent,d.querySelector(".badges_options")),b=d.querySelector(".delivery_options");l.innerHTML='<div class="badges_header"><span class="delivery icon"></span>Envo</div><div class="delivery_2 hidden"><a class="js-has-express-delivery">2 horas</a></div><div class="unavailable_delivery hidden">Sin envo</div><div class="standard_delivery hidden">Estndar</div><div class="delivery_48 hidden"><a class="modal">48 horas</a></div>',b.innerHTML='<div class="delivery_header"><span class="orders icon dataholder"></span><a data-event="click_links" href="/info/click-collect" class="modal event">Click &amp; Collect</a></div>',pdpBundle.customization.getFillExtraInformation(d,l,b)}),d.querySelectorAll(".swogo-accessory.swogo-out-stock").forEach(function(d){var l=pdpBundle.customization.getParentByClass(d,"swogo-bundle"),b=d.getAttribute("data-accessory-id"),c=l.querySelector('.swogo-alternatives-box[data-accessory-id="'+b+'"]'),Z=c.querySelector(".swogo-alternative .swogo-button-select-alternative");if(Z)return void Z.click();l.parentElement&&l.parentElement.removeChild(l)}),document.querySelector(".swogo-container-pdp .swogo-bundle")&&d.classList.add("swogo-show-pdp")},getFillExtraInformation:function(d,l,b){var c=d.querySelector(".swogo-sku").textContent,Z=pdpBundle.prodsExtraInfo;if(Z&&Z.S48.indexOf(c)>=0&&Z.product_badges[c].home_delivery?window.swogo.tools.removeClass(l.querySelector(".delivery_48"),"hidden"):Z&&!Z.S48.indexOf(c)>=0&&Z.product_badges[c].home_delivery?window.swogo.tools.removeClass(l.querySelector(".standard_delivery"),"hidden"):window.swogo.tools.removeClass(l.querySelector(".unavailable_delivery"),"hidden"),Z&&Z.product_badges[c].eci_pick_up&&Z.product_badges[c].sts_pick_up&&Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en nuestros centros, Supercor y otros puntos"):Z&&Z.product_badges[c].eci_pick_up&&Z.product_badges[c].sts_pick_up&&!Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en nuestros centros y Supercor"):Z&&Z.product_badges[c].eci_pick_up&&!Z.product_badges[c].sts_pick_up&&!Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en nuestros centros"):Z&&Z.product_badges[c].eci_pick_up&&!Z.product_badges[c].sts_pick_up&&Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en nuestros centros y otros puntos"):Z&&!Z.product_badges[c].eci_pick_up&&Z.product_badges[c].sts_pick_up&&Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en Supercor y otros puntos"):Z&&!Z.product_badges[c].eci_pick_up&&Z.product_badges[c].sts_pick_up&&!Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en Supercor"):Z&&!Z.product_badges[c].eci_pick_up&&!Z.product_badges[c].sts_pick_up&&Z.product_badges[c].points_pick_up?b.insertAdjacentHTML("beforeEnd","Disponible en puntos de recogida"):b.insertAdjacentHTML("beforeEnd","No disponible para recogida"),Z&&Z.ADD&&(Z.ADD.indexOf(c)<0||Z.no_stock.indexOf(c)>=0)&&Z.CC_ONLY&&Z.CC_ONLY.indexOf(c)<0){if(d.classList.contains("swogo-host")){var i=pdpBundle.customization.getParentByClass(d,"swogo-bundle");i.parentElement.removeChild(i)}d.classList.contains("swogo-alternative")&&d.parentElement.removeChild(d),d.classList.contains("swogo-accessory")&&d.classList.add("swogo-out-stock")}},getParentByClass:function(d,l){return d.classList.contains(l)?d:pdpBundle.customization.getParentByClass(d.parentElement,l)},formatPrice:function(d){if(d){try{var l=d.textContent;d.textContent.indexOf(String.fromCharCode(8364))===-1&&d.textContent.indexOf(",")==-1&&function(d){return Math.floor(d)===d?0:d.toString().split(".")[1].length||0}(l)>2&&(l=parseFloat(l),isNaN(l)||""==l||(d.textContent=+l.toFixed(2)))}catch(d){}var b=d.textContent.indexOf("-")!==-1;b&&(d.innerHTML=d.innerHTML.substr(1));var c,Z,i;d.textContent.indexOf(",")===-1&&d.textContent.indexOf(".")!==-1&&d.textContent.indexOf(String.fromCharCode(8364))===-1&&(c=d.textContent.indexOf("."),i=d.textContent.substr(c+1,d.textContent.length-c-1),i.length<2?i=i.substr(0,1)+"0":i.length>2&&(i=i.substr(0,2)),i+=String.fromCharCode(8364),d.innerHTML=d.textContent.substr(0,c)+',<span class="swogo-price-decimal">'+i+"</span>"),d.textContent.indexOf(".")===-1&&(c=d.textContent.indexOf(","),c===-1&&(c=d.textContent.length),Z=d.textContent.substr(0,c),i=d.textContent.substr(c,d.textContent.length-c),(Z.length>3&&d.textContent.indexOf(String.fromCharCode(8364))===-1||Z.length>4&&d.textContent.indexOf(String.fromCharCode(8364))!==-1||Z.length>3&&d.textContent.indexOf(",")!==-1)&&(Z=Z.substr(0,Z.length-3)+"."+Z.substr(Z.length-3,3),d.innerHTML=Z+'<span class="swogo-price-decimal">'+i+"</span>")),b&&(d.innerHTML="-"+d.innerHTML),d.textContent.indexOf(String.fromCharCode(8364))===-1&&(d.innerHTML=d.innerHTML+'<span class="swogo-price-decimal">'+String.fromCharCode(8364)+"</span>")}},unformatPrice:function(d){return parseFloat(d.replace(".","").replace(String.fromCharCode(8364),"").replace(",","."))},applyBundleDiscount:function(d,l){var b;window.swogo.customLib.cleanBundleDiscount(d,l),l.discounts&&window.swogo.ui.getCurrentPage().indexOf("payment")===-1&&(b=window.swogo.tools.getBundleProductsData(d,l),window.swogo.customLib.addValidDiscountsToBundleData(b,l),window.swogo.customLib.addValidDiscountsToBundleUI(d,l)),d.querySelectorAll(".swogo-accessory, .swogo-alternative").forEach(function(d){d.querySelector(".swogo-price.swogo-line-throug")&&d.querySelector(".swogo-save").classList.remove("swogo-invisible")})},executeOnBundleLoad:function(d){pdpBundle.customization.getDataForAllProds(d);var l=d.querySelectorAll(".swogo-bundle");if(0===l.length)return void d.parentNode.removeChild(d);pdpBundle.customization.addMessages(d),d.querySelectorAll(".swogo-price, .swogo-discount, .swogo-rrp, .swogo-save").forEach(function(d){pdpBundle.customization.formatPrice(d)}),l.forEach(function(d){window.swogo.customLib.hideAlternativesBtn(d),pdpBundle.customization.addQuantitySelectorActions(d),pdpBundle.customization.setQuantitySelectorsVisibility(d),pdpBundle.customization.setQuantitySelectorsValues(d),pdpBundle.customization.setRrpDiscounts(d)}),pdpBundle.customization.addShowHostSizesListener(d),l.forEach(function(d){pdpBundle.customization.setExtraBundleSpacingState(d)}),pdpBundle.customization.scrollToBundle()},executeOnOptionsLoad:function(d){},executeOnUpdatePrices:function(d){d.querySelectorAll(".swogo-price, .swogo-discount, .swogo-rrp, .swogo-save").forEach(function(d){pdpBundle.customization.formatPrice(d)}),d.querySelectorAll(".swogo-rrp").forEach(function(d){var l=d.parentNode.querySelector(".swogo-price"),b=d.parentNode.querySelector(".swogo-discount");if(!window.swogo.tools.hasClassName(b,"swogo-invisible"))return void window.swogo.tools.addClass(d,"swogo-invisible");l&&l.textContent==d.textContent||""==d.textContent.replace(String.fromCharCode(8364),"")?(window.swogo.tools.addClass(d,"swogo-invisible"),l.style.color="#000"):l.textContent!=d.textContent&&(l.style.color="#c00",window.swogo.tools.removeClass(d,"swogo-invisible"))}),pdpBundle.customization.setRrpDiscounts(d),pdpBundle.customization.checkAccessoriesSizes(d),pdpBundle.customization.addQuantitySelectorActions(d),pdpBundle.customization.setQuantitySelectorsVisibility(d),pdpBundle.customization.setExtraBundleSpacingState(d)},scrollToBundle:function(){if(window.location.href.includes("#swogo-bundles-section")){var d,l;d=document.querySelector(".swogo-container-pdp"),l=-30;var b=setInterval(function(){d&&(d.scrollIntoView(!0),window.scrollBy(0,l),clearInterval(b))},350)}}},addCart:function(d,l){var b={}
;b.line_items=[];var c=d.host,Z=d.accessories,i={};i.event="add_to_cart",i.products=[],i.vendor="sw";var n=function(d,l){if(l){var c=l.quantity,Z={storeId:"56",provider:"ECI"},n={storeId:"135"},m=!1;l.title.indexOf("MP_")>=0&&(n.provider=document.querySelector("#pid > a.add-to-cart").getAttribute("data-provider-id"),n.reference=document.querySelector("#pid > a.add-to-cart").getAttribute("data-product-sku"),m=!0),geci.moonshine.cart.cart.cart.line_items&&geci.moonshine.cart.cart.cart.line_items.length>0&&geci.moonshine.cart.cart.cart.line_items.forEach(function(d){d.product_id===l.sku&&(c+=d.units)});var o=l.extras?JSON.parse(l.extras):{};o.bundle_position=d?"host":"accessory";var s={reference:m&&n.reference||l.addCart.toString(),url:l.url.replace("https://www.elcorteingles.es",""),marketplace:m||void 0,store_id:m&&n.storeId||Z.storeId,provider:m&&n.provider||Z.provider,data_layer:o,units:c};b.line_items.push(s),i.products.push(o)}};n(!0,c),Z.forEach(function(d){n(!1,d)}),window.dataLayer.push(i),geci.moonshine.cart.getCart().addToCart(b)}};window.swogo.ui.setPage("pdp",function(){return document.querySelector(".item_page")}),window.swogo.ui.setPage("basket",function(){return(window.location.href.indexOf("/cart/")>=0||window.location.href.indexOf("/compra/cesta")>=0||window.location.href.indexOf("/compra/tramitacion/cesta")>=0)&&document.querySelector("#js-cart-viewport .line-item, #cart-viewport .line-item")}),window.swogo.ui.setPage("payment",function(){var d=null;try{d=parseInt(document.querySelector(".order-number").textContent.replace("Tu n"+String.fromCharCode(250)+"mero de pedido es ","")),("number"!=typeof d||isNaN(d)||0===d)&&(d=null)}catch(d){}return window.location.href.indexOf("/checkoutconfirma/")>=0||window.location.href.indexOf("/compra/confirmacion")>=0||window.location.href.indexOf("/tramitacion/confirmacion")>=0||null!==d});var pdpPage=window.swogo.ui.getPage("pdp");pdpPage.extractSKUs(function(){var d=[];try{var l=document.querySelector("#pid .dataholder"),b=JSON.parse(l.getAttribute("data-json")),c=b.variant||b.id;if(window.scrapeSelectedSkuOnly||!window.product)d.push(c.trim());else try{var Z=Object.keys(window.product),i=window.product[Z],n=Object.keys(i.skus);n.indexOf(c)>=0?d.push(c.trim()):n.forEach(function(l){d.push(l.trim())})}catch(l){swogo.tools.printLog("warning","Failed to gather variant skus"),d.push(c.trim())}}catch(d){window.swogo.tools.printLog("error","Product sku was not found.")}return d}),pdpPage.extractHostPrice(function(){return document.querySelector("#pid .product-price .current")?parseFloat(document.querySelector("#pid .product-price .current").textContent.replace(".","").replace(",",".")):void window.swogo.tools.printLog("warning","Product price to scrap was not found.")},"none"),pdpPage.addBundle("pdp",pdpBundle);var basketPage=window.swogo.ui.getPage("basket");basketPage.extractSKUs(function(){return[]}),basketPage.setProductsData(function(){var d=[];return document.querySelectorAll("#js-cart-viewport .line-item, #cart-viewport .line-item").forEach(function(l){var b=l.querySelector(".dataholder");if(l&&b&&b.getAttribute("data-json")&&b.getAttribute("data-scope")&&"product"===b.getAttribute("data-scope"))for(var c=l.querySelector(".cart-preview-units-text.js-cart-preview-units-text"),Z=c?c.value:1,i=l.getAttribute("data-product-reference").trim(),n=parseFloat(l.querySelector(".product-price .current").textContent.replace(".","").replace(",","."))/Z||null,m=l.querySelector(".title").innerHTML.split("<br>")[0];Z>0;)d.push({id:i,title:m,price:n}),Z--}),d});var paymentPage=window.swogo.ui.getPage("payment");paymentPage.extractSKUs(function(){return[]}),paymentPage.setOrderParams(function(){return{id:document.querySelector(".order-number")?document.querySelector(".order-number").textContent.replace("Tu n"+String.fromCharCode(250)+"mero de pedido es ",""):1}});var cssLink=document.createElement("link");if(cssLink.rel="stylesheet",cssLink.href="https://ui.swogo.com/elcorteinglesEs/B/style.css",document.querySelector("body").appendChild(cssLink),window.swogo.params={name:"elcorteinglesEs",language:"es"},"pdp"===window.swogo.ui.getCurrentPage())var MAX_TRIES=30,TIME_BETWEEN_TRIES=1e3,tries=0,swogoPdpIsReadyCheck=setInterval(function(){if(window.swogo.tools.printLog("log","Trying to met requirements"),document.querySelector("#pid .add-to-cart:not(.sold_out):not(.not_available)"))return window.swogo.tools.printLog("log","Requirements met - loading bundles"),clearInterval(swogoPdpIsReadyCheck),Swogo.loadSwogo(),void addVariantSwitchListener();tries>=MAX_TRIES&&(clearInterval(swogoPdpIsReadyCheck),window.swogo.tools.printLog("warning","Unable to load packages on this page - requirements not met")),tries++},TIME_BETWEEN_TRIES),SWOGO_ADDED_LISTENER_CLASS_NANE="added-swogo-listener",SWOGO_SELECTED_VARIANT_CLASS_NAME="selected-swogo-variant";else Swogo.loadSwogo();window.swogo.customFunctions.afterShowAlternativesBtnClick=function(d,l,b){try{d&&(closeAlternativeOptionBoxes(b),closeHostOptionBox(b),pdpBundle.customization.moveAllAlternativeBtns(b,"top"))}catch(d){swogo.tools.printLog("warning","afterShowAlternativesBtnClick failed: "+d.message+"\n"+d.stack)}},window.swogo.customFunctions.afterShowAccessoryOptionsBtnClick=function(d,l,b){try{b||(b=l.parentElement.parentElement.parentElement);var c=b.querySelectorAll(".swogo-accessory .swogo-button-alternatives:not(.swogo-remove)"),Z=l.querySelector(".swogo-change-size-container"),i=b.querySelector(".swogo-options-box");closeAlternativeOptionBoxes(b),closeHostOptionBox(b),d?(swogo.tools.addClass(Z,"swogo-enable"),swogo.tools.addClass(i.parentNode,"swogo-enable"),pdpBundle.customization.addExtraClickEventsToAccessoriesSizeClick(b),c&&c.length>0&&(swogo.tools.addClass(i.parentNode,"swogo-space-bottom"),pdpBundle.customization.moveAllAlternativeBtns(b,"bottom",i.parentNode.offsetHeight-5))):(swogo.tools.removeClass(Z,"swogo-enable"),swogo.tools.removeClass(i.parentNode,"swogo-enable"),swogo.tools.removeClass(i.parentNode,"swogo-space-bottom"),pdpBundle.customization.moveAllAlternativeBtns(b,"top"))}catch(d){swogo.tools.printLog("error","afterShowAccessoryOptionsBtnClick failed: "+d.message+"\n"+d.stack)}};